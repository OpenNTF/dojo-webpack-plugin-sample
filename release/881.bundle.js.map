{"version":3,"file":"881.bundle.js","mappings":"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AAA,EAAAA,EAJDF,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAICE,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAJDF,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAICE,EAAAA,EAAAA,EAJDF,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAICE,EAAAA,EAJDF,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAICE,EAAAA,EAJDF,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAICE,EAAAA,EAJDF,EAAAA,EAAAA,EAICE,EAAAA,EAAAA,EAOAQ,GAAAA,GAPAR,EAAAA,EAAAA,EAOAQ,GAAAA,GAPAR,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAiNT,OAAOhsC,GACP","sources":["webpack://dojo-webpack-plugin-sample/./node_modules/dojo/_base/html.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojo/fx.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojo/fx/easing.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/Chart.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/Chart2D.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/Element.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/Series.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/SimpleTheme.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/axis2d/Base.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/axis2d/Default.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/axis2d/Invisible.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/axis2d/common.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/bidi/Chart.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/bidi/_bidiutils.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/bidi/axis2d/Default.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Areas.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Bars.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Base.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Bubble.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Candlesticks.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/CartesianBase.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/ClusteredBars.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/ClusteredColumns.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Columns.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Default.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Grid.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Lines.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Markers.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/MarkersOnly.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/OHLC.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Pie.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Scatter.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Spider.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/Stacked.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/StackedAreas.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/StackedBars.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/StackedColumns.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/StackedLines.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/_PlotEvents.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/common.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/plot2d/commonStacked.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/scaler/common.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/scaler/linear.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/scaler/primitive.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/themes/Wetland.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/charting/themes/common.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/_base.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/_gfxBidiSupport.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/arc.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/bezierutils.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/canvas.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/decompose.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/fx.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/gradutils.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/matrix.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/path.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/shape.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/gfx/utils.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/functional.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/functional/array.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/functional/fold.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/functional/lambda.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/functional/object.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/functional/reversed.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/lang/utils.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/main.js","webpack://dojo-webpack-plugin-sample/./node_modules/dojox/string/BidiEngine.js"],"sourcesContent":["define([\"./kernel\", \"../dom\", \"../dom-style\", \"../dom-attr\", \"../dom-prop\", \"../dom-class\", \"../dom-construct\", \"../dom-geometry\"], function(dojo, dom, style, attr, prop, cls, ctr, geom){\n\t// module:\n\t//\t\tdojo/dom\n\n\t/*=====\n\treturn {\n\t\t// summary:\n\t\t//\t\tThis module is a stub for the core dojo DOM API.\n\t};\n\t=====*/\n\n\t// mix-in dom\n\tdojo.byId = dom.byId;\n\tdojo.isDescendant = dom.isDescendant;\n\tdojo.setSelectable = dom.setSelectable;\n\n\t// mix-in dom-attr\n\tdojo.getAttr = attr.get;\n\tdojo.setAttr = attr.set;\n\tdojo.hasAttr = attr.has;\n\tdojo.removeAttr = attr.remove;\n\tdojo.getNodeProp = attr.getNodeProp;\n\n\tdojo.attr = function(node, name, value){\n\t\t// summary:\n\t\t//\t\tGets or sets an attribute on an HTML element.\n\t\t// description:\n\t\t//\t\tHandles normalized getting and setting of attributes on DOM\n\t\t//\t\tNodes. If 2 arguments are passed, and a the second argument is a\n\t\t//\t\tstring, acts as a getter.\n\t\t//\n\t\t//\t\tIf a third argument is passed, or if the second argument is a\n\t\t//\t\tmap of attributes, acts as a setter.\n\t\t//\n\t\t//\t\tWhen passing functions as values, note that they will not be\n\t\t//\t\tdirectly assigned to slots on the node, but rather the default\n\t\t//\t\tbehavior will be removed and the new behavior will be added\n\t\t//\t\tusing `dojo.connect()`, meaning that event handler properties\n\t\t//\t\twill be normalized and that some caveats with regards to\n\t\t//\t\tnon-standard behaviors for onsubmit apply. Namely that you\n\t\t//\t\tshould cancel form submission using `dojo.stopEvent()` on the\n\t\t//\t\tpassed event object instead of returning a boolean value from\n\t\t//\t\tthe handler itself.\n\t\t// node: DOMNode|String\n\t\t//\t\tid or reference to the element to get or set the attribute on\n\t\t// name: String|Object\n\t\t//\t\tthe name of the attribute to get or set.\n\t\t// value: String?\n\t\t//\t\tThe value to set for the attribute\n\t\t// returns:\n\t\t//\t\twhen used as a getter, the value of the requested attribute\n\t\t//\t\tor null if that attribute does not have a specified or\n\t\t//\t\tdefault value;\n\t\t//\n\t\t//\t\twhen used as a setter, the DOM node\n\t\t//\n\t\t// example:\n\t\t//\t|\t// get the current value of the \"foo\" attribute on a node\n\t\t//\t|\tdojo.attr(dojo.byId(\"nodeId\"), \"foo\");\n\t\t//\t|\t// or we can just pass the id:\n\t\t//\t|\tdojo.attr(\"nodeId\", \"foo\");\n\t\t//\n\t\t// example:\n\t\t//\t|\t// use attr() to set the tab index\n\t\t//\t|\tdojo.attr(\"nodeId\", \"tabIndex\", 3);\n\t\t//\t|\n\t\t//\n\t\t// example:\n\t\t//\tSet multiple values at once, including event handlers:\n\t\t//\t|\tdojo.attr(\"formId\", {\n\t\t//\t|\t\t\"foo\": \"bar\",\n\t\t//\t|\t\t\"tabIndex\": -1,\n\t\t//\t|\t\t\"method\": \"POST\",\n\t\t//\t|\t\t\"onsubmit\": function(e){\n\t\t//\t|\t\t\t// stop submitting the form. Note that the IE behavior\n\t\t//\t|\t\t\t// of returning true or false will have no effect here\n\t\t//\t|\t\t\t// since our handler is connect()ed to the built-in\n\t\t//\t|\t\t\t// onsubmit behavior and so we need to use\n\t\t//\t|\t\t\t// dojo.stopEvent() to ensure that the submission\n\t\t//\t|\t\t\t// doesn't proceed.\n\t\t//\t|\t\t\tdojo.stopEvent(e);\n\t\t//\t|\n\t\t//\t|\t\t\t// submit the form with Ajax\n\t\t//\t|\t\t\tdojo.xhrPost({ form: \"formId\" });\n\t\t//\t|\t\t}\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\tStyle is s special case: Only set with an object hash of styles\n\t\t//\t|\tdojo.attr(\"someNode\",{\n\t\t//\t|\t\tid:\"bar\",\n\t\t//\t|\t\tstyle:{\n\t\t//\t|\t\t\twidth:\"200px\", height:\"100px\", color:\"#000\"\n\t\t//\t|\t\t}\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\tAgain, only set style as an object hash of styles:\n\t\t//\t|\tvar obj = { color:\"#fff\", backgroundColor:\"#000\" };\n\t\t//\t|\tdojo.attr(\"someNode\", \"style\", obj);\n\t\t//\t|\n\t\t//\t|\t// though shorter to use `dojo.style()` in this case:\n\t\t//\t|\tdojo.style(\"someNode\", obj);\n\n\t\tif(arguments.length == 2){\n\t\t\treturn attr[typeof name == \"string\" ? \"get\" : \"set\"](node, name);\n\t\t}\n\t\treturn attr.set(node, name, value);\n\t};\n\n\t// mix-in dom-class\n\tdojo.hasClass = cls.contains;\n\tdojo.addClass = cls.add;\n\tdojo.removeClass = cls.remove;\n\tdojo.toggleClass = cls.toggle;\n\tdojo.replaceClass = cls.replace;\n\n\t// mix-in dom-construct\n\tdojo._toDom = dojo.toDom = ctr.toDom;\n\tdojo.place = ctr.place;\n\tdojo.create = ctr.create;\n\tdojo.empty = function(node){ ctr.empty(node); };\n\tdojo._destroyElement = dojo.destroy = function(node){ ctr.destroy(node); };\n\n\t// mix-in dom-geometry\n\tdojo._getPadExtents = dojo.getPadExtents = geom.getPadExtents;\n\tdojo._getBorderExtents = dojo.getBorderExtents = geom.getBorderExtents;\n\tdojo._getPadBorderExtents = dojo.getPadBorderExtents = geom.getPadBorderExtents;\n\tdojo._getMarginExtents = dojo.getMarginExtents = geom.getMarginExtents;\n\tdojo._getMarginSize = dojo.getMarginSize = geom.getMarginSize;\n\tdojo._getMarginBox = dojo.getMarginBox = geom.getMarginBox;\n\tdojo.setMarginBox = geom.setMarginBox;\n\tdojo._getContentBox = dojo.getContentBox = geom.getContentBox;\n\tdojo.setContentSize = geom.setContentSize;\n\tdojo._isBodyLtr = dojo.isBodyLtr = geom.isBodyLtr;\n\tdojo._docScroll = dojo.docScroll = geom.docScroll;\n\tdojo._getIeDocumentElementOffset = dojo.getIeDocumentElementOffset = geom.getIeDocumentElementOffset;\n\tdojo._fixIeBiDiScrollLeft = dojo.fixIeBiDiScrollLeft = geom.fixIeBiDiScrollLeft;\n\tdojo.position = geom.position;\n\n\tdojo.marginBox = function marginBox(/*DomNode|String*/node, /*Object?*/box){\n\t\t// summary:\n\t\t//\t\tGetter/setter for the margin-box of node.\n\t\t// description:\n\t\t//\t\tGetter/setter for the margin-box of node.\n\t\t//\t\tReturns an object in the expected format of box (regardless\n\t\t//\t\tif box is passed). The object might look like:\n\t\t//\t\t`{ l: 50, t: 200, w: 300: h: 150 }`\n\t\t//\t\tfor a node offset from its parent 50px to the left, 200px from\n\t\t//\t\tthe top with a margin width of 300px and a margin-height of\n\t\t//\t\t150px.\n\t\t// node:\n\t\t//\t\tid or reference to DOM Node to get/set box for\n\t\t// box:\n\t\t//\t\tIf passed, denotes that dojo.marginBox() should\n\t\t//\t\tupdate/set the margin box for node. Box is an object in the\n\t\t//\t\tabove format. All properties are optional if passed.\n\t\t// example:\n\t\t//\t\tRetrieve the margin box of a passed node\n\t\t//\t|\tvar box = dojo.marginBox(\"someNodeId\");\n\t\t//\t|\tconsole.dir(box);\n\t\t//\n\t\t// example:\n\t\t//\t\tSet a node's margin box to the size of another node\n\t\t//\t|\tvar box = dojo.marginBox(\"someNodeId\");\n\t\t//\t|\tdojo.marginBox(\"someOtherNode\", box);\n\t\treturn box ? geom.setMarginBox(node, box) : geom.getMarginBox(node); // Object\n\t};\n\n\tdojo.contentBox = function contentBox(/*DomNode|String*/node, /*Object?*/box){\n\t\t// summary:\n\t\t//\t\tGetter/setter for the content-box of node.\n\t\t// description:\n\t\t//\t\tReturns an object in the expected format of box (regardless if box is passed).\n\t\t//\t\tThe object might look like:\n\t\t//\t\t`{ l: 50, t: 200, w: 300: h: 150 }`\n\t\t//\t\tfor a node offset from its parent 50px to the left, 200px from\n\t\t//\t\tthe top with a content width of 300px and a content-height of\n\t\t//\t\t150px. Note that the content box may have a much larger border\n\t\t//\t\tor margin box, depending on the box model currently in use and\n\t\t//\t\tCSS values set/inherited for node.\n\t\t//\t\tWhile the getter will return top and left values, the\n\t\t//\t\tsetter only accepts setting the width and height.\n\t\t// node:\n\t\t//\t\tid or reference to DOM Node to get/set box for\n\t\t// box:\n\t\t//\t\tIf passed, denotes that dojo.contentBox() should\n\t\t//\t\tupdate/set the content box for node. Box is an object in the\n\t\t//\t\tabove format, but only w (width) and h (height) are supported.\n\t\t//\t\tAll properties are optional if passed.\n\t\treturn box ? geom.setContentSize(node, box) : geom.getContentBox(node); // Object\n\t};\n\n\tdojo.coords = function(/*DomNode|String*/node, /*Boolean?*/includeScroll){\n\t\t// summary:\n\t\t//\t\tDeprecated: Use position() for border-box x/y/w/h\n\t\t//\t\tor marginBox() for margin-box w/h/l/t.\n\t\t//\n\t\t//\t\tReturns an object that measures margin-box (w)idth/(h)eight\n\t\t//\t\tand absolute position x/y of the border-box. Also returned\n\t\t//\t\tis computed (l)eft and (t)op values in pixels from the\n\t\t//\t\tnode's offsetParent as returned from marginBox().\n\t\t//\t\tReturn value will be in the form:\n\t\t//|\t\t\t{ l: 50, t: 200, w: 300: h: 150, x: 100, y: 300 }\n\t\t//\t\tDoes not act as a setter. If includeScroll is passed, the x and\n\t\t//\t\ty params are affected as one would expect in dojo.position().\n\t\tdojo.deprecated(\"dojo.coords()\", \"Use dojo.position() or dojo.marginBox().\");\n\t\tnode = dom.byId(node);\n\t\tvar s = style.getComputedStyle(node), mb = geom.getMarginBox(node, s);\n\t\tvar abs = geom.position(node, includeScroll);\n\t\tmb.x = abs.x;\n\t\tmb.y = abs.y;\n\t\treturn mb;\t// Object\n\t};\n\n\t// mix-in dom-prop\n\tdojo.getProp = prop.get;\n\tdojo.setProp = prop.set;\n\n\tdojo.prop = function(/*DomNode|String*/node, /*String|Object*/name, /*String?*/value){\n\t\t// summary:\n\t\t//\t\tGets or sets a property on an HTML element.\n\t\t// description:\n\t\t//\t\tHandles normalized getting and setting of properties on DOM\n\t\t//\t\tNodes. If 2 arguments are passed, and a the second argument is a\n\t\t//\t\tstring, acts as a getter.\n\t\t//\n\t\t//\t\tIf a third argument is passed, or if the second argument is a\n\t\t//\t\tmap of attributes, acts as a setter.\n\t\t//\n\t\t//\t\tWhen passing functions as values, note that they will not be\n\t\t//\t\tdirectly assigned to slots on the node, but rather the default\n\t\t//\t\tbehavior will be removed and the new behavior will be added\n\t\t//\t\tusing `dojo.connect()`, meaning that event handler properties\n\t\t//\t\twill be normalized and that some caveats with regards to\n\t\t//\t\tnon-standard behaviors for onsubmit apply. Namely that you\n\t\t//\t\tshould cancel form submission using `dojo.stopEvent()` on the\n\t\t//\t\tpassed event object instead of returning a boolean value from\n\t\t//\t\tthe handler itself.\n\t\t// node:\n\t\t//\t\tid or reference to the element to get or set the property on\n\t\t// name:\n\t\t//\t\tthe name of the property to get or set.\n\t\t// value:\n\t\t//\t\tThe value to set for the property\n\t\t// returns:\n\t\t//\t\twhen used as a getter, the value of the requested property\n\t\t//\t\tor null if that attribute does not have a specified or\n\t\t//\t\tdefault value;\n\t\t//\n\t\t//\t\twhen used as a setter, the DOM node\n\t\t//\n\t\t// example:\n\t\t//\t|\t// get the current value of the \"foo\" property on a node\n\t\t//\t|\tdojo.prop(dojo.byId(\"nodeId\"), \"foo\");\n\t\t//\t|\t// or we can just pass the id:\n\t\t//\t|\tdojo.prop(\"nodeId\", \"foo\");\n\t\t//\n\t\t// example:\n\t\t//\t|\t// use prop() to set the tab index\n\t\t//\t|\tdojo.prop(\"nodeId\", \"tabIndex\", 3);\n\t\t//\t|\n\t\t//\n\t\t// example:\n\t\t//\tSet multiple values at once, including event handlers:\n\t\t//\t|\tdojo.prop(\"formId\", {\n\t\t//\t|\t\t\"foo\": \"bar\",\n\t\t//\t|\t\t\"tabIndex\": -1,\n\t\t//\t|\t\t\"method\": \"POST\",\n\t\t//\t|\t\t\"onsubmit\": function(e){\n\t\t//\t|\t\t\t// stop submitting the form. Note that the IE behavior\n\t\t//\t|\t\t\t// of returning true or false will have no effect here\n\t\t//\t|\t\t\t// since our handler is connect()ed to the built-in\n\t\t//\t|\t\t\t// onsubmit behavior and so we need to use\n\t\t//\t|\t\t\t// dojo.stopEvent() to ensure that the submission\n\t\t//\t|\t\t\t// doesn't proceed.\n\t\t//\t|\t\t\tdojo.stopEvent(e);\n\t\t//\t|\n\t\t//\t|\t\t\t// submit the form with Ajax\n\t\t//\t|\t\t\tdojo.xhrPost({ form: \"formId\" });\n\t\t//\t|\t\t}\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tStyle is s special case: Only set with an object hash of styles\n\t\t//\t|\tdojo.prop(\"someNode\",{\n\t\t//\t|\t\tid:\"bar\",\n\t\t//\t|\t\tstyle:{\n\t\t//\t|\t\t\twidth:\"200px\", height:\"100px\", color:\"#000\"\n\t\t//\t|\t\t}\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tAgain, only set style as an object hash of styles:\n\t\t//\t|\tvar obj = { color:\"#fff\", backgroundColor:\"#000\" };\n\t\t//\t|\tdojo.prop(\"someNode\", \"style\", obj);\n\t\t//\t|\n\t\t//\t|\t// though shorter to use `dojo.style()` in this case:\n\t\t//\t|\tdojo.style(\"someNode\", obj);\n\n\t\tif(arguments.length == 2){\n\t\t\treturn prop[typeof name == \"string\" ? \"get\" : \"set\"](node, name);\n\t\t}\n\t\t// setter\n\t\treturn prop.set(node, name, value);\n\t};\n\n\t// mix-in dom-style\n\tdojo.getStyle = style.get;\n\tdojo.setStyle = style.set;\n\tdojo.getComputedStyle = style.getComputedStyle;\n\tdojo.__toPixelValue = dojo.toPixelValue = style.toPixelValue;\n\n\tdojo.style = function(node, name, value){\n\t\t// summary:\n\t\t//\t\tAccesses styles on a node. If 2 arguments are\n\t\t//\t\tpassed, acts as a getter. If 3 arguments are passed, acts\n\t\t//\t\tas a setter.\n\t\t// description:\n\t\t//\t\tGetting the style value uses the computed style for the node, so the value\n\t\t//\t\twill be a calculated value, not just the immediate node.style value.\n\t\t//\t\tAlso when getting values, use specific style names,\n\t\t//\t\tlike \"borderBottomWidth\" instead of \"border\" since compound values like\n\t\t//\t\t\"border\" are not necessarily reflected as expected.\n\t\t//\t\tIf you want to get node dimensions, use `dojo.marginBox()`,\n\t\t//\t\t`dojo.contentBox()` or `dojo.position()`.\n\t\t// node: DOMNode|String\n\t\t//\t\tid or reference to node to get/set style for\n\t\t// name: String|Object?\n\t\t//\t\tthe style property to set in DOM-accessor format\n\t\t//\t\t(\"borderWidth\", not \"border-width\") or an object with key/value\n\t\t//\t\tpairs suitable for setting each property.\n\t\t// value: String?\n\t\t//\t\tIf passed, sets value on the node for style, handling\n\t\t//\t\tcross-browser concerns.  When setting a pixel value,\n\t\t//\t\tbe sure to include \"px\" in the value. For instance, top: \"200px\".\n\t\t//\t\tOtherwise, in some cases, some browsers will not apply the style.\n\t\t// returns:\n\t\t//\t\twhen used as a getter, return the computed style of the node if passing in an ID or node,\n\t\t//\t\tor return the normalized, computed value for the property when passing in a node and a style property\n\t\t// example:\n\t\t//\t\tPassing only an ID or node returns the computed style object of\n\t\t//\t\tthe node:\n\t\t//\t|\tdojo.style(\"thinger\");\n\t\t// example:\n\t\t//\t\tPassing a node and a style property returns the current\n\t\t//\t\tnormalized, computed value for that property:\n\t\t//\t|\tdojo.style(\"thinger\", \"opacity\"); // 1 by default\n\t\t//\n\t\t// example:\n\t\t//\t\tPassing a node, a style property, and a value changes the\n\t\t//\t\tcurrent display of the node and returns the new computed value\n\t\t//\t|\tdojo.style(\"thinger\", \"opacity\", 0.5); // == 0.5\n\t\t//\n\t\t// example:\n\t\t//\t\tPassing a node, an object-style style property sets each of the values in turn and returns the computed style object of the node:\n\t\t//\t|\tdojo.style(\"thinger\", {\n\t\t//\t|\t\t\"opacity\": 0.5,\n\t\t//\t|\t\t\"border\": \"3px solid black\",\n\t\t//\t|\t\t\"height\": \"300px\"\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tWhen the CSS style property is hyphenated, the JavaScript property is camelCased.\n\t\t//\t\tfont-size becomes fontSize, and so on.\n\t\t//\t|\tdojo.style(\"thinger\",{\n\t\t//\t|\t\tfontSize:\"14pt\",\n\t\t//\t|\t\tletterSpacing:\"1.2em\"\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tdojo/NodeList implements .style() using the same syntax, omitting the \"node\" parameter, calling\n\t\t//\t\tdojo.style() on every element of the list. See: `dojo/query` and `dojo/NodeList`\n\t\t//\t|\tdojo.query(\".someClassName\").style(\"visibility\",\"hidden\");\n\t\t//\t|\t// or\n\t\t//\t|\tdojo.query(\"#baz > div\").style({\n\t\t//\t|\t\topacity:0.75,\n\t\t//\t|\t\tfontSize:\"13pt\"\n\t\t//\t|\t});\n\n\t\tswitch(arguments.length){\n\t\t\tcase 1:\n\t\t\t\treturn style.get(node);\n\t\t\tcase 2:\n\t\t\t\treturn style[typeof name == \"string\" ? \"get\" : \"set\"](node, name);\n\t\t}\n\t\t// setter\n\t\treturn style.set(node, name, value);\n\t};\n\n\treturn dojo;\n});\n","define([\n\t\"./_base/lang\",\n\t\"./Evented\",\n\t\"./_base/kernel\",\n\t\"./_base/array\",\n\t\"./aspect\",\n\t\"./_base/fx\",\n\t\"./dom\",\n\t\"./dom-style\",\n\t\"./dom-geometry\",\n\t\"./ready\",\n\t\"require\" // for context sensitive loading of Toggler\n], function(lang, Evented, dojo, arrayUtil, aspect, baseFx, dom, domStyle, geom, ready, require){\n\n\t// module:\n\t//\t\tdojo/fx\n\n\t// For back-compat, remove in 2.0.\n\tif(!dojo.isAsync){\n\t\tready(0, function(){\n\t\t\tvar requires = [\"./fx/Toggler\"];\n\t\t\trequire(requires);\t// use indirection so modules not rolled into a build\n\t\t});\n\t}\n\n\tvar coreFx = dojo.fx = {\n\t\t// summary:\n\t\t//\t\tEffects library on top of Base animations\n\t};\n\n\tvar _baseObj = {\n\t\t\t_fire: function(evt, args){\n\t\t\t\tif(this[evt]){\n\t\t\t\t\tthis[evt].apply(this, args||[]);\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\n\tvar _chain = function(animations){\n\t\tthis._index = -1;\n\t\tthis._animations = animations||[];\n\t\tthis._current = this._onAnimateCtx = this._onEndCtx = null;\n\n\t\tthis.duration = 0;\n\t\tarrayUtil.forEach(this._animations, function(a){\n\t\t\tif(a){\n\t\t\t\tif(typeof a.duration != \"undefined\"){\n\t        \t\tthis.duration += a.duration;\n\t\t\t\t}\n\t\t\t\tif(a.delay){\n\t\t\t\t\tthis.duration += a.delay;\n\t\t\t\t}\n\t\t\t}\n\t\t}, this);\n\t};\n\t_chain.prototype = new Evented();\n\tlang.extend(_chain, {\n\t\t_onAnimate: function(){\n\t\t\tthis._fire(\"onAnimate\", arguments);\n\t\t},\n\t\t_onEnd: function(){\n\t\t\tthis._onAnimateCtx.remove();\n\t\t\tthis._onEndCtx.remove();\n\t\t\tthis._onAnimateCtx = this._onEndCtx = null;\n\t\t\tif(this._index + 1 == this._animations.length){\n\t\t\t\tthis._fire(\"onEnd\");\n\t\t\t}else{\n\t\t\t\t// switch animations\n\t\t\t\tthis._current = this._animations[++this._index];\n\t\t\t\tthis._onAnimateCtx = aspect.after(this._current, \"onAnimate\", lang.hitch(this, \"_onAnimate\"), true);\n\t\t\t\tthis._onEndCtx = aspect.after(this._current, \"onEnd\", lang.hitch(this, \"_onEnd\"), true);\n\t\t\t\tthis._current.play(0, true);\n\t\t\t}\n\t\t},\n\t\tplay: function(/*int?*/ delay, /*Boolean?*/ gotoStart){\n\t\t\tif(!this._current){ this._current = this._animations[this._index = 0]; }\n\t\t\tif(!gotoStart && this._current.status() == \"playing\"){ return this; }\n\t\t\tvar beforeBegin = aspect.after(this._current, \"beforeBegin\", lang.hitch(this, function(){\n\t\t\t\t\tthis._fire(\"beforeBegin\");\n\t\t\t\t}), true),\n\t\t\t\tonBegin = aspect.after(this._current, \"onBegin\", lang.hitch(this, function(arg){\n\t\t\t\t\tthis._fire(\"onBegin\", arguments);\n\t\t\t\t}), true),\n\t\t\t\tonPlay = aspect.after(this._current, \"onPlay\", lang.hitch(this, function(arg){\n\t\t\t\t\tthis._fire(\"onPlay\", arguments);\n\t\t\t\t\tbeforeBegin.remove();\n\t\t\t\t\tonBegin.remove();\n\t\t\t\t\tonPlay.remove();\n\t\t\t\t}));\n\t\t\tif(this._onAnimateCtx){\n\t\t\t\tthis._onAnimateCtx.remove();\n\t\t\t}\n\t\t\tthis._onAnimateCtx = aspect.after(this._current, \"onAnimate\", lang.hitch(this, \"_onAnimate\"), true);\n\t\t\tif(this._onEndCtx){\n\t\t\t\tthis._onEndCtx.remove();\n\t\t\t}\n\t\t\tthis._onEndCtx = aspect.after(this._current, \"onEnd\", lang.hitch(this, \"_onEnd\"), true);\n\t\t\tthis._current.play.apply(this._current, arguments);\n\t\t\treturn this;\n\t\t},\n\t\tpause: function(){\n\t\t\tif(this._current){\n\t\t\t\tvar e = aspect.after(this._current, \"onPause\", lang.hitch(this, function(arg){\n\t\t\t\t\t\tthis._fire(\"onPause\", arguments);\n\t\t\t\t\t\te.remove();\n\t\t\t\t\t}), true);\n\t\t\t\tthis._current.pause();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgotoPercent: function(/*Decimal*/percent, /*Boolean?*/ andPlay){\n\t\t\tthis.pause();\n\t\t\tvar offset = this.duration * percent;\n\t\t\tthis._current = null;\n\n\t\t\tarrayUtil.some(this._animations, function(a, index){\n\t\t\t\tif(offset <= a.duration){\n\t\t\t\t\tthis._current = a;\n\t\t\t\t\tthis._index = index;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\toffset -= a.duration;\n\t\t\t\treturn false;\n\t\t\t}, this);\n\t\t\tif(this._current){\n\t\t\t\tthis._current.gotoPercent(offset / this._current.duration);\n\t\t\t}\n\t\t\tif (andPlay) { this.play(); }\n\t\t\treturn this;\n\t\t},\n\t\tstop: function(/*boolean?*/ gotoEnd){\n\t\t\tif(this._current){\n\t\t\t\tif(gotoEnd){\n\t\t\t\t\tfor(; this._index + 1 < this._animations.length; ++this._index){\n\t\t\t\t\t\tthis._animations[this._index].stop(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis._current = this._animations[this._index];\n\t\t\t\t}\n\t\t\t\tvar e = aspect.after(this._current, \"onStop\", lang.hitch(this, function(arg){\n\t\t\t\t\t\tthis._fire(\"onStop\", arguments);\n\t\t\t\t\t\te.remove();\n\t\t\t\t\t}), true);\n\t\t\t\tthis._current.stop();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tstatus: function(){\n\t\t\treturn this._current ? this._current.status() : \"stopped\";\n\t\t},\n\t\tdestroy: function(){\n\t\t\tthis.stop();\n\t\t\tif(this._onAnimateCtx){ this._onAnimateCtx.remove(); }\n\t\t\tif(this._onEndCtx){ this._onEndCtx.remove(); }\n\t\t}\n\t});\n\tlang.extend(_chain, _baseObj);\n\n\tcoreFx.chain = function(/*dojo/_base/fx.Animation[]*/ animations){\n\t\t// summary:\n\t\t//\t\tChain a list of `dojo/_base/fx.Animation`s to run in sequence\n\t\t//\n\t\t// description:\n\t\t//\t\tReturn a `dojo/_base/fx.Animation` which will play all passed\n\t\t//\t\t`dojo/_base/fx.Animation` instances in sequence, firing its own\n\t\t//\t\tsynthesized events simulating a single animation. (eg:\n\t\t//\t\tonEnd of this animation means the end of the chain,\n\t\t//\t\tnot the individual animations within)\n\t\t//\n\t\t// example:\n\t\t//\tOnce `node` is faded out, fade in `otherNode`\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\n\t\t//\t|\t\tfx.chain([\n\t\t//\t|\t\t\tfx.fadeIn({ node:node }),\n\t\t//\t|\t\t\tfx.fadeOut({ node:otherNode })\n\t\t//\t|\t\t]).play();\n\t\t//\t|\t});\n\t\t//\n\t\treturn new _chain(lang.isArray(animations) ? animations : Array.prototype.slice.call(animations, 0)); // dojo/_base/fx.Animation\n\t};\n\n\tvar _combine = function(animations){\n\t\tthis._animations = animations||[];\n\t\tthis._connects = [];\n\t\tthis._finished = 0;\n\n\t\tthis.duration = 0;\n\t\tarrayUtil.forEach(animations, function(a){\n\t\t\tvar duration = a.duration;\n\t\t\tif(a.delay){ duration += a.delay; }\n\t\t\tif(this.duration < duration){ this.duration = duration; }\n\t\t\tthis._connects.push(aspect.after(a, \"onEnd\", lang.hitch(this, \"_onEnd\"), true));\n\t\t}, this);\n\n\t\tthis._pseudoAnimation = new baseFx.Animation({curve: [0, 1], duration: this.duration});\n\t\tvar self = this;\n\t\tarrayUtil.forEach([\"beforeBegin\", \"onBegin\", \"onPlay\", \"onAnimate\", \"onPause\", \"onStop\", \"onEnd\"],\n\t\t\tfunction(evt){\n\t\t\t\tself._connects.push(aspect.after(self._pseudoAnimation, evt,\n\t\t\t\t\tfunction(){ self._fire(evt, arguments); },\n\t\t\t\ttrue));\n\t\t\t}\n\t\t);\n\t};\n\tlang.extend(_combine, {\n\t\t_doAction: function(action, args){\n\t\t\tarrayUtil.forEach(this._animations, function(a){\n\t\t\t\ta[action].apply(a, args);\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\t_onEnd: function(){\n\t\t\tif(++this._finished > this._animations.length){\n\t\t\t\tthis._fire(\"onEnd\");\n\t\t\t}\n\t\t},\n\t\t_call: function(action, args){\n\t\t\tvar t = this._pseudoAnimation;\n\t\t\tt[action].apply(t, args);\n\t\t},\n\t\tplay: function(/*int?*/ delay, /*Boolean?*/ gotoStart){\n\t\t\tthis._finished = 0;\n\t\t\tthis._doAction(\"play\", arguments);\n\t\t\tthis._call(\"play\", arguments);\n\t\t\treturn this;\n\t\t},\n\t\tpause: function(){\n\t\t\tthis._doAction(\"pause\", arguments);\n\t\t\tthis._call(\"pause\", arguments);\n\t\t\treturn this;\n\t\t},\n\t\tgotoPercent: function(/*Decimal*/percent, /*Boolean?*/ andPlay){\n\t\t\tvar ms = this.duration * percent;\n\t\t\tarrayUtil.forEach(this._animations, function(a){\n\t\t\t\ta.gotoPercent(a.duration < ms ? 1 : (ms / a.duration), andPlay);\n\t\t\t});\n\t\t\tthis._call(\"gotoPercent\", arguments);\n\t\t\treturn this;\n\t\t},\n\t\tstop: function(/*boolean?*/ gotoEnd){\n\t\t\tthis._doAction(\"stop\", arguments);\n\t\t\tthis._call(\"stop\", arguments);\n\t\t\treturn this;\n\t\t},\n\t\tstatus: function(){\n\t\t\treturn this._pseudoAnimation.status();\n\t\t},\n\t\tdestroy: function(){\n\t\t\tthis.stop();\n\t\t\tarrayUtil.forEach(this._connects, function(handle){\n\t\t\t\thandle.remove();\n\t\t\t});\n\t\t}\n\t});\n\tlang.extend(_combine, _baseObj);\n\n\tcoreFx.combine = function(/*dojo/_base/fx.Animation[]*/ animations){\n\t\t// summary:\n\t\t//\t\tCombine a list of `dojo/_base/fx.Animation`s to run in parallel\n\t\t//\n\t\t// description:\n\t\t//\t\tCombine an array of `dojo/_base/fx.Animation`s or N\n\t\t//\t\t`dojo/_base/fx.Animation`s  to run in parallel, providing\n\t\t//\t\ta new `dojo/_base/fx.Animation` instance encompassing each\n\t\t//\t\tanimation, firing standard animation events.\n\t\t//\n\t\t// example:\n\t\t//\tFade out `node` while fading in `otherNode` simultaneously\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\n\t\t//\t|\t\tfx.combine([\n\t\t//\t|\t\t\tfx.fadeIn({ node:node }),\n\t\t//\t|\t\t\tfx.fadeOut({ node:otherNode })\n\t\t//\t|\t\t]).play();\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\tWhen the longest animation ends, execute a function:\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\n\t\t//\t|\t\tvar anim = fx.combine([\n\t\t//\t|\t\t\tfx.fadeIn({ node: n, duration:700 }),\n\t\t//\t|\t\t\tfx.fadeOut({ node: otherNode, duration: 300 })\n\t\t//\t|\t\t]);\n\t\t//\t|\t\taspect.after(anim, \"onEnd\", function(){\n\t\t//\t|\t\t\t// overall animation is done.\n\t\t//\t|\t\t}, true);\n\t\t//\t|\t\tanim.play(); // play the animation\n\t\t//\t|\t});\n\t\t//\n\t\treturn new _combine(lang.isArray(animations) ? animations : Array.prototype.slice.call(animations, 0)); // dojo/_base/fx.Animation\n\t};\n\n\tcoreFx.wipeIn = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tExpand a node to it's natural height.\n\t\t//\n\t\t// description:\n\t\t//\t\tReturns an animation that will expand the\n\t\t//\t\tnode defined in 'args' object from it's current height to\n\t\t//\t\tit's natural height (with no scrollbar).\n\t\t//\t\tNode must have no margin/border/padding.\n\t\t//\n\t\t// args: Object\n\t\t//\t\tA hash-map of standard `dojo/_base/fx.Animation` constructor properties\n\t\t//\t\t(such as easing: node: duration: and so on)\n\t\t//\n\t\t// example:\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\n\t\t//\t|\t\tfx.wipeIn({\n\t\t//\t|\t\t\tnode:\"someId\"\n\t\t//\t|\t\t}).play()\n\t\t//\t|\t});\n\n\t\tvar node = args.node = dom.byId(args.node), s = node.style, o;\n\n\t\tvar anim = baseFx.animateProperty(lang.mixin({\n\t\t\tproperties: {\n\t\t\t\theight: {\n\t\t\t\t\t// wrapped in functions so we wait till the last second to query (in case value has changed)\n\t\t\t\t\tstart: function(){\n\t\t\t\t\t\t// start at current [computed] height, but use 1px rather than 0\n\t\t\t\t\t\t// because 0 causes IE to display the whole panel\n\t\t\t\t\t\to = s.overflow;\n\t\t\t\t\t\ts.overflow = \"hidden\";\n\t\t\t\t\t\tif(s.visibility == \"hidden\" || s.display == \"none\"){\n\t\t\t\t\t\t\ts.height = \"1px\";\n\t\t\t\t\t\t\ts.display = \"\";\n\t\t\t\t\t\t\ts.visibility = \"\";\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tvar height = domStyle.get(node, \"height\");\n\t\t\t\t\t\t\treturn Math.max(height, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tend: function(){\n\t\t\t\t\t\treturn node.scrollHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, args));\n\n\t\tvar fini = function(){\n\t\t\ts.height = \"auto\";\n\t\t\ts.overflow = o;\n\t\t};\n\t\taspect.after(anim, \"onStop\", fini, true);\n\t\taspect.after(anim, \"onEnd\", fini, true);\n\n\t\treturn anim; // dojo/_base/fx.Animation\n\t};\n\n\tcoreFx.wipeOut = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tShrink a node to nothing and hide it.\n\t\t//\n\t\t// description:\n\t\t//\t\tReturns an animation that will shrink node defined in \"args\"\n\t\t//\t\tfrom it's current height to 1px, and then hide it.\n\t\t//\n\t\t// args: Object\n\t\t//\t\tA hash-map of standard `dojo/_base/fx.Animation` constructor properties\n\t\t//\t\t(such as easing: node: duration: and so on)\n\t\t//\n\t\t// example:\n\t\t//\t|\trequire([\"dojo/fx\"], function(fx){\n\t\t//\t|\t\tfx.wipeOut({ node:\"someId\" }).play()\n\t\t//\t|\t});\n\n\t\tvar node = args.node = dom.byId(args.node), s = node.style, o;\n\n\t\tvar anim = baseFx.animateProperty(lang.mixin({\n\t\t\tproperties: {\n\t\t\t\theight: {\n\t\t\t\t\tend: 1 // 0 causes IE to display the whole panel\n\t\t\t\t}\n\t\t\t}\n\t\t}, args));\n\n\t\taspect.after(anim, \"beforeBegin\", function(){\n\t\t\to = s.overflow;\n\t\t\ts.overflow = \"hidden\";\n\t\t\ts.display = \"\";\n\t\t}, true);\n\t\tvar fini = function(){\n\t\t\ts.overflow = o;\n\t\t\ts.height = \"auto\";\n\t\t\ts.display = \"none\";\n\t\t};\n\t\taspect.after(anim, \"onStop\", fini, true);\n\t\taspect.after(anim, \"onEnd\", fini, true);\n\n\t\treturn anim; // dojo/_base/fx.Animation\n\t};\n\n\tcoreFx.slideTo = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tSlide a node to a new top/left position\n\t\t//\n\t\t// description:\n\t\t//\t\tReturns an animation that will slide \"node\"\n\t\t//\t\tdefined in args Object from its current position to\n\t\t//\t\tthe position defined by (args.left, args.top).\n\t\t//\n\t\t// args: Object\n\t\t//\t\tA hash-map of standard `dojo/_base/fx.Animation` constructor properties\n\t\t//\t\t(such as easing: node: duration: and so on). Special args members\n\t\t//\t\tare `top` and `left`, which indicate the new position to slide to.\n\t\t//\n\t\t// example:\n\t\t//\t|\t.slideTo({ node: node, left:\"40\", top:\"50\", units:\"px\" }).play()\n\n\t\tvar node = args.node = dom.byId(args.node),\n\t\t\ttop = null, left = null;\n\n\t\tvar init = (function(n){\n\t\t\treturn function(){\n\t\t\t\tvar cs = domStyle.getComputedStyle(n);\n\t\t\t\tvar pos = cs.position;\n\t\t\t\ttop = (pos == 'absolute' ? n.offsetTop : parseInt(cs.top) || 0);\n\t\t\t\tleft = (pos == 'absolute' ? n.offsetLeft : parseInt(cs.left) || 0);\n\t\t\t\tif(pos != 'absolute' && pos != 'relative'){\n\t\t\t\t\tvar ret = geom.position(n, true);\n\t\t\t\t\ttop = ret.y;\n\t\t\t\t\tleft = ret.x;\n\t\t\t\t\tn.style.position=\"absolute\";\n\t\t\t\t\tn.style.top=top+\"px\";\n\t\t\t\t\tn.style.left=left+\"px\";\n\t\t\t\t}\n\t\t\t};\n\t\t})(node);\n\t\tinit();\n\n\t\tvar anim = baseFx.animateProperty(lang.mixin({\n\t\t\tproperties: {\n\t\t\t\ttop: args.top || 0,\n\t\t\t\tleft: args.left || 0\n\t\t\t}\n\t\t}, args));\n\t\taspect.after(anim, \"beforeBegin\", init, true);\n\n\t\treturn anim; // dojo/_base/fx.Animation\n\t};\n\n\treturn coreFx;\n});\n","define([\"../_base/lang\"], function(lang){\n\n// module:\n//\t\tdojo/fx/easing\n\nvar easingFuncs = {\n\t// summary:\n\t//\t\tCollection of easing functions to use beyond the default\n\t//\t\t`dojo._defaultEasing` function.\n\t// description:\n\t//\t\tEasing functions are used to manipulate the iteration through\n\t//\t\tan `dojo.Animation`s _Line. _Line being the properties of an Animation,\n\t//\t\tand the easing function progresses through that Line determining\n\t//\t\thow quickly (or slowly) it should go. Or more accurately: modify\n\t//\t\tthe value of the _Line based on the percentage of animation completed.\n\t//\n\t//\t\tAll functions follow a simple naming convention of \"ease type\" + \"when\".\n\t//\t\tIf the name of the function ends in Out, the easing described appears\n\t//\t\ttowards the end of the animation. \"In\" means during the beginning,\n\t//\t\tand InOut means both ranges of the Animation will applied, both\n\t//\t\tbeginning and end.\n\t//\n\t//\t\tOne does not call the easing function directly, it must be passed to\n\t//\t\tthe `easing` property of an animation.\n\t// example:\n\t//\t|\tdojo.require(\"dojo.fx.easing\");\n\t//\t|\tvar anim = dojo.fadeOut({\n\t//\t|\t\tnode: 'node',\n\t//\t|\t\tduration: 2000,\n\t//\t|\t\t//\tnote there is no ()\n\t//\t|\t\teasing: dojo.fx.easing.quadIn\n\t//\t|\t}).play();\n\t//\n\n\tlinear: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tA linear easing function\n\t\treturn n;\n\t},\n\n\tquadIn: function(/* Decimal? */n){\n\t\treturn Math.pow(n, 2);\n\t},\n\n\tquadOut: function(/* Decimal? */n){\n\t\treturn n * (n - 2) * -1;\n\t},\n\n\tquadInOut: function(/* Decimal? */n){\n\t\tn = n * 2;\n\t\tif(n < 1){ return Math.pow(n, 2) / 2; }\n\t\treturn -1 * ((--n) * (n - 2) - 1) / 2;\n\t},\n\n\tcubicIn: function(/* Decimal? */n){\n\t\treturn Math.pow(n, 3);\n\t},\n\n\tcubicOut: function(/* Decimal? */n){\n\t\treturn Math.pow(n - 1, 3) + 1;\n\t},\n\n\tcubicInOut: function(/* Decimal? */n){\n\t\tn = n * 2;\n\t\tif(n < 1){ return Math.pow(n, 3) / 2; }\n\t\tn -= 2;\n\t\treturn (Math.pow(n, 3) + 2) / 2;\n\t},\n\n\tquartIn: function(/* Decimal? */n){\n\t\treturn Math.pow(n, 4);\n\t},\n\n\tquartOut: function(/* Decimal? */n){\n\t\treturn -1 * (Math.pow(n - 1, 4) - 1);\n\t},\n\n\tquartInOut: function(/* Decimal? */n){\n\t\tn = n * 2;\n\t\tif(n < 1){ return Math.pow(n, 4) / 2; }\n\t\tn -= 2;\n\t\treturn -1 / 2 * (Math.pow(n, 4) - 2);\n\t},\n\n\tquintIn: function(/* Decimal? */n){\n\t\treturn Math.pow(n, 5);\n\t},\n\n\tquintOut: function(/* Decimal? */n){\n\t\treturn Math.pow(n - 1, 5) + 1;\n\t},\n\n\tquintInOut: function(/* Decimal? */n){\n\t\tn = n * 2;\n\t\tif(n < 1){ return Math.pow(n, 5) / 2; }\n\t\tn -= 2;\n\t\treturn (Math.pow(n, 5) + 2) / 2;\n\t},\n\n\tsineIn: function(/* Decimal? */n){\n\t\treturn -1 * Math.cos(n * (Math.PI / 2)) + 1;\n\t},\n\n\tsineOut: function(/* Decimal? */n){\n\t\treturn Math.sin(n * (Math.PI / 2));\n\t},\n\n\tsineInOut: function(/* Decimal? */n){\n\t\treturn -1 * (Math.cos(Math.PI * n) - 1) / 2;\n\t},\n\n\texpoIn: function(/* Decimal? */n){\n\t\treturn (n == 0) ? 0 : Math.pow(2, 10 * (n - 1));\n\t},\n\n\texpoOut: function(/* Decimal? */n){\n\t\treturn (n == 1) ? 1 : (-1 * Math.pow(2, -10 * n) + 1);\n\t},\n\n\texpoInOut: function(/* Decimal? */n){\n\t\tif(n == 0){ return 0; }\n\t\tif(n == 1){ return 1; }\n\t\tn = n * 2;\n\t\tif(n < 1){ return Math.pow(2, 10 * (n - 1)) / 2; }\n\t\t--n;\n\t\treturn (-1 * Math.pow(2, -10 * n) + 2) / 2;\n\t},\n\n\tcircIn: function(/* Decimal? */n){\n\t\treturn -1 * (Math.sqrt(1 - Math.pow(n, 2)) - 1);\n\t},\n\n\tcircOut: function(/* Decimal? */n){\n\t\tn = n - 1;\n\t\treturn Math.sqrt(1 - Math.pow(n, 2));\n\t},\n\n\tcircInOut: function(/* Decimal? */n){\n\t\tn = n * 2;\n\t\tif(n < 1){ return -1 / 2 * (Math.sqrt(1 - Math.pow(n, 2)) - 1); }\n\t\tn -= 2;\n\t\treturn 1 / 2 * (Math.sqrt(1 - Math.pow(n, 2)) + 1);\n\t},\n\n\tbackIn: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that starts away from the target,\n\t\t//\t\tand quickly accelerates towards the end value.\n\t\t//\n\t\t//\t\tUse caution when the easing will cause values to become\n\t\t//\t\tnegative as some properties cannot be set to negative values.\n\t\tvar s = 1.70158;\n\t\treturn Math.pow(n, 2) * ((s + 1) * n - s);\n\t},\n\n\tbackOut: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that pops past the range briefly, and slowly comes back.\n\t\t// description:\n\t\t//\t\tAn easing function that pops past the range briefly, and slowly comes back.\n\t\t//\n\t\t//\t\tUse caution when the easing will cause values to become negative as some\n\t\t//\t\tproperties cannot be set to negative values.\n\n\t\tn = n - 1;\n\t\tvar s = 1.70158;\n\t\treturn Math.pow(n, 2) * ((s + 1) * n + s) + 1;\n\t},\n\n\tbackInOut: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function combining the effects of `backIn` and `backOut`\n\t\t// description:\n\t\t//\t\tAn easing function combining the effects of `backIn` and `backOut`.\n\t\t//\t\tUse caution when the easing will cause values to become negative\n\t\t//\t\tas some properties cannot be set to negative values.\n\t\tvar s = 1.70158 * 1.525;\n\t\tn = n * 2;\n\t\tif(n < 1){ return (Math.pow(n, 2) * ((s + 1) * n - s)) / 2; }\n\t\tn-=2;\n\t\treturn (Math.pow(n, 2) * ((s + 1) * n + s) + 2) / 2;\n\t},\n\n\telasticIn: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function the elastically snaps from the start value\n\t\t// description:\n\t\t//\t\tAn easing function the elastically snaps from the start value\n\t\t//\n\t\t//\t\tUse caution when the elasticity will cause values to become negative\n\t\t//\t\tas some properties cannot be set to negative values.\n\t\tif(n == 0 || n == 1){ return n; }\n\t\tvar p = .3;\n\t\tvar s = p / 4;\n\t\tn = n - 1;\n\t\treturn -1 * Math.pow(2, 10 * n) * Math.sin((n - s) * (2 * Math.PI) / p);\n\t},\n\n\telasticOut: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that elasticly snaps around the target value,\n\t\t//\t\tnear the end of the Animation\n\t\t// description:\n\t\t//\t\tAn easing function that elasticly snaps around the target value,\n\t\t//\t\tnear the end of the Animation\n\t\t//\n\t\t//\t\tUse caution when the elasticity will cause values to become\n\t\t//\t\tnegative as some properties cannot be set to negative values.\n\t\tif(n==0 || n == 1){ return n; }\n\t\tvar p = .3;\n\t\tvar s = p / 4;\n\t\treturn Math.pow(2, -10 * n) * Math.sin((n - s) * (2 * Math.PI) / p) + 1;\n\t},\n\n\telasticInOut: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that elasticly snaps around the value, near\n\t\t//\t\tthe beginning and end of the Animation.\n\t\t// description:\n\t\t//\t\tAn easing function that elasticly snaps around the value, near\n\t\t//\t\tthe beginning and end of the Animation.\n\t\t//\n\t\t//\t\tUse caution when the elasticity will cause values to become\n\t\t//\t\tnegative as some properties cannot be set to negative values.\n\t\tif(n == 0) return 0;\n\t\tn = n * 2;\n\t\tif(n == 2) return 1;\n\t\tvar p = .3 * 1.5;\n\t\tvar s = p / 4;\n\t\tif(n < 1){\n\t\t\tn -= 1;\n\t\t\treturn -.5 * (Math.pow(2, 10 * n) * Math.sin((n - s) * (2 * Math.PI) / p));\n\t\t}\n\t\tn -= 1;\n\t\treturn .5 * (Math.pow(2, -10 * n) * Math.sin((n - s) * (2 * Math.PI) / p)) + 1;\n\t},\n\n\tbounceIn: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that 'bounces' near the beginning of an Animation\n\t\treturn (1 - easingFuncs.bounceOut(1 - n)); // Decimal\n\t},\n\n\tbounceOut: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that 'bounces' near the end of an Animation\n\t\tvar s = 7.5625;\n\t\tvar p = 2.75;\n\t\tvar l;\n\t\tif(n < (1 / p)){\n\t\t\tl = s * Math.pow(n, 2);\n\t\t}else if(n < (2 / p)){\n\t\t\tn -= (1.5 / p);\n\t\t\tl = s * Math.pow(n, 2) + .75;\n\t\t}else if(n < (2.5 / p)){\n\t\t\tn -= (2.25 / p);\n\t\t\tl = s * Math.pow(n, 2) + .9375;\n\t\t}else{\n\t\t\tn -= (2.625 / p);\n\t\t\tl = s * Math.pow(n, 2) + .984375;\n\t\t}\n\t\treturn l;\n\t},\n\n\tbounceInOut: function(/* Decimal? */n){\n\t\t// summary:\n\t\t//\t\tAn easing function that 'bounces' at the beginning and end of the Animation\n\t\tif(n < 0.5){ return easingFuncs.bounceIn(n * 2) / 2; }\n\t\treturn (easingFuncs.bounceOut(n * 2 - 1) / 2) + 0.5; // Decimal\n\t}\n};\n\nlang.setObject(\"dojo.fx.easing\", easingFuncs);\n\nreturn easingFuncs;\n});\n","define([\"../main\", \"dojo/_base/lang\", \"dojo/_base/array\",\"dojo/_base/declare\", \"dojo/dom-style\",\n\t\"dojo/dom\", \"dojo/dom-geometry\", \"dojo/dom-construct\",\"dojo/_base/Color\", \"dojo/sniff\",\n\t\"./Element\", \"./SimpleTheme\", \"./Series\", \"./axis2d/common\", \"./plot2d/common\", \"dojox/gfx/shape\",\n\t\"dojox/gfx\", \"dojo/has!dojo-bidi?./bidi/Chart\", \"dojox/lang/functional\", \"dojox/lang/functional/fold\", \"dojox/lang/functional/reversed\"],\n\tfunction(dojox, lang, arr, declare, domStyle,\n\t \t\t dom, domGeom, domConstruct, Color, has,\n\t\t\t Element, SimpleTheme, Series, common, plot2dCommon, shape,\n\t \t\t g, BidiChart, func){\n\t/*=====\n\tvar __ChartCtorArgs = {\n\t\t// summary:\n\t\t//\t\tThe keyword arguments that can be passed in a Chart constructor.\n\t\t// margins: Object?\n\t\t//\t\tOptional margins for the chart, in the form of { l, t, r, b}.\n\t\t// stroke: dojox.gfx.Stroke?\n\t\t//\t\tAn optional outline/stroke for the chart.\n\t\t// fill: dojox.gfx.Fill?\n\t\t//\t\tAn optional fill for the chart.\n\t\t// delayInMs: Number\n\t\t//\t\tDelay in ms for delayedRender(). Default: 200.\n\t};\n\t=====*/\n\n\t/*=====\n\tvar __SeriesCtorArgs = {\n\t\t// summary:\n\t\t//\t\tAn optional arguments object that can be used in the Series constructor.\n\t\t// plot: String?\n\t\t//\t\tThe plot (by name) that this series belongs to.\n\t};\n\t=====*/\n\n\t/*=====\n\tvar __BaseAxisCtorArgs = {\n\t\t// summary:\n\t\t//\t\tOptional arguments used in the definition of an invisible axis.\n\t\t// vertical: Boolean?\n\t\t//\t\tA flag that says whether an axis is vertical (i.e. y axis) or horizontal. Default is false (horizontal).\n\t\t// min: Number?\n\t\t//\t\tThe smallest value on an axis. Default is 0.\n\t\t// max: Number?\n\t\t//\t\tThe largest value on an axis. Default is 1.\n\t};\n\t=====*/\n\n\tvar dc = lang.getObject(\"charting\", true, dojox),\n\t\tdefaultMargins = {l: 10, t: 10, r: 10, b: 10};\n\n\tfunction clear (item) {\n\t\treturn item.clear();\n\t}\n\n\tfunction destroy (item) {\n\t\treturn item.destroy();\n\t}\n\n\tfunction makeClean (item) {\n\t\titem.dirty = false;\n\t\treturn false;\n\t}\n\n\tfunction makeDirty (item) {\n\t\titem.dirty = true;\n\t\treturn true;\n\t}\n\n\tfunction getName (item) {\n\t\treturn item.name;\n\t}\n\n\tvar Chart = declare(has(\"dojo-bidi\")? \"dojox.charting.NonBidiChart\" : \"dojox.charting.Chart\", null, {\n\t\t// summary:\n\t\t//\t\tThe main chart object in dojox.charting.  This will create a two dimensional\n\t\t//\t\tchart based on dojox.gfx.\n\t\t//\n\t\t// description:\n\t\t//\t\tdojox.charting.Chart is the primary object used for any kind of charts.  It\n\t\t//\t\tis simple to create--just pass it a node reference, which is used as the\n\t\t//\t\tcontainer for the chart--and a set of optional keyword arguments and go.\n\t\t//\n\t\t//\t\tNote that like most of dojox.gfx, most of dojox.charting.Chart's methods are\n\t\t//\t\tdesigned to return a reference to the chart itself, to allow for functional\n\t\t//\t\tchaining.  This makes defining everything on a Chart very easy to do.\n\t\t//\n\t\t// example:\n\t\t//\t\tCreate an area chart, with smoothing.\n\t\t//\t|\trequire([\"dojox/charting/Chart\", \"dojox/charting/themes/Shrooms\", \"dojox/charting/plot2d/Areas\", ...],\n\t\t// \t|\t\tfunction(Chart, Shrooms, Areas, ...){\n\t\t//\t|\t\tnew Chart(node)\n\t\t//\t|\t\t\t.addPlot(\"default\", { type: Areas, tension: \"X\" })\n\t\t//\t|\t\t\t.setTheme(Shrooms)\n\t\t//\t|\t\t\t.addSeries(\"Series A\", [1, 2, 0.5, 1.5, 1, 2.8, 0.4])\n\t\t//\t|\t\t\t.addSeries(\"Series B\", [2.6, 1.8, 2, 1, 1.4, 0.7, 2])\n\t\t//\t|\t\t\t.addSeries(\"Series C\", [6.3, 1.8, 3, 0.5, 4.4, 2.7, 2])\n\t\t//\t|\t\t\t.render();\n\t\t//\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tThe form of data in a data series can take a number of forms: a simple array,\n\t\t//\t\tan array of objects {x,y}, or something custom (as determined by the plot).\n\t\t//\t\tHere's an example of a Candlestick chart, which expects an object of\n\t\t//\t\t{ open, high, low, close }.\n\t\t//\t|\trequire([\"dojox/charting/Chart\", \"dojox/charting/plot2d/Candlesticks\", ...],\n\t\t// \t|\t\tfunction(Chart, Candlesticks, ...){\n\t\t//\t|\t\tnew Chart(node)\n\t\t//\t|\t\t\t.addPlot(\"default\", {type: Candlesticks, gap: 1})\n\t\t//\t|\t\t\t.addAxis(\"x\", {fixLower: \"major\", fixUpper: \"major\", includeZero: true})\n\t\t//\t|\t\t\t.addAxis(\"y\", {vertical: true, fixLower: \"major\", fixUpper: \"major\", natural: true})\n\t\t//\t|\t\t\t.addSeries(\"Series A\", [\n\t\t//\t|\t\t\t\t\t{ open: 20, close: 16, high: 22, low: 8 },\n\t\t//\t|\t\t\t\t\t{ open: 16, close: 22, high: 26, low: 6, mid: 18 },\n\t\t//\t|\t\t\t\t\t{ open: 22, close: 18, high: 22, low: 11, mid: 21 },\n\t\t//\t|\t\t\t\t\t{ open: 18, close: 29, high: 32, low: 14, mid: 27 },\n\t\t//\t|\t\t\t\t\t{ open: 29, close: 24, high: 29, low: 13, mid: 27 },\n\t\t//\t|\t\t\t\t\t{ open: 24, close: 8, high: 24, low: 5 },\n\t\t//\t|\t\t\t\t\t{ open: 8, close: 16, high: 22, low: 2 },\n\t\t//\t|\t\t\t\t\t{ open: 16, close: 12, high: 19, low: 7 },\n\t\t//\t|\t\t\t\t\t{ open: 12, close: 20, high: 22, low: 8 },\n\t\t//\t|\t\t\t\t\t{ open: 20, close: 16, high: 22, low: 8 },\n\t\t//\t|\t\t\t\t\t{ open: 16, close: 22, high: 26, low: 6, mid: 18 },\n\t\t//\t|\t\t\t\t\t{ open: 22, close: 18, high: 22, low: 11, mid: 21 },\n\t\t//\t|\t\t\t\t\t{ open: 18, close: 29, high: 32, low: 14, mid: 27 },\n\t\t//\t|\t\t\t\t\t{ open: 29, close: 24, high: 29, low: 13, mid: 27 },\n\t\t//\t|\t\t\t\t\t{ open: 24, close: 8, high: 24, low: 5 },\n\t\t//\t|\t\t\t\t\t{ open: 8, close: 16, high: 22, low: 2 },\n\t\t//\t|\t\t\t\t\t{ open: 16, close: 12, high: 19, low: 7 },\n\t\t//\t|\t\t\t\t\t{ open: 12, close: 20, high: 22, low: 8 },\n\t\t//\t|\t\t\t\t\t{ open: 20, close: 16, high: 22, low: 8 },\n\t\t//\t|\t\t\t\t\t{ open: 16, close: 22, high: 26, low: 6 },\n\t\t//\t|\t\t\t\t\t{ open: 22, close: 18, high: 22, low: 11 },\n\t\t//\t|\t\t\t\t\t{ open: 18, close: 29, high: 32, low: 14 },\n\t\t//\t|\t\t\t\t\t{ open: 29, close: 24, high: 29, low: 13 },\n\t\t//\t|\t\t\t\t\t{ open: 24, close: 8, high: 24, low: 5 },\n\t\t//\t|\t\t\t\t\t{ open: 8, close: 16, high: 22, low: 2 },\n\t\t//\t|\t\t\t\t\t{ open: 16, close: 12, high: 19, low: 7 },\n\t\t//\t|\t\t\t\t\t{ open: 12, close: 20, high: 22, low: 8 },\n\t\t//\t|\t\t\t\t\t{ open: 20, close: 16, high: 22, low: 8 }\n\t\t//\t|\t\t\t\t],\n\t\t//\t|\t\t\t\t{ stroke: { color: \"green\" }, fill: \"lightgreen\" }\n\t\t//\t|\t\t\t)\n\t\t//\t|\t\t\t.render();\n\t\t//\t|\t});\n\n\t\t// theme: dojox/charting/SimpleTheme?\n\t\t//\t\tAn optional theme to use for styling the chart.\n\t\t// axes: dojox/charting/axis2d/Base{}?\n\t\t//\t\tA map of axes for use in plotting a chart.\n\t\t// stack: dojox/charting/plot2d/Base[]\n\t\t//\t\tA stack of plotters.\n\t\t// plots: dojox/charting/plot2d/Base{}\n\t\t//\t\tA map of plotter indices\n\t\t// series: dojox/charting/Series[]\n\t\t//\t\tThe stack of data runs used to create plots.\n\t\t// runs: dojox/charting/Series{}\n\t\t//\t\tA map of series indices\n\t\t// margins: Object?\n\t\t//\t\tThe margins around the chart. Default is { l:10, t:10, r:10, b:10 }.\n\t\t// stroke: dojox.gfx.Stroke?\n\t\t//\t\tThe outline of the chart (stroke in vector graphics terms).\n\t\t// fill: dojox.gfx.Fill?\n\t\t//\t\tThe color for the chart.\n\t\t// node: DOMNode\n\t\t//\t\tThe container node passed to the constructor.\n\t\t// surface: dojox/gfx/shape.Surface\n\t\t//\t\tThe main graphics surface upon which a chart is drawn.\n\t\t// dirty: Boolean\n\t\t//\t\tA boolean flag indicating whether or not the chart needs to be updated/re-rendered.\n\t\t// htmlLabels: Boolean\n\t\t//\t\tA boolean flag indicating whether or not it should try to use HTML-based labels for the title or not.\n\t\t//\t\tThe default is true.  The only caveat is IE and Opera browsers will always use GFX-based labels.\n\n\t\tconstructor: function(/* DOMNode */node, /* __ChartCtorArgs? */kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for a new Chart.  Initializes all parameters used for a chart.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tThe newly created chart.\n\n\t\t\t// initialize parameters\n\t\t\tif(!kwArgs){ kwArgs = {}; }\n\t\t\tthis.margins = kwArgs.margins || defaultMargins;\n\t\t\tthis._customMargins = !!kwArgs.margins;\n\t\t\tthis.stroke    = kwArgs.stroke;\n\t\t\tthis.fill      = kwArgs.fill;\n\t\t\tthis.delayInMs = kwArgs.delayInMs || 200;\n\t\t\tthis.title     = kwArgs.title;\n\t\t\tthis.titleGap  = kwArgs.titleGap;\n\t\t\tthis.titlePos  = kwArgs.titlePos;\n\t\t\tthis.titleFont = kwArgs.titleFont;\n\t\t\tthis.titleFontColor = kwArgs.titleFontColor;\n\t\t\tthis.titleAlign = kwArgs.titleAlign; // This can be middle, left, right, or edge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t // edge is left or right aligned with chart plot edge depending on bidi.\n\t\t\tthis.chartTitle = null;\n\t\t\tthis.htmlLabels = true;\n\t\t\tif(\"htmlLabels\" in kwArgs){\n\t\t\t\tthis.htmlLabels = kwArgs.htmlLabels;\n\t\t\t}\n\n\t\t\t// default initialization\n\t\t\tthis.theme = null;\n\t\t\tthis.axes = {};\t\t// map of axes\n\t\t\tthis.stack = [];\t// stack of plotters\n\t\t\tthis.plots = {};\t// map of plotter indices\n\t\t\tthis.series = [];\t// stack of data runs\n\t\t\tthis.runs = {};\t\t// map of data run indices\n\t\t\tthis.dirty = true;\n\n\t\t\t// create a surface\n\t\t\tthis.node = dom.byId(node);\n\t\t\tvar box = domGeom.getMarginBox(node);\n\t\t\tthis.surface = g.createSurface(this.node, box.w || 400, box.h || 300);\n\t\t\tif(this.surface.declaredClass.indexOf(\"vml\") == -1){\n\t\t\t\t// except if vml use native clipping\n\t\t\t\tthis._nativeClip = true;\n\t\t\t}\n\t\t},\n\t\tdestroy: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCleanup when a chart is to be destroyed.\n\t\t\t// returns: void\n\t\t\tarr.forEach(this.series, destroy);\n\t\t\tarr.forEach(this.stack,  destroy);\n\t\t\tfunc.forIn(this.axes, destroy);\n\t\t\tthis.surface.destroy();\n\t\t\tif(this.chartTitle && this.chartTitle.tagName){\n\t\t\t\t// destroy title if it is a DOM node\n\t\t\t\tdomConstruct.destroy(this.chartTitle);\n\t\t\t}\n\t\t},\n\t\tgetCoords: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet the coordinates and dimensions of the containing DOMNode, as\n\t\t\t//\t\treturned by dojo.coords.\n\t\t\t// returns: Object\n\t\t\t//\t\tThe resulting coordinates of the chart.  See dojo.coords for details.\n\t\t\tvar node = this.node;\n\t\t\tvar s = domStyle.getComputedStyle(node), coords = domGeom.getMarginBox(node, s);\n\t\t\tvar abs = domGeom.position(node, true);\n\t\t\tcoords.x = abs.x;\n\t\t\tcoords.y = abs.y;\n\t\t\treturn coords;\t//\tObject\n\t\t},\n\t\tsetTheme: function(theme){\n\t\t\t// summary:\n\t\t\t//\t\tSet a theme of the chart.\n\t\t\t// theme: dojox/charting/SimpleTheme\n\t\t\t//\t\tThe theme to be used for visual rendering.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tthis.theme = theme.clone();\n\t\t\tif(!this._customMargins){\n\t\t\t\tthis.margins = this.theme.chart.margins || defaultMargins;\n\t\t\t}\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\taddAxis: function(name, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tAdd an axis to the chart, for rendering.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the axis.\n\t\t\t// kwArgs: __BaseAxisCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object for use in defining details of an axis.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tvar axis, axisType = kwArgs && kwArgs.type || \"Default\";\n\t\t\tif(typeof axisType == \"string\"){\n\t\t\t\tif(!dc.axis2d || !dc.axis2d[axisType]){\n\t\t\t\t\tthrow Error(\"Can't find axis: \" + axisType + \" - Check \" + \"require() dependencies.\");\n\t\t\t\t}\n\t\t\t\taxis = new dc.axis2d[axisType](this, kwArgs);\n\t\t\t}else{\n\t\t\t\taxis = new axisType(this, kwArgs);\n\t\t\t}\n\t\t\taxis.name = name;\n\t\t\taxis.dirty = true;\n\t\t\tif(name in this.axes){\n\t\t\t\tthis.axes[name].destroy();\n\t\t\t}\n\t\t\tthis.axes[name] = axis;\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tgetAxis: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tGet the given axis, by name.\n\t\t\t// name: String\n\t\t\t//\t\tThe name the axis was defined by.\n\t\t\t// returns: dojox/charting/axis2d/Default\n\t\t\t//\t\tThe axis as stored in the chart's axis map.\n\t\t\treturn this.axes[name];\t//\tdojox/charting/axis2d/Default\n\t\t},\n\t\tremoveAxis: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tRemove the axis that was defined using name.\n\t\t\t// name: String\n\t\t\t//\t\tThe axis name, as defined in addAxis.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.axes){\n\t\t\t\t// destroy the axis\n\t\t\t\tthis.axes[name].destroy();\n\t\t\t\tdelete this.axes[name];\n\t\t\t\t// mark the chart as dirty\n\t\t\t\tthis.dirty = true;\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\taddPlot: function(name, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tAdd a new plot to the chart, defined by name and using the optional keyword arguments object.\n\t\t\t//\t\tNote that dojox.charting assumes the main plot to be called \"default\"; if you do not have\n\t\t\t//\t\ta plot called \"default\" and attempt to add data series to the chart without specifying the\n\t\t\t//\t\tplot to be rendered on, you WILL get errors.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the plot to be added to the chart.  If you only plan on using one plot, call it \"default\".\n\t\t\t// kwArgs: dojox.charting.plot2d.__PlotCtorArgs\n\t\t\t//\t\tAn object with optional parameters for the plot in question.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tvar plot, plotType = kwArgs && kwArgs.type || \"Default\";\n\t\t\tif(typeof plotType == \"string\"){\n\t\t\t\tif(!dc.plot2d || !dc.plot2d[plotType]){\n\t\t\t\t\tthrow Error(\"Can't find plot: \" + plotType + \" - didn't you forget to dojo\" + \".require() it?\");\n\t\t\t\t}\n\t\t\t\tplot = new dc.plot2d[plotType](this, kwArgs);\n\t\t\t}else{\n\t\t\t\tplot = new plotType(this, kwArgs);\n\t\t\t}\n\t\t\tplot.name = name;\n\t\t\tplot.dirty = true;\n\t\t\tif(name in this.plots){\n\t\t\t\tthis.stack[this.plots[name]].destroy();\n\t\t\t\tthis.stack[this.plots[name]] = plot;\n\t\t\t}else{\n\t\t\t\tthis.plots[name] = this.stack.length;\n\t\t\t\tthis.stack.push(plot);\n\t\t\t}\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tgetPlot: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tGet the given plot, by name.\n\t\t\t// name: String\n\t\t\t//\t\tThe name the plot was defined by.\n\t\t\t// returns: dojox/charting/plot2d/Base\n\t\t\t//\t\tThe plot.\n\t\t\treturn this.stack[this.plots[name]];\n\t\t},\n\t\tremovePlot: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tRemove the plot defined using name from the chart's plot stack.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the plot as defined using addPlot.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.plots){\n\t\t\t\t// get the index and remove the name\n\t\t\t\tvar index = this.plots[name];\n\t\t\t\tdelete this.plots[name];\n\t\t\t\t// destroy the plot\n\t\t\t\tthis.stack[index].destroy();\n\t\t\t\t// remove the plot from the stack\n\t\t\t\tthis.stack.splice(index, 1);\n\t\t\t\t// update indices to reflect the shift\n\t\t\t\tfunc.forIn(this.plots, function(idx, name, plots){\n\t\t\t\t\tif(idx > index){\n\t\t\t\t\t\tplots[name] = idx - 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// remove all related series\n\t\t\t\tvar ns = arr.filter(this.series, function(run){ return run.plot != name; });\n\t\t\t\tif(ns.length < this.series.length){\n\t\t\t\t\t// kill all removed series\n\t\t\t\t\tarr.forEach(this.series, function(run){\n\t\t\t\t\t\tif(run.plot == name){\n\t\t\t\t\t\t\trun.destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// rebuild all necessary data structures\n\t\t\t\t\tthis.runs = {};\n\t\t\t\t\tarr.forEach(ns, function(run, index){\n\t\t\t\t\t\tthis.runs[run.plot] = index;\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis.series = ns;\n\t\t\t\t}\n\t\t\t\t// mark the chart as dirty\n\t\t\t\tthis.dirty = true;\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tgetPlotOrder: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns an array of plot names in the current order\n\t\t\t//\t\t(the top-most plot is the first).\n\t\t\t// returns: Array\n\t\t\treturn func.map(this.stack, getName); // Array\n\t\t},\n\t\tsetPlotOrder: function(newOrder){\n\t\t\t// summary:\n\t\t\t//\t\tSets new order of plots. newOrder cannot add or remove\n\t\t\t//\t\tplots. Wrong names, or dups are ignored.\n\t\t\t// newOrder: Array\n\t\t\t//\t\tArray of plot names compatible with getPlotOrder().\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tvar names = {},\n\t\t\t\torder = func.filter(newOrder, function(name){\n\t\t\t\t\tif(!(name in this.plots) || (name in names)){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tnames[name] = 1;\n\t\t\t\t\treturn true;\n\t\t\t\t}, this);\n\t\t\tif(order.length < this.stack.length){\n\t\t\t\tfunc.forEach(this.stack, function(plot){\n\t\t\t\t\tvar name = plot.name;\n\t\t\t\t\tif(!(name in names)){\n\t\t\t\t\t\torder.push(name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar newStack = func.map(order, function(name){\n\t\t\t\t\treturn this.stack[this.plots[name]];\n\t\t\t\t}, this);\n\t\t\tfunc.forEach(newStack, function(plot, i){\n\t\t\t\tthis.plots[plot.name] = i;\n\t\t\t}, this);\n\t\t\tthis.stack = newStack;\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tmovePlotToFront: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tMoves a given plot to front.\n\t\t\t// name: String\n\t\t\t//\t\tPlot's name to move.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.plots){\n\t\t\t\tvar index = this.plots[name];\n\t\t\t\tif(index){\n\t\t\t\t\tvar newOrder = this.getPlotOrder();\n\t\t\t\t\tnewOrder.splice(index, 1);\n\t\t\t\t\tnewOrder.unshift(name);\n\t\t\t\t\treturn this.setPlotOrder(newOrder);\t//\tdojox/charting/Chart\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tmovePlotToBack: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tMoves a given plot to back.\n\t\t\t// name: String\n\t\t\t//\t\tPlot's name to move.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.plots){\n\t\t\t\tvar index = this.plots[name];\n\t\t\t\tif(index < this.stack.length - 1){\n\t\t\t\t\tvar newOrder = this.getPlotOrder();\n\t\t\t\t\tnewOrder.splice(index, 1);\n\t\t\t\t\tnewOrder.push(name);\n\t\t\t\t\treturn this.setPlotOrder(newOrder);\t//\tdojox/charting/Chart\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\taddSeries: function(name, data, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tAdd a data series to the chart for rendering.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the data series to be plotted.\n\t\t\t// data: Array|Object\n\t\t\t//\t\tThe array of data points (either numbers or objects) that\n\t\t\t//\t\trepresents the data to be drawn. Or it can be an object. In\n\t\t\t//\t\tthe latter case, it should have a property \"data\" (an array),\n\t\t\t//\t\tdestroy(), and setSeriesObject().\n\t\t\t// kwArgs: __SeriesCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object that will be mixed into\n\t\t\t//\t\tthe resultant series object.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tvar run = new Series(this, data, kwArgs);\n\t\t\trun.name = name;\n\t\t\tif(name in this.runs){\n\t\t\t\tthis.series[this.runs[name]].destroy();\n\t\t\t\tthis.series[this.runs[name]] = run;\n\t\t\t}else{\n\t\t\t\tthis.runs[name] = this.series.length;\n\t\t\t\tthis.series.push(run);\n\t\t\t}\n\t\t\tthis.dirty = true;\n\t\t\t// fix min/max\n\t\t\tif(!(\"ymin\" in run) && \"min\" in run){ run.ymin = run.min; }\n\t\t\tif(!(\"ymax\" in run) && \"max\" in run){ run.ymax = run.max; }\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tgetSeries: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tGet the given series, by name.\n\t\t\t// name: String\n\t\t\t//\t\tThe name the series was defined by.\n\t\t\t// returns: dojox/charting/Series\n\t\t\t//\t\tThe series.\n\t\t\treturn this.series[this.runs[name]];\n\t\t},\n\t\tremoveSeries: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tRemove the series defined by name from the chart.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the series as defined by addSeries.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.runs){\n\t\t\t\t// get the index and remove the name\n\t\t\t\tvar index = this.runs[name];\n\t\t\t\tdelete this.runs[name];\n\t\t\t\t// destroy the run\n\t\t\t\tthis.series[index].destroy();\n\t\t\t\t// remove the run from the stack of series\n\t\t\t\tthis.series.splice(index, 1);\n\t\t\t\t// update indices to reflect the shift\n\t\t\t\tfunc.forIn(this.runs, function(idx, name, runs){\n\t\t\t\t\tif(idx > index){\n\t\t\t\t\t\truns[name] = idx - 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.dirty = true;\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tupdateSeries: function(name, data, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tUpdate the given series with a new set of data points.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the series as defined in addSeries.\n\t\t\t// data: Array|Object\n\t\t\t//\t\tThe array of data points (either numbers or objects) that\n\t\t\t//\t\trepresents the data to be drawn. Or it can be an object. In\n\t\t\t//\t\tthe latter case, it should have a property \"data\" (an array),\n\t\t\t//\t\tdestroy(), and setSeriesObject().\n\t\t\t// offsets: Boolean?\n\t\t\t//\t\tIf true recomputes the offsets of the chart based on the new\n\t\t\t//\t\tdata. This is useful if the range of data is drastically changing\n\t\t\t//\t\tand offsets need to be recomputed.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.runs){\n\t\t\t\tvar run = this.series[this.runs[name]];\n\t\t\t\trun.update(data);\n\t\t\t\tif(offsets){\n\t\t\t\t\tthis.dirty = true;\n\t\t\t\t}else{\n\t\t\t\t\tthis._invalidateDependentPlots(run.plot, false);\n\t\t\t\t\tthis._invalidateDependentPlots(run.plot, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tgetSeriesOrder: function(plotName){\n\t\t\t// summary:\n\t\t\t//\t\tReturns an array of series names in the current order\n\t\t\t//\t\t(the top-most series is the first) within a plot.\n\t\t\t// plotName: String\n\t\t\t//\t\tPlot's name.\n\t\t\t// returns: Array\n\t\t\treturn func.map(func.filter(this.series, function(run){\n\t\t\t\t\treturn run.plot == plotName;\n\t\t\t\t}), getName);\n\t\t},\n\t\tsetSeriesOrder: function(newOrder){\n\t\t\t// summary:\n\t\t\t//\t\tSets new order of series within a plot. newOrder cannot add\n\t\t\t//\t\tor remove series. Wrong names, or dups are ignored.\n\t\t\t// newOrder: Array\n\t\t\t//\t\tArray of series names compatible with getPlotOrder(). All\n\t\t\t//\t\tseries should belong to the same plot.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tvar plotName, names = {},\n\t\t\t\torder = func.filter(newOrder, function(name){\n\t\t\t\t\tif(!(name in this.runs) || (name in names)){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar run = this.series[this.runs[name]];\n\t\t\t\t\tif(plotName){\n\t\t\t\t\t\tif(run.plot != plotName){\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tplotName = run.plot;\n\t\t\t\t\t}\n\t\t\t\t\tnames[name] = 1;\n\t\t\t\t\treturn true;\n\t\t\t\t}, this);\n\t\t\tfunc.forEach(this.series, function(run){\n\t\t\t\tvar name = run.name;\n\t\t\t\tif(!(name in names) && run.plot == plotName){\n\t\t\t\t\torder.push(name);\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar newSeries = func.map(order, function(name){\n\t\t\t\t\treturn this.series[this.runs[name]];\n\t\t\t\t}, this);\n\t\t\tthis.series = newSeries.concat(func.filter(this.series, function(run){\n\t\t\t\treturn run.plot != plotName;\n\t\t\t}));\n\t\t\tfunc.forEach(this.series, function(run, i){\n\t\t\t\tthis.runs[run.name] = i;\n\t\t\t}, this);\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tmoveSeriesToFront: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tMoves a given series to front of a plot.\n\t\t\t// name: String\n\t\t\t//\t\tSeries' name to move.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.runs){\n\t\t\t\tvar index = this.runs[name],\n\t\t\t\t\tnewOrder = this.getSeriesOrder(this.series[index].plot);\n\t\t\t\tif(name != newOrder[0]){\n\t\t\t\t\tnewOrder.splice(index, 1);\n\t\t\t\t\tnewOrder.unshift(name);\n\t\t\t\t\treturn this.setSeriesOrder(newOrder);\t//\tdojox/charting/Chart\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tmoveSeriesToBack: function(name){\n\t\t\t// summary:\n\t\t\t//\t\tMoves a given series to back of a plot.\n\t\t\t// name: String\n\t\t\t//\t\tSeries' name to move.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(name in this.runs){\n\t\t\t\tvar index = this.runs[name],\n\t\t\t\t\tnewOrder = this.getSeriesOrder(this.series[index].plot);\n\t\t\t\tif(name != newOrder[newOrder.length - 1]){\n\t\t\t\t\tnewOrder.splice(index, 1);\n\t\t\t\t\tnewOrder.push(name);\n\t\t\t\t\treturn this.setSeriesOrder(newOrder);\t//\tdojox/charting/Chart\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tresize: function(width, height){\n\t\t\t// summary:\n\t\t\t//\t\tResize the chart to the dimensions of width and height.\n\t\t\t// description:\n\t\t\t//\t\tResize the chart and its surface to the width and height dimensions.\n\t\t\t//\t\tIf a single argument of the form {w: value1, h: value2} is provided take that argument as the dimensions to use.\n\t\t\t//\t\tFinally if no argument is provided, resize the surface to the marginBox of the chart.\n\t\t\t// width: Number|Object?\n\t\t\t//\t\tThe new width of the chart or the box definition.\n\t\t\t// height: Number?\n\t\t\t//\t\tThe new height of the chart.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tswitch(arguments.length){\n\t\t\t\t// case 0, do not resize the div, just the surface\n\t\t\t\tcase 1:\n\t\t\t\t\t// argument, override node box\n\t\t\t\t\tdomGeom.setMarginBox(this.node, width);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\t// argument, override node box\n\t\t\t\t\tdomGeom.setMarginBox(this.node, {w: width, h: height});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// in all cases take back the computed box\n\t\t\tvar box = domGeom.getMarginBox(this.node);\n\t\t\tvar d = this.surface.getDimensions();\n\t\t\tif(d.width != box.w || d.height != box.h){\n\t\t\t\t// and set it on the surface\n\t\t\t\tthis.surface.setDimensions(box.w, box.h);\n\t\t\t\tthis.dirty = true;\n\t\t\t\treturn this.render();\t//\tdojox/charting/Chart\n\t\t\t}else{\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\t\tgetGeometry: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns a map of information about all axes in a chart and what they represent\n\t\t\t//\t\tin terms of scaling (see dojox.charting.axis2d.Default.getScaler).\n\t\t\t// returns: Object\n\t\t\t//\t\tAn map of geometry objects, a one-to-one mapping of axes.\n\t\t\tvar ret = {};\n\t\t\tfunc.forIn(this.axes, function(axis){\n\t\t\t\tif(axis.initialized()){\n\t\t\t\t\tret[axis.name] = {\n\t\t\t\t\t\tname:\t\taxis.name,\n\t\t\t\t\t\tvertical:\taxis.vertical,\n\t\t\t\t\t\tscaler:\t\taxis.scaler,\n\t\t\t\t\t\tticks:\t\taxis.ticks\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ret;\t//\tObject\n\t\t},\n\t\tsetAxisWindow: function(name, scale, offset, zoom){\n\t\t\t// summary:\n\t\t\t//\t\tZooms an axis and all dependent plots. Can be used to zoom in 1D.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the axis as defined by addAxis.\n\t\t\t// scale: Number\n\t\t\t//\t\tThe scale on the target axis.\n\t\t\t// offset: Number\n\t\t\t//\t\tAny offest, as measured by axis tick\n\t\t\t// zoom: Boolean|Object?\n\t\t\t//\t\tThe chart zooming animation trigger.  This is null by default,\n\t\t\t//\t\te.g. {duration: 1200}, or just set true.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tvar axis = this.axes[name];\n\t\t\tif(axis){\n\t\t\t\taxis.setWindow(scale, offset);\n\t\t\t\tarr.forEach(this.stack,function(plot){\n\t\t\t\t\tif(plot.hAxis == name || plot.vAxis == name){\n\t\t\t\t\t\tplot.zoom = zoom;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tsetWindow: function(sx, sy, dx, dy, zoom){\n\t\t\t// summary:\n\t\t\t//\t\tZooms in or out any plots in two dimensions.\n\t\t\t// sx: Number\n\t\t\t//\t\tThe scale for the x axis.\n\t\t\t// sy: Number\n\t\t\t//\t\tThe scale for the y axis.\n\t\t\t// dx: Number\n\t\t\t//\t\tThe pixel offset on the x axis.\n\t\t\t// dy: Number\n\t\t\t//\t\tThe pixel offset on the y axis.\n\t\t\t// zoom: Boolean|Object?\n\t\t\t//\t\tThe chart zooming animation trigger.  This is null by default,\n\t\t\t//\t\te.g. {duration: 1200}, or just set true.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(!(\"plotArea\" in this)){\n\t\t\t\tthis.calculateGeometry();\n\t\t\t}\n\t\t\tfunc.forIn(this.axes, function(axis){\n\t\t\t\tvar scale, offset, bounds = axis.getScaler().bounds,\n\t\t\t\t\ts = bounds.span / (bounds.upper - bounds.lower);\n\t\t\t\tif(axis.vertical){\n\t\t\t\t\tscale  = sy;\n\t\t\t\t\toffset = dy / s / scale;\n\t\t\t\t}else{\n\t\t\t\t\tscale  = sx;\n\t\t\t\t\toffset = dx / s / scale;\n\t\t\t\t}\n\t\t\t\taxis.setWindow(scale, offset);\n\t\t\t});\n\t\t\tarr.forEach(this.stack, function(plot){ plot.zoom = zoom; });\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tzoomIn:\tfunction(name, range, delayed){\n\t\t\t// summary:\n\t\t\t//\t\tZoom the chart to a specific range on one axis.  This calls render()\n\t\t\t//\t\tdirectly as a convenience method.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the axis as defined by addAxis.\n\t\t\t// range: Array\n\t\t\t//\t\tThe end points of the zoom range, measured in axis ticks.\n\t\t\tvar axis = this.axes[name];\n\t\t\tif(axis){\n\t\t\t\tvar scale, offset, bounds = axis.getScaler().bounds;\n\t\t\t\tvar lower = Math.min(range[0],range[1]);\n\t\t\t\tvar upper = Math.max(range[0],range[1]);\n\t\t\t\tlower = range[0] < bounds.lower ? bounds.lower : lower;\n\t\t\t\tupper = range[1] > bounds.upper ? bounds.upper : upper;\n\t\t\t\tscale = (bounds.upper - bounds.lower) / (upper - lower);\n\t\t\t\toffset = lower - bounds.lower;\n\t\t\t\tthis.setAxisWindow(name, scale, offset);\n\t\t\t\tif(delayed){\n\t\t\t\t\tthis.delayedRender();\n\t\t\t\t}else{\n\t\t\t\t\tthis.render();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcalculateGeometry: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the geometry of the chart based on the defined axes of\n\t\t\t//\t\ta chart.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(this.dirty){\n\t\t\t\treturn this.fullGeometry();\n\t\t\t}\n\n\t\t\t// calculate geometry\n\t\t\tvar dirty = arr.filter(this.stack, function(plot){\n\t\t\t\t\treturn plot.dirty ||\n\t\t\t\t\t\t(plot.hAxis && this.axes[plot.hAxis].dirty) ||\n\t\t\t\t\t\t(plot.vAxis && this.axes[plot.vAxis].dirty);\n\t\t\t\t}, this);\n\t\t\tcalculateAxes(dirty, this.plotArea);\n\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tfullGeometry: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the full geometry of the chart.  This includes passing\n\t\t\t//\t\tover all major elements of a chart (plots, axes, series, container)\n\t\t\t//\t\tin order to ensure proper rendering.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tthis._makeDirty();\n\n\t\t\t// clear old values\n\t\t\tarr.forEach(this.stack, clear);\n\n\t\t\t// rebuild new connections, and add defaults\n\n\t\t\t// set up a theme\n\t\t\tif(!this.theme){\n\t\t\t\tthis.setTheme(new SimpleTheme());\n\t\t\t}\n\n\t\t\t// assign series\n\t\t\tarr.forEach(this.series, function(run){\n\t\t\t\tif(!(run.plot in this.plots)){\n\t\t\t\t\t// TODO remove auto-assignment\n\t\t\t\t\tif(!dc.plot2d || !dc.plot2d.Default){\n\t\t\t\t\t\tthrow Error(\"Can't find plot: Default - didn't you forget to dojo\" + \".require() it?\");\n\t\t\t\t\t}\n\t\t\t\t\tvar plot = new dc.plot2d.Default(this, {});\n\t\t\t\t\tplot.name = run.plot;\n\t\t\t\t\tthis.plots[run.plot] = this.stack.length;\n\t\t\t\t\tthis.stack.push(plot);\n\t\t\t\t}\n\t\t\t\tthis.stack[this.plots[run.plot]].addSeries(run);\n\t\t\t}, this);\n\t\t\t// assign axes\n\t\t\tarr.forEach(this.stack, function(plot){\n\t\t\t\tif(plot.assignAxes){\n\t\t\t\t\tplot.assignAxes(this.axes);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\t// calculate geometry\n\n\t\t\t// 1st pass\n\t\t\tvar dim = this.dim = this.surface.getDimensions();\n\t\t\tdim.width  = g.normalizedLength(dim.width);\n\t\t\tdim.height = g.normalizedLength(dim.height);\n\t\t\tfunc.forIn(this.axes, clear);\n\t\t\tcalculateAxes(this.stack, dim);\n\n\t\t\t// assumption: we don't have stacked axes yet\n\t\t\tvar offsets = this.offsets = {l: 0, r: 0, t: 0, b: 0};\n\t\t\t// chart mirroring starts\n\t\t\tvar self = this;\n\t\t\tfunc.forIn(this.axes, function(axis){\n\t\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\t\tself._resetLeftBottom(axis);\n\t\t\t\t}\n\t\t\t\tfunc.forIn(axis.getOffsets(), function(o, i){ offsets[i] = Math.max(o, offsets[i]); });\n\t\t\t});\n\t\t\t// chart mirroring ends\n\t\t\t// add title area\n\t\t\tif(this.title){\n\t\t\t\tthis.titleGap = (this.titleGap==0) ? 0 : this.titleGap || this.theme.chart.titleGap || 20;\n\t\t\t\tthis.titlePos = this.titlePos || this.theme.chart.titlePos || \"top\";\n\t\t\t\tthis.titleFont = this.titleFont || this.theme.chart.titleFont;\n\t\t\t\tthis.titleFontColor = this.titleFontColor || this.theme.chart.titleFontColor || \"black\";\n\t\t\t\tthis.titleAlign = this.titleAlign || this.theme && this.theme.chart && this.theme.chart.titleAlign || \"middle\";\n\t\t\t\tvar tsize = g.normalizedLength(g.splitFontString(this.titleFont).size);\n\t\t\t\toffsets[this.titlePos == \"top\" ? \"t\" : \"b\"] += (tsize + this.titleGap);\n\t\t\t}\n\t\t\t// add margins\n\t\t\tfunc.forIn(this.margins, function(o, i){ offsets[i] += o; });\n\n\t\t\t// 2nd pass with realistic dimensions\n\t\t\tthis.plotArea = {\n\t\t\t\twidth: dim.width - offsets.l - offsets.r,\n\t\t\t\theight: dim.height - offsets.t - offsets.b\n\t\t\t};\n\t\t\tfunc.forIn(this.axes, clear);\n\t\t\tcalculateAxes(this.stack, this.plotArea);\n\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\trender: function(){\n\t\t\t// summary:\n\t\t\t//\t\tRender the chart according to the current information defined.  This should\n\t\t\t//\t\tbe the last call made when defining/creating a chart, or if data within the\n\t\t\t//\t\tchart has been changed.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\n\t\t\t// do we have a delayed renderer pending? If yes we need to clear it\n\t\t\tif(this._delayedRenderHandle){\n\t\t\t\tclearTimeout(this._delayedRenderHandle);\n\t\t\t\tthis._delayedRenderHandle = null;\n\t\t\t}\n\n\t\t\tif(this.theme){\n\t\t\t\tthis.theme.clear();\n\t\t\t}\n\n\t\t\tif(this.dirty){\n\t\t\t\treturn this.fullRender();\n\t\t\t}\n\n\t\t\tthis.calculateGeometry();\n\n\t\t\t// go over the stack backwards\n\t\t\tfunc.forEachRev(this.stack, function(plot){ plot.render(this.dim, this.offsets); }, this);\n\n\t\t\t// go over axes\n\t\t\tfunc.forIn(this.axes, function(axis){ axis.render(this.dim, this.offsets); }, this);\n\n\t\t\tthis._makeClean();\n\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tfullRender: function(){\n\t\t\t// summary:\n\t\t\t//\t\tForce a full rendering of the chart, including full resets on the chart itself.\n\t\t\t//\t\tYou should not call this method directly unless absolutely necessary.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\n\t\t\t// calculate geometry\n\t\t\tthis.fullGeometry();\n\t\t\tvar offsets = this.offsets, dim = this.dim;\n\t\t\tvar w = Math.max(0, dim.width  - offsets.l - offsets.r),\n\t\t\t\th = Math.max(0, dim.height - offsets.t - offsets.b);\n\n\t\t\t// get required colors\n\t\t\t//var requiredColors = func.foldl(this.stack, \"z + plot.getRequiredColors()\", 0);\n\t\t\t//this.theme.defineColors({num: requiredColors, cache: false});\n\n\t\t\t// clear old shapes\n\t\t\tarr.forEach(this.series, plot2dCommon.purgeGroup);\n\t\t\tfunc.forIn(this.axes, plot2dCommon.purgeGroup);\n\t\t\tarr.forEach(this.stack, plot2dCommon.purgeGroup);\n\t\t\tvar children = this.surface.children;\n\t\t\t// starting with 1.9 the registry is optional and thus dispose is\n\t\t\tif(shape.dispose){\n\t\t\t\tfor(var i = 0; i < children.length;++i){\n\t\t\t\t\tshape.dispose(children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(this.chartTitle && this.chartTitle.tagName){\n\t\t\t\t// destroy title if it is a DOM node\n\t\t\t    domConstruct.destroy(this.chartTitle);\n\t\t\t}\n\t\t\tthis.surface.clear();\n\t\t\tthis.chartTitle = null;\n\n\t\t\tthis._renderChartBackground(dim, offsets);\n\t\t\tif(this._nativeClip){\n\t\t\t\tthis._renderPlotBackground(dim, offsets, w, h);\n\t\t\t}else{\n\t\t\t\t// VML\n\t\t\t\tthis._renderPlotBackground(dim, offsets, w, h);\n\t\t\t}\n\n\t\t\t// go over the stack backwards\n\t\t\tfunc.foldr(this.stack, function(z, plot){ return plot.render(dim, offsets), 0; }, 0);\n\n\t\t\tif(!this._nativeClip){\n\t\t\t\t// VML, matting-clipping\n\t\t\t\tthis._renderChartBackground(dim, offsets);\n\t\t\t}\n\n\t\t\t//create title: Whether to make chart title as a widget which extends dojox.charting.Element?\n\t\t\tif(this.title){\n\t\t\t\tthis._renderTitle(dim, offsets);\n\t\t\t}\n\n\t\t\t// go over axes\n\t\t\tfunc.forIn(this.axes, function(axis){ axis.render(dim, offsets); });\n\n\t\t\tthis._makeClean();\n\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\t_renderTitle: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tInternal function to render the chart title.\n\t\t\t// dim:\n\t\t\t//\t\tThe dimension object of the chart\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t\tvar forceHtmlLabels = (g.renderer == \"canvas\") && this.htmlLabels,\n\t\t\t\tlabelType = forceHtmlLabels || !has(\"ie\") && !has(\"opera\") && this.htmlLabels ? \"html\" : \"gfx\",\n\t\t\t\ttsize = g.normalizedLength(g.splitFontString(this.titleFont).size),\n\t\t\t\ttBox = g._base._getTextBox(this.title,{ font: this.titleFont });\n\n\t\t\tvar titleAlign = this.titleAlign;\n\t\t\tvar isRtl = has(\"dojo-bidi\") && this.isRightToLeft();\n\t\t\tvar posX = dim.width/2; // Default is middle.\n\t\t\tif(titleAlign === \"edge\"){\n\t\t\t\ttitleAlign = \"left\";\n\t\t\t\tif(isRtl){\n\t\t\t\t\tposX = dim.width - (offsets.r + tBox.w);\n\t\t\t\t}else {\n\t\t\t\t\tposX = offsets.l;\n\t\t\t\t}\n\t\t\t}else if(titleAlign != \"middle\"){\n\t\t\t\tif(isRtl){\n\t\t\t\t\t// We're in BIDI mode, reverse the alignment.\n\t\t\t\t\ttitleAlign = titleAlign === \"left\" ? \"right\" : \"left\";\n\t\t\t\t}\n\t\t\t\tif(titleAlign === \"left\"){\n\t\t\t\t\tposX = this.margins.l;\n\t\t\t\t}else if(titleAlign === \"right\"){\n\t\t\t\t\ttitleAlign = \"left\";\n\t\t\t\t\tposX = dim.width - (this.margins.l + tBox.w);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.chartTitle = common.createText[labelType](\n\t\t\t\tthis,\n\t\t\t\tthis.surface,\n\t\t\t\tposX,\n\t\t\t\tthis.titlePos==\"top\" ? tsize + this.margins.t : dim.height - this.margins.b,\n\t\t\t\ttitleAlign,\n\t\t\t\tthis.title,\n\t\t\t\tthis.titleFont,\n\t\t\t\tthis.titleFontColor\n\t\t\t);\n\t\t},\n\t\t_renderChartBackground: function(dim, offsets){\n\t\t\tvar t = this.theme, rect;\n\t\t\t// chart background\n\t\t\tvar fill   = this.fill   !== undefined ? this.fill   : (t.chart && t.chart.fill);\n\t\t\tvar stroke = this.stroke !== undefined ? this.stroke : (t.chart && t.chart.stroke);\n\n\t\t\t// TRT: support for \"inherit\" as a named value in a theme.\n\t\t\tif(fill == \"inherit\"){\n\t\t\t\t//\tfind the background color of the nearest ancestor node, and use that explicitly.\n\t\t\t\tvar node = this.node;\n\t\t\t\tfill = new Color(domStyle.get(node, \"backgroundColor\"));\n\t\t\t\twhile(fill.a==0 && node!=document.documentElement){\n\t\t\t\t\tfill = new Color(domStyle.get(node, \"backgroundColor\"));\n\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(fill){\n\t\t\t\tif(this._nativeClip){\n\t\t\t\t\tfill = Element.prototype._shapeFill(Element.prototype._plotFill(fill, dim),\n\t\t\t\t\t\t{ x:0, y: 0, width: dim.width + 1, height: dim.height + 1 });\n\t\t\t\t\tthis.surface.createRect({ width: dim.width + 1, height: dim.height + 1 }).setFill(fill);\n\t\t\t\t}else{\n\t\t\t\t\t// VML\n\t\t\t\t\tfill = Element.prototype._plotFill(fill, dim, offsets);\n\t\t\t\t\tif(offsets.l){\t// left\n\t\t\t\t\t\trect = {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\twidth:  offsets.l,\n\t\t\t\t\t\t\theight: dim.height + 1\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.surface.createRect(rect).setFill(Element.prototype._shapeFill(fill, rect));\n\t\t\t\t\t}\n\t\t\t\t\tif(offsets.r){\t// right\n\t\t\t\t\t\trect = {\n\t\t\t\t\t\t\tx: dim.width - offsets.r,\n\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\twidth:  offsets.r + 1,\n\t\t\t\t\t\t\theight: dim.height + 2\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.surface.createRect(rect).setFill(Element.prototype._shapeFill(fill, rect));\n\t\t\t\t\t}\n\t\t\t\t\tif(offsets.t){\t// top\n\t\t\t\t\t\trect = {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\twidth:  dim.width + 1,\n\t\t\t\t\t\t\theight: offsets.t\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.surface.createRect(rect).setFill(Element.prototype._shapeFill(fill, rect));\n\t\t\t\t\t}\n\t\t\t\t\tif(offsets.b){\t// bottom\n\t\t\t\t\t\trect = {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: dim.height - offsets.b,\n\t\t\t\t\t\t\twidth:  dim.width + 1,\n\t\t\t\t\t\t\theight: offsets.b + 2\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.surface.createRect(rect).setFill(Element.prototype._shapeFill(fill, rect));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(stroke){\n\t\t\t\tthis.surface.createRect({\n\t\t\t\t\twidth:  dim.width - 1,\n\t\t\t\t\theight: dim.height - 1\n\t\t\t\t}).setStroke(stroke);\n\t\t\t}\n\t\t},\n\t\t_renderPlotBackground: function(dim, offsets, w, h){\n\t\t\tvar t = this.theme;\n\n\t\t\t// draw a plot background\n\t\t\tvar fill   = t.plotarea && t.plotarea.fill;\n\t\t\tvar stroke = t.plotarea && t.plotarea.stroke;\n\t\t\t// size might be neg if offsets are bigger that chart size this happens quite often at\n\t\t\t// initialization time if the chart widget is used in a BorderContainer\n\t\t\t// this will fail on IE/VML\n\t\t\tvar rect = {\n\t\t\t\tx: offsets.l - 1, y: offsets.t - 1,\n\t\t\t\twidth:  w + 2,\n\t\t\t\theight: h + 2\n\t\t\t};\n\t\t\tif(fill){\n\t\t\t\tfill = Element.prototype._shapeFill(Element.prototype._plotFill(fill, dim, offsets), rect);\n\t\t\t\tthis.surface.createRect(rect).setFill(fill);\n\t\t\t}\n\t\t\tif(stroke){\n\t\t\t\tthis.surface.createRect({\n\t\t\t\t\tx: offsets.l, y: offsets.t,\n\t\t\t\t\twidth:  w + 1,\n\t\t\t\t\theight: h + 1\n\t\t\t\t}).setStroke(stroke);\n\t\t\t}\n\t\t},\n\t\tdelayedRender: function(){\n\t\t\t// summary:\n\t\t\t//\t\tDelayed render, which is used to collect multiple updates\n\t\t\t//\t\twithin a delayInMs time window.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\n\t\t\tif(!this._delayedRenderHandle){\n\t\t\t\tthis._delayedRenderHandle = setTimeout(\n\t\t\t\t\tlang.hitch(this, function(){\n\t\t\t\t\t\tthis.render();\n\t\t\t\t\t}),\n\t\t\t\t\tthis.delayInMs\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\tconnectToPlot: function(name, object, method){\n\t\t\t// summary:\n\t\t\t//\t\tA convenience method to connect a function to a plot.\n\t\t\t// name: String\n\t\t\t//\t\tThe name of the plot as defined by addPlot.\n\t\t\t// object: Object\n\t\t\t//\t\tThe object to be connected.\n\t\t\t// method: Function\n\t\t\t//\t\tThe function to be executed.\n\t\t\t// returns: Array\n\t\t\t//\t\tA handle to the connection, as defined by dojo.connect (see dojo.connect).\n\t\t\treturn name in this.plots ? this.stack[this.plots[name]].connect(object, method) : null;\t//\tArray\n\t\t},\n\t\tfireEvent: function(seriesName, eventName, index){\n\t\t\t// summary:\n\t\t\t//\t\tFires a synthetic event for a series item.\n\t\t\t// seriesName: String\n\t\t\t//\t\tSeries name.\n\t\t\t// eventName: String\n\t\t\t//\t\tEvent name to simulate: onmouseover, onmouseout, onclick.\n\t\t\t// index: Number\n\t\t\t//\t\tValid data value index for the event.\n\t\t\t// returns: dojox/charting/Chart\n\t\t\t//\t\tA reference to the current chart for functional chaining.\n\t\t\tif(seriesName in this.runs){\n\t\t\t\tvar plotName = this.series[this.runs[seriesName]].plot;\n\t\t\t\tif(plotName in this.plots){\n\t\t\t\t\tvar plot = this.stack[this.plots[plotName]];\n\t\t\t\t\tif(plot){\n\t\t\t\t\t\tplot.fireEvent(seriesName, eventName, index);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/Chart\n\t\t},\n\t\t_makeClean: function(){\n\t\t\t// reset dirty flags\n\t\t\tarr.forEach(this.axes,   makeClean);\n\t\t\tarr.forEach(this.stack,  makeClean);\n\t\t\tarr.forEach(this.series, makeClean);\n\t\t\tthis.dirty = false;\n\t\t},\n\t\t_makeDirty: function(){\n\t\t\t// reset dirty flags\n\t\t\tarr.forEach(this.axes,   makeDirty);\n\t\t\tarr.forEach(this.stack,  makeDirty);\n\t\t\tarr.forEach(this.series, makeDirty);\n\t\t\tthis.dirty = true;\n\t\t},\n\t\t_invalidateDependentPlots: function(plotName, /* Boolean */ verticalAxis){\n\t\t\tif(plotName in this.plots){\n\t\t\t\tvar plot = this.stack[this.plots[plotName]], axis,\n\t\t\t\t\taxisName = verticalAxis ? \"vAxis\" : \"hAxis\";\n\t\t\t\tif(plot[axisName]){\n\t\t\t\t\taxis = this.axes[plot[axisName]];\n\t\t\t\t\tif(axis && axis.dependOnData()){\n\t\t\t\t\t\taxis.dirty = true;\n\t\t\t\t\t\t// find all plots and mark them dirty\n\t\t\t\t\t\tarr.forEach(this.stack, function(p){\n\t\t\t\t\t\t\tif(p[axisName] && p[axisName] == plot[axisName]){\n\t\t\t\t\t\t\t\tp.dirty = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tplot.dirty = true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetDir : function(dir){\n\t\t\treturn this;\n\t\t},\n\t\t_resetLeftBottom: function(axis){\n\t\t},\n\t\tformatTruncatedLabel: function(element, label, labelType){\n\t\t}\n\t});\n\n\tfunction hSection(stats){\n\t\treturn {min: stats.hmin, max: stats.hmax};\n\t}\n\n\tfunction vSection(stats){\n\t\treturn {min: stats.vmin, max: stats.vmax};\n\t}\n\n\tfunction hReplace(stats, h){\n\t\tstats.hmin = h.min;\n\t\tstats.hmax = h.max;\n\t}\n\n\tfunction vReplace(stats, v){\n\t\tstats.vmin = v.min;\n\t\tstats.vmax = v.max;\n\t}\n\n\tfunction combineStats(target, source){\n\t\tif(target && source){\n\t\t\ttarget.min = Math.min(target.min, source.min);\n\t\t\ttarget.max = Math.max(target.max, source.max);\n\t\t}\n\t\treturn target || source;\n\t}\n\n\tfunction calculateAxes(stack, plotArea){\n\t\tvar plots = {}, axes = {};\n\t\tarr.forEach(stack, function(plot){\n\t\t\tvar stats = plots[plot.name] = plot.getSeriesStats();\n\t\t\tif(plot.hAxis){\n\t\t\t\taxes[plot.hAxis] = combineStats(axes[plot.hAxis], hSection(stats));\n\t\t\t}\n\t\t\tif(plot.vAxis){\n\t\t\t\taxes[plot.vAxis] = combineStats(axes[plot.vAxis], vSection(stats));\n\t\t\t}\n\t\t});\n\t\tarr.forEach(stack, function(plot){\n\t\t\tvar stats = plots[plot.name];\n\t\t\tif(plot.hAxis){\n\t\t\t\thReplace(stats, axes[plot.hAxis]);\n\t\t\t}\n\t\t\tif(plot.vAxis){\n\t\t\t\tvReplace(stats, axes[plot.vAxis]);\n\t\t\t}\n\t\t\tplot.initializeScalers(plotArea, stats);\n\t\t});\n\t}\n\n\treturn has(\"dojo-bidi\")? declare(\"dojox.charting.Chart\", [Chart, BidiChart]) : Chart;\n});\n","define([\"dojo/_base/kernel\", \"dojo/_base/lang\", \"..\", \"./Chart\",\n\t\"./axis2d/Default\", \"./axis2d/Invisible\", \"./plot2d/Default\", \"./plot2d/Lines\", \"./plot2d/Areas\",\n\t\"./plot2d/Markers\", \"./plot2d/MarkersOnly\", \"./plot2d/Scatter\", \"./plot2d/Stacked\", \"./plot2d/StackedLines\",\n\t\"./plot2d/StackedAreas\", \"./plot2d/Columns\", \"./plot2d/StackedColumns\", \"./plot2d/ClusteredColumns\",\n\t\"./plot2d/Bars\", \"./plot2d/StackedBars\", \"./plot2d/ClusteredBars\", \"./plot2d/Grid\", \"./plot2d/Pie\",\n\t\"./plot2d/Bubble\", \"./plot2d/Candlesticks\", \"./plot2d/OHLC\", \"./plot2d/Spider\"], \n\t  function(kernel, lang, dojox, Chart){\n\tkernel.deprecated(\"dojox.charting.Chart2D\", \"Use dojox.charting.Chart instead and require all other components explicitly\", \"2.0\");\n\t// module:\n\t//\t\tdojox/charting/Chart2D\n\t// summary:\n\t//\t\tThis is a compatibility module which loads all charting modules that used to be automatically\n\t//\t\tloaded in versions prior to 1.6.  It is highly recommended for performance reasons that\n\t//\t\tthis module no longer be referenced by applications.  Instead, use dojox/charting/Chart.\n\treturn lang.setObject(\"dojox.charting.Chart2D\", Chart);\n});\n","define([\"dojo/_base/array\", \"dojo/dom-construct\",\"dojo/_base/declare\", \"dojox/gfx\", \"dojox/gfx/shape\"],\n\tfunction(arr, domConstruct, declare, gfx, shape){\n\n\treturn declare(\"dojox.charting.Element\", null, {\n\t\t// summary:\n\t\t//\t\tA base class that is used to build other elements of a chart, such as\n\t\t//\t\ta series.\n\t\t// chart: dojox/charting/Chart\n\t\t//\t\tThe parent chart for this element.\n\t\t// group: dojox/gfx/shape.Group\n\t\t//\t\tThe visual GFX group representing this element.\n\t\t// htmlElement: Array\n\t\t//\t\tAny DOMNodes used as a part of this element (such as HTML-based labels).\n\t\t// dirty: Boolean\n\t\t//\t\tA flag indicating whether or not this element needs to be rendered.\n\n\t\tchart: null,\n\t\tgroup: null,\n\t\thtmlElements: null,\n\t\tdirty: true,\n\t\trenderingOptions: null,\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreates a new charting element.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart that this element belongs to.\n\t\t\tthis.chart = chart;\n\t\t\tthis.group = null;\n\t\t\tthis.htmlElements = [];\n\t\t\tthis.dirty = true;\n\t\t\tthis.trailingSymbol = \"...\";\n\t\t\tthis._events = [];\n\t\t\tif (kwArgs && kwArgs.renderingOptions) {\n\t\t\t\tthis.renderingOptions = kwArgs.renderingOptions;\n\t\t\t}\n\t\t},\n\t\tpurgeGroup: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear any elements out of our group, and destroy the group.\n\t\t\t// returns: dojox/charting/Element\n\t\t\t//\t\tA reference to this object for functional chaining.\n\t\t\tthis.destroyHtmlElements();\n\t\t\tif(this.group){\n\t\t\t\t// since 1.7.x we need dispose shape otherwise there is a memoryleak\n\t\t\t\tthis.getGroup().removeShape();\n\t\t\t\tvar children = this.getGroup().children;\n\t\t\t\t// starting with 1.9 the registry is optional and thus dispose is\n\t\t\t\tif(shape.dispose){\n\t\t\t\t\tfor(var i = 0; i < children.length;++i){\n\t\t\t\t\t\tshape.dispose(children[i], true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.getGroup().rawNode){\n\t\t\t\t\tdomConstruct.empty(this.getGroup().rawNode);\n\t\t\t\t}\n\t\t\t\tthis.getGroup().clear();\n\t\t\t\t// starting with 1.9 the registry is optional and thus dispose is\n\t\t\t\tif(shape.dispose){\n\t\t\t\t\tshape.dispose(this.getGroup(), true);\n\t\t\t\t}\n\t\t\t\tif(this.getGroup() != this.group){\n\t\t\t\t\t// we do have an intermediary clipping group (see CartesianBase)\n\t\t\t\t\tif(this.group.rawNode){\n\t\t\t\t\t\tdomConstruct.empty(this.group.rawNode);\n\t\t\t\t\t}\n\t\t\t\t\tthis.group.clear();\n\t\t\t\t\t// starting with 1.9 the registry is optional and thus dispose is\n\t\t\t\t\tif(shape.dispose){\n\t\t\t\t\t\tshape.dispose(this.group, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.group = null;\n\t\t\t}\n\t\t\tthis.dirty = true;\n\t\t\tif(this._events.length){\n\t\t\t\tarr.forEach(this._events, function(item){\n\t\t\t\t\titem.shape.disconnect(item.handle);\n\t\t\t\t});\n\t\t\t\tthis._events = [];\n\t\t\t}\n\t\t\treturn this;\t//\tdojox.charting.Element\n\t\t},\n\t\tcleanGroup: function(creator){\n\t\t\t// summary:\n\t\t\t//\t\tClean any elements (HTML or GFX-based) out of our group, and create a new one.\n\t\t\t// creator: dojox/gfx/shape.Surface?\n\t\t\t//\t\tAn optional surface to work with.\n\t\t\t// returns: dojox/charting/Element\n\t\t\t//\t\tA reference to this object for functional chaining.\n\t\t\tthis.destroyHtmlElements();\n\t\t\tif(!creator){ creator = this.chart.surface; }\n\t\t\tif(this.group){\n\t\t\t\tvar bgnode;\n\t\t\t\tvar children = this.getGroup().children;\n\t\t\t\t// starting with 1.9 the registry is optional and thus dispose is\n\t\t\t\tif(shape.dispose){\n\t\t\t\t\tfor(var i = 0; i < children.length;++i){\n\t\t\t\t\t\tshape.dispose(children[i], true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.getGroup().rawNode){\n\t\t\t\t\tbgnode = this.getGroup().bgNode;\n\t\t\t\t\tdomConstruct.empty(this.getGroup().rawNode);\n\t\t\t\t}\n\t\t\t\tthis.getGroup().clear();\n\t\t\t\tif(bgnode){\n\t\t\t\t\tthis.getGroup().rawNode.appendChild(bgnode);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.group = creator.createGroup();\n\t\t\t\t// in some cases we have a rawNode but this is not an actual DOM element (CanvasWithEvents) so check\n\t\t\t\t// the actual rawNode type.\n\t\t\t\tif (this.renderingOptions && this.group.rawNode &&\n\t\t\t\t\tthis.group.rawNode.namespaceURI == \"http://www.w3.org/2000/svg\") {\n\t\t\t\t\tfor (var key in this.renderingOptions) {\n\t\t\t\t\t\tthis.group.rawNode.setAttribute(key, this.renderingOptions[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox.charting.Element\n\t\t},\n\t\tgetGroup: function(){\n\t\t\treturn this.group;\n\t\t},\n\t\tdestroyHtmlElements: function(){\n\t\t\t// summary:\n\t\t\t//\t\tDestroy any DOMNodes that may have been created as a part of this element.\n\t\t\tif(this.htmlElements.length){\n\t\t\t\tarr.forEach(this.htmlElements, domConstruct.destroy);\n\t\t\t\tthis.htmlElements = [];\n\t\t\t}\n\t\t},\n\t\tdestroy: function(){\n\t\t\t// summary:\n\t\t\t//\t\tAPI addition to conform to the rest of the Dojo Toolkit's standard.\n\t\t\tthis.purgeGroup();\n\t\t},\n\t\toverrideShape: function(shape, params){\n\t\t\t// summary:\n\t\t\t//\t\tExtension point for overriding the charting shape\n\t\t},\n\t\t//text utilities\n\t\tgetTextWidth: function(s, font){\n\t\t\treturn gfx._base._getTextBox(s, {font: font}).w || 0;\n\t\t},\n\t\tgetTextWithLimitLength: function(s, font, limitWidth, truncated){\n\t\t\t// summary:\n\t\t\t//\t\tGet the truncated string based on the limited width in px(dichotomy algorithm)\n\t\t\t// s: String?\n\t\t\t//\t\tcandidate text.\n\t\t\t// font: String?\n\t\t\t//\t\ttext's font style.\n\t\t\t// limitWidth: Number?\n\t\t\t//\t\ttext limited width in px.\n\t\t\t// truncated: Boolean?\n\t\t\t//\t\twhether the input text(s) has already been truncated.\n\t\t\t// returns: Object\n\t\t\t// |\t{\n\t\t\t// |\t\ttext: processed text, maybe truncated or not,\n\t\t\t// |\t\ttruncated: whether text has been truncated\n\t\t\t// |\t}\n\t\t\tif(!s || s.length <= 0){\n\t\t\t\treturn {\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\ttruncated: truncated || false\n\t\t\t\t};\n\t\t\t}\n\t\t\tif(!limitWidth || limitWidth <= 0){\n\t\t\t\treturn {\n\t\t\t\t\ttext: s,\n\t\t\t\t\ttruncated: truncated || false\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar delta = 2,\n\t\t\t\t//golden section for dichotomy algorithm\n\t\t\t\ttrucPercentage = 0.618,\n\t\t\t\tminStr = s.substring(0,1) + this.trailingSymbol,\n\t\t\t\tminWidth = this.getTextWidth(minStr, font);\n\t\t\tif(limitWidth <= minWidth){\n\t\t\t\treturn {\n\t\t\t\t\ttext: minStr,\n\t\t\t\t\ttruncated: true\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar width = this.getTextWidth(s, font);\n\t\t\tif(width <= limitWidth){\n\t\t\t\treturn {\n\t\t\t\t\ttext: s,\n\t\t\t\t\ttruncated: truncated || false\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\tvar begin = 0,\n\t\t\t\t\tend = s.length;\n\t\t\t\twhile(begin < end){\n\t\t\t\t\tif(end - begin <= delta ){\n\t\t\t\t\t\twhile (this.getTextWidth(s.substring(0, begin) + this.trailingSymbol, font) > limitWidth) {\n\t\t\t\t\t\t\tbegin -= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: (s.substring(0,begin) + this.trailingSymbol),\n\t\t\t\t\t\t\ttruncated: true\n\t\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tvar index = begin + Math.round((end - begin) * trucPercentage),\n\t\t\t\t\t\twidthIntercepted = this.getTextWidth(s.substring(0, index), font);\n\t\t\t\t\tif(widthIntercepted < limitWidth){\n\t\t\t\t\t\tbegin = index;\n\t\t\t\t\t\tend = end;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbegin = begin;\n\t\t\t\t\t\tend = index;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetTextWithLimitCharCount: function(s, font, wcLimit, truncated){\n\t\t\t// summary:\n\t\t\t//\t\tGet the truncated string based on the limited character count(dichotomy algorithm)\n\t\t\t// s: String?\n\t\t\t//\t\tcandidate text.\n\t\t\t// font: String?\n\t\t\t//\t\ttext's font style.\n\t\t\t// wcLimit: Number?\n\t\t\t//\t\ttext limited character count.\n\t\t\t// truncated: Boolean?\n\t\t\t//\t\twhether the input text(s) has already been truncated.\n\t\t\t// returns: Object\n\t\t\t// |\t{\n\t\t\t// |\t\ttext: processed text, maybe truncated or not,\n\t\t\t// |\t\ttruncated: whether text has been truncated\n\t\t\t// |\t}\n\t\t\tif (!s || s.length <= 0) {\n\t\t\t\treturn {\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\ttruncated: truncated || false\n\t\t\t\t};\n\t\t\t}\n\t\t\tif(!wcLimit || wcLimit <= 0 || s.length <= wcLimit){\n\t\t\t\treturn {\n\t\t\t\t\ttext: s,\n\t\t\t\t\ttruncated: truncated || false\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttext: s.substring(0, wcLimit) + this.trailingSymbol,\n\t\t\t\ttruncated: true\n\t\t\t};\n\t\t},\n\t\t// fill utilities\n\t\t_plotFill: function(fill, dim, offsets){\n\t\t\t// process a plot-wide fill\n\t\t\tif(!fill || !fill.type || !fill.space){\n\t\t\t\treturn fill;\n\t\t\t}\n\t\t\tvar space = fill.space, span;\n\t\t\tswitch(fill.type){\n\t\t\t\tcase \"linear\":\n\t\t\t\t\tif(space === \"plot\" || space === \"shapeX\" || space === \"shapeY\"){\n\t\t\t\t\t\t// clone a fill so we can modify properly directly\n\t\t\t\t\t\tfill = gfx.makeParameters(gfx.defaultLinearGradient, fill);\n\t\t\t\t\t\tfill.space = space;\n\t\t\t\t\t\t// process dimensions\n\t\t\t\t\t\tif(space === \"plot\" || space === \"shapeX\"){\n\t\t\t\t\t\t\t// process Y\n\t\t\t\t\t\t\tspan = dim.height - offsets.t - offsets.b;\n\t\t\t\t\t\t\tfill.y1 = offsets.t + span * fill.y1 / 100;\n\t\t\t\t\t\t\tfill.y2 = offsets.t + span * fill.y2 / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(space === \"plot\" || space === \"shapeY\"){\n\t\t\t\t\t\t\t// process X\n\t\t\t\t\t\t\tspan = dim.width - offsets.l - offsets.r;\n\t\t\t\t\t\t\tfill.x1 = offsets.l + span * fill.x1 / 100;\n\t\t\t\t\t\t\tfill.x2 = offsets.l + span * fill.x2 / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"radial\":\n\t\t\t\t\tif(space === \"plot\"){\n\t\t\t\t\t\t// this one is used exclusively for scatter charts\n\t\t\t\t\t\t// clone a fill so we can modify properly directly\n\t\t\t\t\t\tfill = gfx.makeParameters(gfx.defaultRadialGradient, fill);\n\t\t\t\t\t\tfill.space = space;\n\t\t\t\t\t\t// process both dimensions\n\t\t\t\t\t\tvar spanX = dim.width  - offsets.l - offsets.r,\n\t\t\t\t\t\t\tspanY = dim.height - offsets.t - offsets.b;\n\t\t\t\t\t\tfill.cx = offsets.l + spanX * fill.cx / 100;\n\t\t\t\t\t\tfill.cy = offsets.t + spanY * fill.cy / 100;\n\t\t\t\t\t\tfill.r  = fill.r * Math.sqrt(spanX * spanX + spanY * spanY) / 200;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern\":\n\t\t\t\t\tif(space === \"plot\" || space === \"shapeX\" || space === \"shapeY\"){\n\t\t\t\t\t\t// clone a fill so we can modify properly directly\n\t\t\t\t\t\tfill = gfx.makeParameters(gfx.defaultPattern, fill);\n\t\t\t\t\t\tfill.space = space;\n\t\t\t\t\t\t// process dimensions\n\t\t\t\t\t\tif(space === \"plot\" || space === \"shapeX\"){\n\t\t\t\t\t\t\t// process Y\n\t\t\t\t\t\t\tspan = dim.height - offsets.t - offsets.b;\n\t\t\t\t\t\t\tfill.y = offsets.t + span * fill.y / 100;\n\t\t\t\t\t\t\tfill.height = span * fill.height / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(space === \"plot\" || space === \"shapeY\"){\n\t\t\t\t\t\t\t// process X\n\t\t\t\t\t\t\tspan = dim.width - offsets.l - offsets.r;\n\t\t\t\t\t\t\tfill.x = offsets.l + span * fill.x / 100;\n\t\t\t\t\t\t\tfill.width = span * fill.width / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn fill;\n\t\t},\n\t\t_shapeFill: function(fill, bbox){\n\t\t\t// process shape-specific fill\n\t\t\tif(!fill || !fill.space){\n\t\t\t\treturn fill;\n\t\t\t}\n\t\t\tvar space = fill.space, span;\n\t\t\tswitch(fill.type){\n\t\t\t\tcase \"linear\":\n\t\t\t\t\tif(space === \"shape\" || space === \"shapeX\" || space === \"shapeY\"){\n\t\t\t\t\t\t// clone a fill so we can modify properly directly\n\t\t\t\t\t\tfill = gfx.makeParameters(gfx.defaultLinearGradient, fill);\n\t\t\t\t\t\tfill.space = space;\n\t\t\t\t\t\t// process dimensions\n\t\t\t\t\t\tif(space === \"shape\" || space === \"shapeX\"){\n\t\t\t\t\t\t\t// process X\n\t\t\t\t\t\t\tspan = bbox.width;\n\t\t\t\t\t\t\tfill.x1 = bbox.x + span * fill.x1 / 100;\n\t\t\t\t\t\t\tfill.x2 = bbox.x + span * fill.x2 / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(space === \"shape\" || space === \"shapeY\"){\n\t\t\t\t\t\t\t// process Y\n\t\t\t\t\t\t\tspan = bbox.height;\n\t\t\t\t\t\t\tfill.y1 = bbox.y + span * fill.y1 / 100;\n\t\t\t\t\t\t\tfill.y2 = bbox.y + span * fill.y2 / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"radial\":\n\t\t\t\t\tif(space === \"shape\"){\n\t\t\t\t\t\t// this one is used exclusively for bubble charts and pie charts\n\t\t\t\t\t\t// clone a fill so we can modify properly directly\n\t\t\t\t\t\tfill = gfx.makeParameters(gfx.defaultRadialGradient, fill);\n\t\t\t\t\t\tfill.space = space;\n\t\t\t\t\t\t// process both dimensions\n\t\t\t\t\t\tfill.cx = bbox.x + bbox.width  / 2;\n\t\t\t\t\t\tfill.cy = bbox.y + bbox.height / 2;\n\t\t\t\t\t\tfill.r  = fill.r * bbox.width  / 200;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern\":\n\t\t\t\t\tif(space === \"shape\" || space === \"shapeX\" || space === \"shapeY\"){\n\t\t\t\t\t\t// clone a fill so we can modify properly directly\n\t\t\t\t\t\tfill = gfx.makeParameters(gfx.defaultPattern, fill);\n\t\t\t\t\t\tfill.space = space;\n\t\t\t\t\t\t// process dimensions\n\t\t\t\t\t\tif(space === \"shape\" || space === \"shapeX\"){\n\t\t\t\t\t\t\t// process X\n\t\t\t\t\t\t\tspan = bbox.width;\n\t\t\t\t\t\t\tfill.x = bbox.x + span * fill.x / 100;\n\t\t\t\t\t\t\tfill.width = span * fill.width / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(space === \"shape\" || space === \"shapeY\"){\n\t\t\t\t\t\t\t// process Y\n\t\t\t\t\t\t\tspan = bbox.height;\n\t\t\t\t\t\t\tfill.y = bbox.y + span * fill.y / 100;\n\t\t\t\t\t\t\tfill.height = span * fill.height / 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn fill;\n\t\t},\n\t\t_pseudoRadialFill: function(fill, center, radius, start, end){\n\t\t\t// process pseudo-radial fills\n\t\t\tif(!fill || fill.type !== \"radial\" || fill.space !== \"shape\"){\n\t\t\t\treturn fill;\n\t\t\t}\n\t\t\t// clone and normalize fill\n\t\t\tvar space = fill.space;\n\t\t\tfill = gfx.makeParameters(gfx.defaultRadialGradient, fill);\n\t\t\tfill.space = space;\n\t\t\tif(arguments.length < 4){\n\t\t\t\t// process both dimensions\n\t\t\t\tfill.cx = center.x;\n\t\t\t\tfill.cy = center.y;\n\t\t\t\tfill.r  = fill.r * radius / 100;\n\t\t\t\treturn fill;\n\t\t\t}\n\t\t\t// convert to a linear gradient\n\t\t\tvar angle = arguments.length < 5 ? start : (end + start) / 2;\n\t\t\treturn {\n\t\t\t\ttype: \"linear\",\n\t\t\t\tx1: center.x,\n\t\t\t\ty1: center.y,\n\t\t\t\tx2: center.x + fill.r * radius * Math.cos(angle) / 100,\n\t\t\t\ty2: center.y + fill.r * radius * Math.sin(angle) / 100,\n\t\t\t\tcolors: fill.colors\n\t\t\t};\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"./Element\"], \n\tfunction(lang, declare, Element){ \n\t/*=====\n\tvar __SeriesCtorArgs = {\n\t\t// summary:\n\t\t//\t\tAn optional arguments object that can be used in the Series constructor.\n\t\t// plot: String?\n\t\t//\t\tThe plot (by name) that this series belongs to.\n\t};\n\t=====*/\n\treturn declare(\"dojox.charting.Series\", Element, {\n\t\t// summary:\n\t\t//\t\tAn object representing a series of data for plotting on a chart.\n\t\tconstructor: function(chart, data, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate a new data series object for use within charting.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart that this series belongs to.\n\t\t\t// data: Array|Object\n\t\t\t//\t\tThe array of data points (either numbers or objects) that\n\t\t\t//\t\trepresents the data to be drawn. Or it can be an object. In\n\t\t\t//\t\tthe latter case, it should have a property \"data\" (an array),\n\t\t\t//\t\tdestroy(), and setSeriesObject().\n\t\t\t// kwArgs: __SeriesCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to set details for this series.\n\t\t\tlang.mixin(this, kwArgs);\n\t\t\tif(typeof this.plot != \"string\"){ this.plot = \"default\"; }\n\t\t\tthis.update(data);\n\t\t},\n\t\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear the calculated additional parameters set on this series.\n\t\t\tthis.dyn = {};\n\t\t},\n\t\t\n\t\tupdate: function(data){\n\t\t\t// summary:\n\t\t\t//\t\tSet data and make this object dirty, so it can be redrawn.\n\t\t\t// data: Array|Object\n\t\t\t//\t\tThe array of data points (either numbers or objects) that\n\t\t\t//\t\trepresents the data to be drawn. Or it can be an object. In\n\t\t\t//\t\tthe latter case, it should have a property \"data\" (an array),\n\t\t\t//\t\tdestroy(), and setSeriesObject().\n\t\t\tif(lang.isArray(data)){\n\t\t\t\tthis.data = data;\n\t\t\t}else{\n\t\t\t\tthis.source = data;\n\t\t\t\tthis.data = this.source.data;\n\t\t\t\tif(this.source.setSeriesObject){\n\t\t\t\t\tthis.source.setSeriesObject(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.dirty = true;\n\t\t\tthis.clear();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\",\"dojo/_base/declare\",\"dojo/_base/Color\", \"dojox/lang/utils\", \"dojox/gfx/gradutils\"],\n\tfunction(lang, arr, declare, Color, dlu, dgg){\n\t\n\tvar SimpleTheme = declare(\"dojox.charting.SimpleTheme\", null, {\n\t// summary:\n\t//\t\tA SimpleTheme or Theme is a pre-defined object, primarily JSON-based, that makes up the definitions to\n\t//\t\tstyle a chart.\n\t//\n\t// description:\n\t//\t\tWhile you can set up style definitions on a chart directly (usually through the various add methods\n\t//\t\ton a dojox.charting.Chart object), a Theme simplifies this manual setup by allowing you to\n\t//\t\tpre-define all of the various visual parameters of each element in a chart.\n\t//\n\t//\t\tMost of the properties of a Theme are straight-forward; if something is line-based (such as\n\t//\t\tan axis or the ticks on an axis), they will be defined using basic stroke parameters.  Likewise,\n\t//\t\tif an element is primarily block-based (such as the background of a chart), it will be primarily\n\t//\t\tfill-based.\n\t//\n\t//\t\tIn addition (for convenience), a Theme definition does not have to contain the entire JSON-based\n\t//\t\tstructure.  Each theme is built on top of a default theme (which serves as the basis for the theme\n\t//\t\t\"GreySkies\"), and is mixed into the default theme object.  This allows you to create a theme based,\n\t//\t\tsay, solely on colors for data series.\n\t//\n\t//\t\tDefining a new theme is relatively easy; see any of the themes in dojox.charting.themes for examples\n\t//\t\ton how to define your own.\n\t//\n\t//\t\tWhen you set a theme on a chart, the theme itself is deep-cloned.  This means that you cannot alter\n\t//\t\tthe theme itself after setting the theme value on a chart, and expect it to change your chart.  If you\n\t//\t\tare looking to make alterations to a theme for a chart, the suggestion would be to create your own\n\t//\t\ttheme, based on the one you want to use, that makes those alterations before it is applied to a chart.\n\t//\n\t//\t\tFinally, a Theme contains a number of functions to facilitate rendering operations on a chart--the main\n\t//\t\thelper of which is the ~next~ method, in which a chart asks for the information for the next data series\n\t//\t\tto be rendered.\n\t//\n\t//\t\tA note on colors:\n\t//\t\tA theme palette is usually comprised of 5 different color definitions, and\n\t//\t\tno more.  If you have a need to render a chart with more than 5 data elements, you can simply \"push\"\n\t//\t\tnew color definitions into the theme's .color array.  Make sure that you do that with the actual\n\t//\t\ttheme object from a Chart, and not in the theme itself (i.e. either do that before using .setTheme\n\t//\t\ton a chart).\n\t//\n\t// example:\n\t//\t\tThe default theme (and structure) looks like so:\n\t//\t|\t// all objects are structs used directly in dojox.gfx\n\t//\t|\tchart:{\n\t//\t|\t\tmargins: {l: 10, t: 10, r: 10, b: 10},\n\t//\t|\t\tstroke: null,\n\t//\t|\t\tfill: \"white\",\n\t//\t|\t\tpageStyle: null // suggested page style as an object suitable for dojo.style()\n\t//\t|\t},\n\t//\t|\tplotarea:{\n\t//\t|\t\tstroke: null,\n\t//\t|\t\tfill: \"white\"\n\t//\t|\t},\n\t//\t|\taxis:{\n\t//\t|\t\tstroke:\t{ // the axis itself\n\t//\t|\t\t\tcolor: \"#333\",\n\t//\t|\t\t\twidth: 1\n\t//\t|\t\t},\n\t//\t|\t\ttick: {\t// used as a foundation for all ticks\n\t//\t|\t\t\tcolor:     \"#666\",\n\t//\t|\t\t\tposition:  \"center\",\n\t//\t|\t\t\tfont:      \"normal normal normal 7pt Tahoma\",\t// labels on axis\n\t//\t|\t\t\tfontColor: \"#333\"\t\t\t\t\t\t\t\t// color of labels\n\t//\t|\t\t},\n\t//\t|\t\tmajorTick:\t{ // major ticks on axis, and used for major gridlines\n\t//\t|\t\t\twidth:  1,\n\t//\t|\t\t\tlength: 6\n\t//\t|\t\t},\n\t//\t|\t\tminorTick:\t{ // minor ticks on axis, and used for minor gridlines\n\t//\t|\t\t\twidth:  0.8,\n\t//\t|\t\t\tlength: 3\n\t//\t|\t\t},\n\t//\t|\t\tmicroTick:\t{ // minor ticks on axis, and used for minor gridlines\n\t//\t|\t\t\twidth:  0.5,\n\t//\t|\t\t\tlength: 1\n\t//\t|\t\t},\n\t//\t|\t\ttitle: {\n\t//\t|\t\t\tgap:  15,\n\t//\t|\t\t\tfont: \"normal normal normal 11pt Tahoma\",\t// title font\n\t//\t|\t\t\tfontColor: \"#333\",\t\t\t\t\t\t\t// title font color\n\t//\t|\t\t\torientation: \"axis\"\t\t\t\t\t\t// \"axis\": facing the axis, \"away\": facing away\n\t//\t|\t\t}\n\t//\t|\t},\n\t//\t|\tseries: {\n\t//\t|\t\tstroke:  {width: 1.5, color: \"#333\"},\t\t// line\n\t//\t|\t\toutline: {width: 0.1, color: \"#ccc\"},\t\t// outline\n\t//\t|\t\t//shadow:  {dx: 1, dy: 1, width: 2, color: [0, 0, 0, 0.3]},\n\t//\t|\t\tshadow: null,\t\t\t\t\t\t\t\t// no shadow\n\t//\t|\t\t//filter:  dojox/gfx/filters.createFilter(),\n\t//\t|\t\tfilter: null,\t\t\t\t\t\t\t\t// no filter, to use a filter you must use gfx SVG render and require dojox/gfx/svgext\n\t//\t|\t\tfill:    \"#ccc\",\t\t\t\t\t\t\t// fill, if appropriate\n\t//\t|\t\tfont:    \"normal normal normal 8pt Tahoma\",\t// if there's a label\n\t//\t|\t\tfontColor: \"#000\"\t\t\t\t\t\t\t// color of labels\n\t//\t|\t\tlabelWiring: {width: 1, color: \"#ccc\"},\t\t// connect marker and target data item(slice, column, bar...)\n\t//\t|\t},\n\t//\t|\tmarker: {\t// any markers on a series\n\t//\t|\t\tsymbol:  \"m-3,3 l3,-6 3,6 z\",\t\t\t\t// symbol\n\t//\t|\t\tstroke:  {width: 1.5, color: \"#333\"},\t\t// stroke\n\t//\t|\t\toutline: {width: 0.1, color: \"#ccc\"},\t\t// outline\n\t//\t|\t\tshadow: null,\t\t\t\t\t\t\t\t// no shadow\n\t//\t|\t\tfill:    \"#ccc\",\t\t\t\t\t\t\t// fill if needed\n\t//\t|\t\tfont:    \"normal normal normal 8pt Tahoma\",\t// label\n\t//\t|\t\tfontColor: \"#000\"\n\t//\t|\t},\n\t//\t|\tgrid: {\t// grid, when not present axis tick strokes are used instead\n\t//\t|\t\tmajorLine: {\t// major grid line\n\t//\t|\t\t\tcolor:     \"#666\",\n\t//\t|\t\t\twidth:  1,\n\t//\t|\t\t\tlength: 6\n\t//\t|\t\t},\n\t//\t|\t\tminorLine: {\t// minor grid line\n\t//\t|\t\t\tcolor:     \"#666\",\n\t//\t|\t\t\twidth:  0.8,\n\t//\t|\t\t\tlength: 3\n\t//\t|\t\t},\n\t//\t|\t\tfill: \"grey\",  // every other stripe\n\t//\t|\t\talternateFill: \"grey\" // alternate stripe\n\t//\t|\t},\n\t//\t|\tindicator: {\n\t//\t|\t\tlineStroke:  {width: 1.5, color: \"#333\"},\t\t// line\n\t//\t|\t\tlineOutline: {width: 0.1, color: \"#ccc\"},\t\t// line outline\n\t//\t|\t\tlineShadow: null,\t\t\t\t\t\t\t\t// no line shadow\n\t//\t|\t\tlineFill: null,\t\t\t\t\t\t\t\t\t// fill between lines for dual indicators\n\t//\t|\t\tstroke:  {width: 1.5, color: \"#333\"},\t\t\t// label background stroke\n\t//\t|\t\toutline: {width: 0.1, color: \"#ccc\"},\t\t\t// label background outline\n\t//\t|\t\tshadow: null,\t\t\t\t\t\t\t\t\t// no label background shadow\n\t//\t|\t\tfill:  \"#ccc\",\t\t\t\t\t\t\t\t\t// label background fill\n\t//\t|\t\tradius: 3,\t\t\t\t\t\t\t\t\t\t// radius of the label background\n\t//\t|\t\tfont:    \"normal normal normal 10pt Tahoma\",\t// label font\n\t//\t|\t\tfontColor: \"#000\"\t\t\t\t\t\t\t\t// label color\n\t//\t|\t\tmarkerFill:    \"#ccc\",\t\t\t\t\t\t\t// marker fill\n\t//\t|\t\tmarkerSymbol:  \"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0\",\t// marker symbol\n\t//\t|\t\tmarkerStroke:  {width: 1.5, color: \"#333\"},\t\t// marker stroke\n\t//\t|\t\tmarkerOutline: {width: 0.1, color: \"#ccc\"},\t\t// marker outline\n\t//\t|\t\tmarkerShadow: null\t\t\t\t\t\t\t\t// no marker shadow\n\t//\t|\t},\n\t//\t|\tpieInnerRadius: 33\n\t//\n\t// example:\n\t//\t\tDefining a new theme is pretty simple:\n\t//\t|\tvar Grasslands = new SimpleTheme({\n\t//\t|\t\tcolors: [ \"#70803a\", \"#dde574\", \"#788062\", \"#b1cc5d\", \"#eff2c2\" ],\n\t//\t|\t\tpieInnerRadius: 15\n\t//\t|\t});\n\t//\t|\n\t//\t|\tmyChart.setTheme(Grasslands);\n\n\tshapeSpaces: {shape: 1, shapeX: 1, shapeY: 1},\n\n\tconstructor: function(kwArgs){\n\t\t// summary:\n\t\t//\t\tInitialize a theme using the keyword arguments.  Note that the arguments\n\t\t//\t\tlook like the example (above), and may include a few more parameters.\n\t\tkwArgs = kwArgs || {};\n\n\t\t// populate theme with defaults updating them if needed\n\t\tvar def = SimpleTheme.defaultTheme;\n\t\tarr.forEach([\"chart\", \"plotarea\", \"axis\", \"grid\", \"series\", \"marker\", \"indicator\"], function(name){\n\t\t\tthis[name] = lang.delegate(def[name], kwArgs[name]);\n\t\t}, this);\n\n\t\t// personalize theme\n\t\tif(kwArgs.seriesThemes && kwArgs.seriesThemes.length){\n\t\t\tthis.colors  = null;\n\t\t\tthis.seriesThemes = kwArgs.seriesThemes.slice(0);\n\t\t}else{\n\t\t\tthis.seriesThemes = null;\n\t\t\tthis.colors = (kwArgs.colors || SimpleTheme.defaultColors).slice(0);\n\t\t}\n\t\tthis.markerThemes = null;\n\t\tif(kwArgs.markerThemes && kwArgs.markerThemes.length){\n\t\t\tthis.markerThemes = kwArgs.markerThemes.slice(0);\n\t\t}\n\t\tthis.markers = kwArgs.markers ? lang.clone(kwArgs.markers) : lang.delegate(SimpleTheme.defaultMarkers);\n\n\t\t// set flags\n\t\tthis.noGradConv = kwArgs.noGradConv;\n\t\tthis.noRadialConv = kwArgs.noRadialConv;\n\t\tif(kwArgs.reverseFills){\n\t\t\tthis.reverseFills();\n\t\t}\n\n\t\t//\tprivate housekeeping\n\t\tthis._current = 0;\n\t\tthis._buildMarkerArray();\n\t},\n\n\tclone: function(){\n\t\t// summary:\n\t\t//\t\tClone the current theme.\n\t\t// returns: dojox.charting.SimpleTheme\n\t\t//\t\tThe cloned theme; any alterations made will not affect the original.\n\t\tvar theme = new this.constructor({\n\t\t\t// theme components\n\t\t\tchart: this.chart,\n\t\t\tplotarea: this.plotarea,\n\t\t\taxis: this.axis,\n\t\t\tgrid: this.grid,\n\t\t\tseries: this.series,\n\t\t\tmarker: this.marker,\n\t\t\t// individual arrays\n\t\t\tcolors: this.colors,\n\t\t\tmarkers: this.markers,\n\t\t\tindicator: this.indicator,\n\t\t\tseriesThemes: this.seriesThemes,\n\t\t\tmarkerThemes: this.markerThemes,\n\t\t\t// flags\n\t\t\tnoGradConv: this.noGradConv,\n\t\t\tnoRadialConv: this.noRadialConv,\n\t\t\tpieInnerRadius: this.pieInnerRadius\n\t\t});\n\t\t// copy custom methods\n\t\tarr.forEach(\n\t\t\t[\"clone\", \"clear\", \"next\", \"skip\", \"addMixin\", \"post\", \"getTick\"],\n\t\t\tfunction(name){\n\t\t\t\tif(this.hasOwnProperty(name)){\n\t\t\t\t\ttheme[name] = this[name];\n\t\t\t\t}\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t\treturn theme;\t//\tdojox.charting.SimpleTheme\n\t},\n\n\tclear: function(){\n\t\t// summary:\n\t\t//\t\tClear and reset the internal pointer to start fresh.\n\t\tthis._current = 0;\n\t},\n\n\tnext: function(elementType, mixin, doPost){\n\t\t// summary:\n\t\t//\t\tGet the next color or series theme.\n\t\t// elementType: String?\n\t\t//\t\tAn optional element type (for use with series themes)\n\t\t// mixin: Object?\n\t\t//\t\tAn optional object to mix into the theme.\n\t\t// doPost: Boolean?\n\t\t//\t\tA flag to post-process the results.\n\t\t// returns: Object\n\t\t//\t\tAn object of the structure { series, marker, symbol }\n\t\tvar merge = dlu.merge, series, marker;\n\t\tif(this.colors){\n\t\t\tseries = lang.delegate(this.series);\n\t\t\tmarker = lang.delegate(this.marker);\n\t\t\tvar color = new Color(this.colors[this._current % this.colors.length]), old;\n\t\t\t// modify the stroke\n\t\t\tif(series.stroke && series.stroke.color){\n\t\t\t\tseries.stroke = lang.delegate(series.stroke);\n\t\t\t\told = new Color(series.stroke.color);\n\t\t\t\tseries.stroke.color = new Color(color);\n\t\t\t\tseries.stroke.color.a = old.a;\n\t\t\t}else{\n\t\t\t\tseries.stroke = {color: color};\n\t\t\t}\n\t\t\tif(marker.stroke && marker.stroke.color){\n\t\t\t\tmarker.stroke = lang.delegate(marker.stroke);\n\t\t\t\told = new Color(marker.stroke.color);\n\t\t\t\tmarker.stroke.color = new Color(color);\n\t\t\t\tmarker.stroke.color.a = old.a;\n\t\t\t}else{\n\t\t\t\tmarker.stroke = {color: color};\n\t\t\t}\n\t\t\t// modify the fill\n\t\t\tif(!series.fill || series.fill.type){\n\t\t\t\tseries.fill = color;\n\t\t\t}else{\n\t\t\t\told = new Color(series.fill);\n\t\t\t\tseries.fill = new Color(color);\n\t\t\t\tseries.fill.a = old.a;\n\t\t\t}\n\t\t\tif(!marker.fill || marker.fill.type){\n\t\t\t\tmarker.fill = color;\n\t\t\t}else{\n\t\t\t\told = new Color(marker.fill);\n\t\t\t\tmarker.fill = new Color(color);\n\t\t\t\tmarker.fill.a = old.a;\n\t\t\t}\n\t\t}else{\n\t\t\tseries = this.seriesThemes ?\n\t\t\t\tmerge(this.series, this.seriesThemes[this._current % this.seriesThemes.length]) :\n\t\t\t\tthis.series;\n\t\t\tmarker = this.markerThemes ?\n\t\t\t\tmerge(this.marker, this.markerThemes[this._current % this.markerThemes.length]) :\n\t\t\t\tseries;\n\t\t}\n\n\t\tvar symbol = marker && marker.symbol || this._markers[this._current % this._markers.length];\n\n\t\tvar theme = {series: series, marker: marker, symbol: symbol};\n\t\t\n\t\t// advance the counter\n\t\t++this._current;\n\n\t\tif(mixin){\n\t\t\ttheme = this.addMixin(theme, elementType, mixin);\n\t\t}\n\t\tif(doPost){\n\t\t\ttheme = this.post(theme, elementType);\n\t\t}\n\n\t\treturn theme;\t//\tObject\n\t},\n\n\tskip: function(){\n\t\t// summary:\n\t\t//\t\tSkip the next internal color.\n\t\t++this._current;\n\t},\n\n\taddMixin: function(theme, elementType, mixin, doPost){\n\t\t// summary:\n\t\t//\t\tAdd a mixin object to the passed theme and process.\n\t\t// theme: dojox/charting/SimpleTheme\n\t\t//\t\tThe theme to mixin to.\n\t\t// elementType: String\n\t\t//\t\tThe type of element in question. Can be \"line\", \"bar\" or \"circle\"\n\t\t// mixin: Object|Array\n\t\t//\t\tThe object or objects to mix into the theme.\n\t\t// doPost: Boolean\n\t\t//\t\tIf true, run the new theme through the post-processor.\n\t\t// returns: dojox/charting/SimpleTheme\n\t\t//\t\tThe new theme.\n\t\tif(lang.isArray(mixin)){\n\t\t\tarr.forEach(mixin, function(m){\n\t\t\t\ttheme = this.addMixin(theme, elementType, m);\n\t\t\t}, this);\n\t\t}else{\n\t\t\tvar t = {};\n\t\t\tif(\"color\" in mixin){\n\t\t\t\tif(elementType == \"line\" || elementType == \"area\"){\n\t\t\t\t\tlang.setObject(\"series.stroke.color\", mixin.color, t);\n\t\t\t\t\tlang.setObject(\"marker.stroke.color\", mixin.color, t);\n\t\t\t\t}else{\n\t\t\t\t\tlang.setObject(\"series.fill\", mixin.color, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tarr.forEach([\"stroke\", \"outline\", \"shadow\", \"fill\", \"filter\", \"font\", \"fontColor\", \"labelWiring\"], function(name){\n\t\t\t\tvar markerName = \"marker\" + name.charAt(0).toUpperCase() + name.substr(1),\n\t\t\t\t\tb = markerName in mixin;\n\t\t\t\tif(name in mixin){\n\t\t\t\t\tlang.setObject(\"series.\" + name, mixin[name], t);\n\t\t\t\t\tif(!b){\n\t\t\t\t\t\tlang.setObject(\"marker.\" + name, mixin[name], t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(b){\n\t\t\t\t\tlang.setObject(\"marker.\" + name, mixin[markerName], t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(\"marker\" in mixin){\n\t\t\t\tt.symbol = mixin.marker;\n\t\t\t\tt.symbol = mixin.marker;\n\t\t\t}\n\t\t\ttheme = dlu.merge(theme, t);\n\t\t}\n\t\tif(doPost){\n\t\t\ttheme = this.post(theme, elementType);\n\t\t}\n\t\treturn theme;\t//\tdojox/charting/SimpleTheme\n\t},\n\n\tpost: function(theme, elementType){\n\t\t// summary:\n\t\t//\t\tProcess any post-shape fills.\n\t\t// theme: dojox/charting/SimpleTheme\n\t\t//\t\tThe theme to post process with.\n\t\t// elementType: String\n\t\t//\t\tThe type of element being filled.  Can be \"bar\" or \"circle\".\n\t\t// returns: dojox/charting/SimpleTheme\n\t\t//\t\tThe post-processed theme.\n\t\tvar fill = theme.series.fill, t;\n\t\tif(!this.noGradConv && this.shapeSpaces[fill.space] && fill.type == \"linear\"){\n\t\t\tif(elementType == \"bar\"){\n\t\t\t\t// transpose start and end points\n\t\t\t\tt = {\n\t\t\t\t\tx1: fill.y1,\n\t\t\t\t\ty1: fill.x1,\n\t\t\t\t\tx2: fill.y2,\n\t\t\t\t\ty2: fill.x2\n\t\t\t\t};\n\t\t\t}else if(!this.noRadialConv && fill.space == \"shape\" && (elementType == \"slice\" || elementType == \"circle\")){\n\t\t\t\t// switch to radial\n\t\t\t\tt = {\n\t\t\t\t\ttype: \"radial\",\n\t\t\t\t\tcx: 0,\n\t\t\t\t\tcy: 0,\n\t\t\t\t\tr:  100\n\t\t\t\t};\n\t\t\t}\n\t\t\tif(t){\n\t\t\t\treturn dlu.merge(theme, {series: {fill: t}});\n\t\t\t}\n\t\t}\n\t\treturn theme;\t//\tdojox/charting/SimpleTheme\n\t},\n\n\tgetTick: function(name, mixin){\n\t\t// summary:\n\t\t//\t\tCalculates and merges tick parameters.\n\t\t// name: String\n\t\t//\t\tTick name, can be \"major\", \"minor\", or \"micro\".\n\t\t// mixin: Object?\n\t\t//\t\tOptional object to mix in to the tick.\n\t\tvar tick = this.axis.tick, tickName = name + \"Tick\",\n\t\t\tmerge = dlu.merge;\n\t\tif(tick){\n\t\t\tif(this.axis[tickName]){\n\t\t\t\ttick = merge(tick, this.axis[tickName]);\n\t\t\t}\n\t\t}else{\n\t\t\ttick = this.axis[tickName];\n\t\t}\n\t\tif(mixin){\n\t\t\tif(tick){\n\t\t\t\tif(mixin[tickName]){\n\t\t\t\t\ttick = merge(tick, mixin[tickName]);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\ttick = mixin[tickName];\n\t\t\t}\n\t\t}\n\t\treturn tick;\t//\tObject\n\t},\n\n\tinspectObjects: function(f){\n\t\tarr.forEach([\"chart\", \"plotarea\", \"axis\", \"grid\", \"series\", \"marker\", \"indicator\"], function(name){\n\t\t\tf(this[name]);\n\t\t}, this);\n\t\tif(this.seriesThemes){\n\t\t\tarr.forEach(this.seriesThemes, f);\n\t\t}\n\t\tif(this.markerThemes){\n\t\t\tarr.forEach(this.markerThemes, f);\n\t\t}\n\t},\n\n\treverseFills: function(){\n\t\tthis.inspectObjects(function(o){\n\t\t\tif(o && o.fill){\n\t\t\t\to.fill = dgg.reverse(o.fill);\n\t\t\t}\n\t\t});\n\t},\n\n\taddMarker:function(/*String*/ name, /*String*/ segment){\n\t\t// summary:\n\t\t//\t\tAdd a custom marker to this theme.\n\t\t// example:\n\t\t//\t|\tmyTheme.addMarker(\"Ellipse\", foo);\n\t\tthis.markers[name] = segment;\n\t\tthis._buildMarkerArray();\n\t},\n\n\tsetMarkers:function(/*Object*/ obj){\n\t\t// summary:\n\t\t//\t\tSet all the markers of this theme at once.  obj should be a\n\t\t//\t\tdictionary of keys and path segments.\n\t\t//\n\t\t// example:\n\t\t//\t|\tmyTheme.setMarkers({ \"CIRCLE\": foo });\n\t\tthis.markers = obj;\n\t\tthis._buildMarkerArray();\n\t},\n\n\t_buildMarkerArray: function(){\n\t\tthis._markers = [];\n\t\tfor(var p in this.markers){\n\t\t\tthis._markers.push(this.markers[p]);\n\t\t}\n\t}\n});\n\nlang.mixin(SimpleTheme, {\n\tdefaultMarkers: {\n\t\tCIRCLE:   \"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0\",\n\t\tSQUARE:   \"m-3,-3 l0,6 6,0 0,-6 z\",\n\t\tDIAMOND:  \"m0,-3 l3,3 -3,3 -3,-3 z\",\n\t\tCROSS:    \"m0,-3 l0,6 m-3,-3 l6,0\",\n\t\tX:        \"m-3,-3 l6,6 m0,-6 l-6,6\",\n\t\tTRIANGLE: \"m-3,3 l3,-6 3,6 z\",\n\t\tTRIANGLE_INVERTED: \"m-3,-3 l3,6 3,-6 z\"\n\t},\n\n\tdefaultColors:[\n\t\t// gray skies\n\t\t\"#54544c\", \"#858e94\", \"#6e767a\", \"#948585\", \"#474747\"\n\t],\n\n\tdefaultTheme: {\n\t\t// all objects are structs used directly in dojox.gfx\n\t\tchart:{\n\t\t\tstroke: null,\n\t\t\tfill: \"white\",\n\t\t\tpageStyle: null,\n\t\t\ttitleGap:\t\t20,\n\t\t\ttitlePos:\t\t\"top\",\n\t\t\ttitleFont:      \"normal normal bold 14pt Tahoma\",\t// chart title\n\t\t\ttitleFontColor: \"#333\",\n\t\t\ttitleAlign: \"middle\"\n\t\t},\n\t\tplotarea:{\n\t\t\tstroke: null,\n\t\t\tfill: \"white\"\n\t\t},\n\t\t// TODO: label rotation on axis\n\t\taxis:{\n\t\t\tstroke:\t{ // the axis itself\n\t\t\t\tcolor: \"#333\",\n\t\t\t\twidth: 1\n\t\t\t},\n\t\t\ttick: {\t// used as a foundation for all ticks\n\t\t\t\tcolor:     \"#666\",\n\t\t\t\tposition:  \"center\",\n\t\t\t\tfont:      \"normal normal normal 7pt Tahoma\",\t// labels on axis\n\t\t\t\tfontColor: \"#333\",\t\t\t\t\t\t\t\t// color of labels\n\t\t\t\tlabelGap:  4                                    // gap between a tick and its label in pixels\n\t\t\t},\n\t\t\tmajorTick:\t{ // major ticks on axis, and used for major gridlines\n\t\t\t\twidth:  1,\n\t\t\t\tlength: 6\n\t\t\t},\n\t\t\tminorTick:\t{ // minor ticks on axis, and used for minor gridlines\n\t\t\t\twidth:  0.8,\n\t\t\t\tlength: 3\n\t\t\t},\n\t\t\tmicroTick:\t{ // minor ticks on axis, and used for minor gridlines\n\t\t\t\twidth:  0.5,\n\t\t\t\tlength: 1\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\tgap:  15,\n\t\t\t\tfont: \"normal normal normal 11pt Tahoma\",\t// title font\n\t\t\t\tfontColor: \"#333\",\t\t\t\t\t\t\t// title font color\n\t\t\t\torientation: \"axis\"\t\t\t\t\t\t// \"axis\": facing the axis, \"away\": facing away\n\t\t\t}\n\t\t},\n\t\tseries: {\n\t\t\t// used as a \"main\" theme for series, sThemes augment it\n\t\t\tstroke:  {width: 1.5, color: \"#333\"},\t\t// line\n\t\t\toutline: {width: 0.1, color: \"#ccc\"},\t\t// outline\n\t\t\t//shadow:  {dx: 1, dy: 1, width: 2, color: [0, 0, 0, 0.3]},\n\t\t\tshadow: null,\t\t\t\t\t\t\t\t// no shadow\n\t\t\tfill:    \"#ccc\",\t\t\t\t\t\t\t// fill, if appropriate\n\t\t\tfont:    \"normal normal normal 8pt Tahoma\",\t// if there's a label\n\t\t\tfontColor: \"#000\",\t\t\t\t\t\t\t// color of labels\n\t\t\tlabelWiring: {width: 1, color: \"#ccc\"}\t\t// connect marker and target data item(slice, column, bar...)\n\t\t},\n\t\tmarker: {\t// any markers on a series\n\t\t\tstroke:  {width: 1.5, color: \"#333\"},\t\t// stroke\n\t\t\toutline: {width: 0.1, color: \"#ccc\"},\t\t// outline\n\t\t\t//shadow:  {dx: 1, dy: 1, width: 2, color: [0, 0, 0, 0.3]},\n\t\t\tshadow: null,\t\t\t\t\t\t\t\t// no shadow\n\t\t\tfill:    \"#ccc\",\t\t\t\t\t\t\t// fill if needed\n\t\t\tfont:    \"normal normal normal 8pt Tahoma\",\t// label\n\t\t\tfontColor: \"#000\"\n\t\t},\n\t\tindicator: {\n\t\t\tlineStroke:  {width: 1.5, color: \"#333\"},\t\t\n\t\t\tlineOutline: {width: 0.1, color: \"#ccc\"},\t\t\n\t\t\tlineShadow: null,\n\t\t\tlineFill: null,\n\t\t\tstroke:  {width: 1.5, color: \"#333\"},\t\t\n\t\t\toutline: {width: 0.1, color: \"#ccc\"},\t\t\n\t\t\tshadow: null,\t\t\t\t\t\t\t\t\n\t\t\tfill : \"#ccc\",\n\t\t\tradius: 3,\n\t\t\tfont:    \"normal normal normal 10pt Tahoma\",\t\n\t\t\tfontColor: \"#000\",\t\t\t\t\t\t\t\n\t\t\tmarkerFill:    \"#ccc\",\t\t\t\t\t\t\t\n\t\t\tmarkerSymbol:  \"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0\",\t\t\t\n\t\t\tmarkerStroke:  {width: 1.5, color: \"#333\"},\t\t\n\t\t\tmarkerOutline: {width: 0.1, color: \"#ccc\"},\t\t\n\t\t\tmarkerShadow: null\t\t\t\t\t\t\t\t\n\t\t}\n\t}\n});\n\nreturn SimpleTheme;\n});\n","define([\"dojo/_base/declare\", \"../Element\"],\n\tfunction(declare, Element){\n\t/*=====\n\tvar __BaseAxisCtorArgs = {\n\t\t// summary:\n\t\t//\t\tOptional arguments used in the definition of an invisible axis.\n\t\t// vertical: Boolean?\n\t\t//\t\tA flag that says whether an axis is vertical (i.e. y axis) or horizontal. Default is false (horizontal).\n\t\t// min: Number?\n\t\t//\t\tThe smallest value on an axis. Default is 0.\n\t\t// max: Number?\n\t\t//\t\tThe largest value on an axis. Default is 1.\n\t};\n\t=====*/\n\treturn declare(\"dojox.charting.axis2d.Base\", Element, {\n\t\t// summary:\n\t\t//\t\tThe base class for any axis.  This is more of an interface/API\n\t\t//\t\tdefinition than anything else; see dojox.charting.axis2d.Default\n\t\t//\t\tfor more details.\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tReturn a new base axis.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this axis belongs to.\n\t\t\t// kwArgs: __BaseAxisCtorArgs?\n\t\t\t//\t\tAn optional arguments object to define the axis parameters.\n\t\t\tthis.vertical = kwArgs && kwArgs.vertical;\n\t\t\tthis.opt = {};\n\t\t\tthis.opt.min = kwArgs && kwArgs.min;\n\t\t\tthis.opt.max = kwArgs && kwArgs.max;\n\t\t},\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tStub function for clearing the axis.\n\t\t\t// returns: dojox/charting/axis2d/Base\n\t\t\t//\t\tA reference to the axis for functional chaining.\n\t\t\treturn this;\t//\tdojox/charting/axis2d/Base\n\t\t},\n\t\tinitialized: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturn a flag as to whether or not this axis has been initialized.\n\t\t\t// returns: Boolean\n\t\t\t//\t\tIf the axis is initialized or not.\n\t\t\treturn false;\t//\tBoolean\n\t\t},\n\t\tcalculate: function(min, max, span){\n\t\t\t// summary:\n\t\t\t//\t\tStub function to run the calculations needed for drawing this axis.\n\t\t\t// returns: dojox/charting/axis2d/Base\n\t\t\t//\t\tA reference to the axis for functional chaining.\n\t\t\treturn this;\t//\tdojox/charting/axis2d/Base\n\t\t},\n\t\tgetScaler: function(){\n\t\t\t// summary:\n\t\t\t//\t\tA stub function to return the scaler object created during calculate.\n\t\t\t// returns: Object\n\t\t\t//\t\tThe scaler object (see dojox.charting.scaler.linear for more information)\n\t\t\treturn null;\t//\tObject\n\t\t},\n\t\tgetTicks: function(){\n\t\t\t// summary:\n\t\t\t//\t\tA stub function to return the object that helps define how ticks are rendered.\n\t\t\t// returns: Object\n\t\t\t//\t\tThe ticks object.\n\t\t\treturn null;\t//\tObject\n\t\t},\n\t\tgetOffsets: function(){\n\t\t\t// summary:\n\t\t\t//\t\tA stub function to return any offsets needed for axis and series rendering.\n\t\t\t// returns: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\treturn {l: 0, r: 0, t: 0, b: 0};\t//\tObject\n\t\t},\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tStub function to render this axis.\n\t\t\t// returns: dojox/charting/axis2d/Base\n\t\t\t//\t\tA reference to the axis for functional chaining.\n\t\t\tthis.dirty = false;\n\t\t\treturn this;\t//\tdojox/charting/axis2d/Base\n\t\t},\n\t\tisNullValue: function(value){\n\t\t\t// summary:\n\t\t\t//\t\tA stub function to determine a data value\n\t\t\t//\t\tthat should be ignored.\n\t\t\t// value: Number|Null|Object\n\t\t\t//\t\tA data value to be inspected.\n\t\t\t// returns: Boolean\n\t\t\t//\t\tIf the value makes sense for this axis or not.\n\t\t\treturn false;\n\t\t},\n\t\tnaturalBaseline: 0\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/sniff\", \"dojo/_base/declare\",\n\t\"dojo/_base/connect\", \"dojo/dom-geometry\", \"./Invisible\",\n\t\"../scaler/linear\", \"./common\", \"dojox/gfx\", \"dojox/lang/utils\", \"dojox/lang/functional\",\n\t\"dojo/has!dojo-bidi?../bidi/axis2d/Default\"],\n\tfunction(lang, arr, has, declare, connect, domGeom, Invisible,\n\t\t\tlin, acommon, g, du, df, BidiDefault){\n\n\t/*=====\n\tvar __AxisCtorArgs = {\n\t\t// summary:\n\t\t//\t\tOptional arguments used in the definition of an axis.\n\t\t// vertical: Boolean?\n\t\t//\t\tA flag that says whether an axis is vertical (i.e. y axis) or horizontal. Default is false (horizontal).\n\t\t// fixUpper: String?\n\t\t//\t\tAlign the greatest value on the axis with the specified tick level. Options are \"major\", \"minor\", \"micro\", or \"none\".  Defaults to \"none\".\n\t\t// fixLower: String?\n\t\t//\t\tAlign the smallest value on the axis with the specified tick level. Options are \"major\", \"minor\", \"micro\", or \"none\".  Defaults to \"none\".\n\t\t// natural: Boolean?\n\t\t//\t\tEnsure tick marks are made on \"natural\" numbers. Defaults to false.\n\t\t// leftBottom: Boolean?\n\t\t//\t\tDeprecated: use position instead. The position of a vertical axis; if true, will be placed against the left-bottom corner of the chart.  Defaults to true.\n\t\t// includeZero: Boolean?\n\t\t//\t\tInclude 0 on the axis rendering.  Default is false.\n\t\t// fixed: Boolean?\n\t\t//\t\tForce all axis labels to be fixed numbers.  Default is true.\n\t\t// majorLabels: Boolean?\n\t\t//\t\tFlag to draw labels at major ticks. Default is true.\n\t\t// minorTicks: Boolean?\n\t\t//\t\tFlag to draw minor ticks on an axis.  Default is true.\n\t\t// minorLabels: Boolean?\n\t\t//\t\tFlag to labels on minor ticks when there is enough space. Default is true.\n\t\t// microTicks: Boolean?\n\t\t//\t\tFlag to draw micro ticks on an axis. Default is false.\n\t\t// htmlLabels: Boolean?\n\t\t//\t\tFlag to use HTML (as opposed to the native vector graphics engine) to draw labels. Default is true.\n\t\t// min: Number?\n\t\t//\t\tThe smallest value on an axis. Default is 0.\n\t\t// max: Number?\n\t\t//\t\tThe largest value on an axis. Default is 1.\n\t\t// from: Number?\n\t\t//\t\tForce the chart to render data visible from this value. Default is 0.\n\t\t// to: Number?\n\t\t//\t\tForce the chart to render data visible to this value. Default is 1.\n\t\t// majorTickStep: Number?\n\t\t//\t\tThe amount to skip before a major tick is drawn. When not set the major ticks step is computed from\n\t\t//\t\tthe data range.\n\t\t// minorTickStep: Number?\n\t\t//\t\tThe amount to skip before a minor tick is drawn. When not set the minor ticks step is computed from\n\t\t//\t\tthe data range.\n\t\t// microTickStep: Number?\n\t\t//\t\tThe amount to skip before a micro tick is drawn. When not set the micro ticks step is computed from\n\t\t// labels: Object[]?\n\t\t//\t\tAn array of labels for major ticks, with corresponding numeric values, ordered by value.\n\t\t// labelFunc: Function?\n\t\t//\t\tAn optional function to use to compute label text. It takes precedence over\n\t\t//\t\tthe default text when available. The function must be of the following form:\n\t\t//\t|\t\tfunction labelFunc(text, value, precision) {}\n\t\t//\t\t`text` is the already pre-formatted text. Pre-formatting is done using `dojo/number` is available, `Date.toFixed` otherwise.\n\t\t//\t\t`value`  is the raw axis value.\n\t\t//\t\t`precision` is the requested precision to be applied.\n\t\t// maxLabelSize: Number?\n\t\t//\t\tThe maximum size, in pixels, for a label.  To be used with the optional label function.\n\t\t// stroke: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke to be used for drawing an axis.\n\t\t// majorTick: Object?\n\t\t//\t\tAn object containing a dojox.gfx.Stroke, and a length (number) for a major tick.\n\t\t// minorTick: Object?\n\t\t//\t\tAn object containing a dojox.gfx.Stroke, and a length (number) for a minor tick.\n\t\t// microTick: Object?\n\t\t//\t\tAn object containing a dojox.gfx.Stroke, and a length (number) for a micro tick.\n\t\t// tick: Object?\n\t\t//\t\tAn object containing a dojox.gfx.Stroke, and a length (number) for a tick.\n\t\t// font: String?\n\t\t//\t\tAn optional font definition (as used in the CSS font property) for labels.\n\t\t// fontColor: String|dojo.Color?\n\t\t//\t\tAn optional color to be used in drawing labels.\n\t\t// titleGap: Number?\n\t\t//\t\tAn optional grap between axis title and axis label\n\t\t// titleFont: String?\n\t\t//\t\tAn optional font definition for axis title\n\t\t// titleFontColor: String?\n\t\t//\t\tAn optional axis title color\n\t\t// titleOrientation: String?\n\t\t//\t\tAn optional orientation for axis title. \"axis\" means the title facing the axis, \"away\" means facing away.\n\t\t//\t\tIf no value is set \"axis\" is used.\n\t\t// enableCache: Boolean?\n\t\t//\t\tWhether the ticks and labels are cached from one rendering to another. This improves the rendering performance of\n\t\t//\t\tsuccessive rendering but penalize the first rendering. For labels it is only working with gfx labels\n\t\t//\t\tnot html ones.  Default false.\n\t\t// dropLabels: Boolean?\n\t\t//\t\tWhether the axis automatically drops labels at regular interval or not to avoid labels overlapping.\n\t\t//\t\tThis gives better results but require more computations.  You can disable it to save computation\n\t\t//\t\ttime when you know your labels won't overlap. Default is true.\n\t\t// labelSizeChange: Boolean?\n\t\t//\t\tIndicates to the axis whether the axis labels are changing their size on zoom. If false this allows to\n\t\t//\t\toptimize the axis by avoiding recomputing labels maximum size on zoom actions. Default is false.\n\t\t// position: String?\n\t\t//\t\tThe position of the axis. Values: \"leftOrBottom\", \"center\" or \"rightOrTop\". Default is \"leftOrBottom\".\n\t};\n\t=====*/\n\n\tvar centerAnchorLimit = 45;\t// in degrees\n\n\tvar Default = declare(has(\"dojo-bidi\")? \"dojox.charting.axis2d.NonBidiDefault\" : \"dojox.charting.axis2d.Default\", Invisible, {\n\t\t// summary:\n\t\t//\t\tThe default axis object used in dojox.charting.  See dojox.charting.Chart.addAxis for details.\n\n\t\t// defaultParams: Object\n\t\t//\t\tThe default parameters used to define any axis.\n\t\t// optionalParams: Object\n\t\t//\t\tAny optional parameters needed to define an axis.\n\n\t\t/*=====\n\t\t// TODO: the documentation tools need these to be pre-defined in order to pick them up\n\t\t//\tcorrectly, but the code here is partially predicated on whether or not the properties\n\t\t//\tactually exist.  For now, we will leave these undocumented but in the code for later. -- TRT\n\n\t\t// opt: Object\n\t\t//\t\tThe actual options used to define this axis, created at initialization.\n\t\t// scaler: Object\n\t\t//\t\tThe calculated helper object to tell charts how to draw an axis and any data.\n\t\t// ticks: Object\n\t\t//\t\tThe calculated tick object that helps a chart draw the scaling on an axis.\n\t\t// dirty: Boolean\n\t\t//\t\tThe state of the axis (whether it needs to be redrawn or not)\n\t\t// scale: Number\n\t\t//\t\tThe current scale of the axis.\n\t\t// offset: Number\n\t\t//\t\tThe current offset of the axis.\n\n\t\topt: null,\n\t\tscaler: null,\n\t\tticks: null,\n\t\tdirty: true,\n\t\tscale: 1,\n\t\toffset: 0,\n\t\t=====*/\n\t\tdefaultParams: {\n\t\t\tvertical:\tfalse,\t\t// true for vertical axis\n\t\t\tfixUpper:\t\"none\",\t// align the upper on ticks: \"major\", \"minor\", \"micro\", \"none\"\n\t\t\tfixLower:\t\"none\",\t// align the lower on ticks: \"major\", \"minor\", \"micro\", \"none\"\n\t\t\tnatural:\t false,\t\t// all tick marks should be made on natural numbers\n\t\t\tleftBottom:  true,\t\t// position of the axis, used with \"vertical\" - deprecated: use position instead\n\t\t\tincludeZero: false,\t\t// 0 should be included\n\t\t\tfixed:\t   true,\t\t// all labels are fixed numbers\n\t\t\tmajorLabels: true,\t\t// draw major labels\n\t\t\tminorTicks:  true,\t\t// draw minor ticks\n\t\t\tminorLabels: true,\t\t// draw minor labels\n\t\t\tmicroTicks:  false,\t\t// draw micro ticks\n\t\t\trotation:\t0,\t\t\t// label rotation angle in degrees\n\t\t\thtmlLabels:  true,\t\t// use HTML to draw labels\n\t\t\tenableCache: false,\t\t// whether we cache or not\n\t\t\tdropLabels: true,\t\t// whether we automatically drop overlapping labels or not\n\t\t\tlabelSizeChange: false, // whether the labels size change on zoom\n\t\t\tposition: \"leftOrBottom\" // position of the axis: \"leftOrBottom\" (default), \"center\" or \"rightOrTop\"\n\t\t},\n\t\toptionalParams: {\n\t\t\tmin:\t\t\t0,\t// minimal value on this axis\n\t\t\tmax:\t\t\t1,\t// maximal value on this axis\n\t\t\tfrom:\t\t\t0,\t// visible from this value\n\t\t\tto:\t\t\t\t1,\t// visible to this value\n\t\t\tmajorTickStep:\t4,\t// major tick step\n\t\t\tminorTickStep:\t2,\t// minor tick step\n\t\t\tmicroTickStep:\t1,\t// micro tick step\n\t\t\tlabels:\t\t\t[],\t// array of labels for major ticks\n\t\t\t// with corresponding numeric values\n\t\t\t// ordered by values\n\t\t\tlabelFunc:\t\tnull, // function to compute label values\n\t\t\tmaxLabelSize:\t0,\t// size in px. For use with labelFunc\n\t\t\tmaxLabelCharCount:\t0,\t// size in word count.\n\t\t\ttrailingSymbol:\tnull,\n\n\t\t\t// TODO: add support for minRange!\n\t\t\t// minRange:\t\t1,\t// smallest distance from min allowed on the axis\n\n\t\t\t// theme components\n\t\t\tstroke:\t\t\t{},\t// stroke for an axis\n\t\t\tmajorTick:\t\t{},\t// stroke + length for a tick\n\t\t\tminorTick:\t\t{},\t// stroke + length for a tick\n\t\t\tmicroTick:\t\t{},\t// stroke + length for a tick\n\t\t\ttick:\t\t   {},\t// stroke + length for a tick\n\t\t\tfont:\t\t\t\"\",\t// font for labels\n\t\t\tfontColor:\t\t\"\",\t// color for labels as a string\n\t\t\ttitle:\t\t\t\t \"\",\t// axis title\n\t\t\ttitleGap:\t\t\t 0,\t\t// gap between axis title and axis label\n\t\t\ttitleFont:\t\t\t \"\",\t\t// axis title font\n\t\t\ttitleFontColor:\t\t \"\",\t\t// axis title font color\n\t\t\ttitleOrientation:\t \"\"\t\t// \"axis\" means the title facing the axis, \"away\" means facing away\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for an axis.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart the axis belongs to.\n\t\t\t// kwArgs: __AxisCtorArgs?\n\t\t\t//\t\tAny optional keyword arguments to be used to define this axis.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tif(this.opt.enableCache){\n\t\t\t\tthis._textFreePool = [];\n\t\t\t\tthis._lineFreePool = [];\n\t\t\t\tthis._textUsePool = [];\n\t\t\t\tthis._lineUsePool = [];\n\t\t\t}\n\t\t\tthis._invalidMaxLabelSize = true;\n\t\t\t// replace deprecated leftBotton to position\n\t\t\tif(!(kwArgs && ('position' in kwArgs))){\n\t\t\t    this.opt.position = this.opt.leftBottom ? \"leftOrBottom\" : \"rightOrTop\";\n\t\t\t}\t\t\t\n\t\t\tthis.renderingOptions = { \"shape-rendering\": \"crispEdges\" };\n\t\t},\n\t\tsetWindow: function(scale, offset){\n\t\t\t// summary:\n\t\t\t//\t\tSet the drawing \"window\" for the axis.\n\t\t\t// scale: Number\n\t\t\t//\t\tThe new scale for the axis.\n\t\t\t// offset: Number\n\t\t\t//\t\tThe new offset for the axis.\n\t\t\t// returns: dojox/charting/axis2d/Default\n\t\t\t//\t\tThe reference to the axis for functional chaining.\n\t\t\tif(scale != this.scale){\n\t\t\t\t// if scale changed we need to recompute new max label size\n\t\t\t\tthis._invalidMaxLabelSize = true;\n\t\t\t}\n\t\t\treturn this.inherited(arguments);\n\t\t},\n\n\t\t_groupLabelWidth: function(labels, font, wcLimit){\n\t\t\tif(!labels.length){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(labels.length > 50){\n\t\t\t\t// let's avoid degenerated cases\n\t\t\t\tlabels.length = 50;\n\t\t\t}\n\t\t\tif(lang.isObject(labels[0])){\n\t\t\t\tlabels = df.map(labels, function(label){ return label.text; });\n\t\t\t}\n\t\t\tif(wcLimit){\n\t\t\t\tlabels = df.map(labels, function(label){\n\t\t\t\t\treturn lang.trim(label).length == 0 ? \"\" : label.substring(0, wcLimit) + this.trailingSymbol;\n\t\t\t\t}, this);\n\t\t\t}\n\t\t\tvar s = labels.join(\"<br>\");\n\t\t\treturn g._base._getTextBox(s, {font: font}).w || 0;\n\t\t},\n\n\t\t_getMaxLabelSize: function(min, max, span, rotation, font, size){\n\t\t\tif(this._maxLabelSize == null && arguments.length == 6){\n\t\t\t\tvar o = this.opt;\n\t\t\t\t// everything might have changed, reset the minMinorStep value\n\t\t\t\tthis.scaler.minMinorStep = this._prevMinMinorStep = 0;\n\t\t\t\tvar ob = lang.clone(o);\n\t\t\t\tdelete ob.to;\n\t\t\t\tdelete ob.from;\n\t\t\t\t// build all the ticks from min, to max not from to to _but_ using the step\n\t\t\t\t// that would be used if we where just displaying from to to from.\n\t\t\t\tvar sb = lin.buildScaler(min, max, span, ob, o.to - o.from);\n\t\t\t\tsb.minMinorStep = 0;\n\t\t\t\tthis._majorStart = sb.major.start;\n\t\t\t\t// we build all the ticks not only the ones we need to draw in order to get\n\t\t\t\t// a correct drop rate computation that works for any offset of this scale\n\t\t\t\tvar tb = lin.buildTicks(sb, o);\n\t\t\t\t// if there is not tick at all tb is null\n\t\t\t\tif(size && tb){\n\t\t\t\t\tvar majLabelW = 0, minLabelW = 0; // non rotated versions\n\t\t\t\t\t// we first collect all labels when needed\n\t\t\t\t\tvar tickLabelFunc = function(tick){\n\t\t\t\t\t\tif(tick.label){\n\t\t\t\t\t\t\tthis.push(tick.label);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tvar labels = [];\n\t\t\t\t\tif(this.opt.majorLabels){\n\t\t\t\t\t\tarr.forEach(tb.major, tickLabelFunc, labels);\n\t\t\t\t\t\tmajLabelW = this._groupLabelWidth(labels, font, ob.maxLabelCharCount);\n\t\t\t\t\t\tif(ob.maxLabelSize){\n\t\t\t\t\t\t\tmajLabelW = Math.min(ob.maxLabelSize, majLabelW);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// do the minor labels computation only if dropLabels is set\n\t\t\t\t\tlabels = [];\n\t\t\t\t\tif(this.opt.dropLabels && this.opt.minorLabels){\n\t\t\t\t\t\tarr.forEach(tb.minor, tickLabelFunc, labels);\n\t\t\t\t\t\tminLabelW = this._groupLabelWidth(labels, font, ob.maxLabelCharCount);\n\t\t\t\t\t\tif(ob.maxLabelSize){\n\t\t\t\t\t\t\tminLabelW = Math.min(ob.maxLabelSize, minLabelW);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._maxLabelSize = {\n\t\t\t\t\t\tmajLabelW: majLabelW, minLabelW: minLabelW,\n\t\t\t\t\t\tmajLabelH: size, minLabelH: size\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tthis._maxLabelSize = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._maxLabelSize;\n\t\t},\n\n\t\tcalculate: function(min, max, span){\n\t\t\tthis.inherited(arguments);\n\t\t\t// when the scale has not changed there is no reason for minMinorStep to change\n\t\t\tthis.scaler.minMinorStep = this._prevMinMinorStep;\n\t\t\t// we want to recompute the dropping mechanism only when the scale or the size of the axis is changing\n\t\t\t// not when for example when we scroll (otherwise effect would be weird)\n\t\t\tif((this._invalidMaxLabelSize || span != this._oldSpan) && (min != Infinity && max != -Infinity)){\n\t\t\t\tthis._invalidMaxLabelSize = false;\n\t\t\t\tif(this.opt.labelSizeChange){\n\t\t\t\t\tthis._maxLabelSize = null;\n\t\t\t\t}\n\t\t\t\tthis._oldSpan = span;\n\t\t\t\tvar o = this.opt;\n\t\t\t\tvar ta = this.chart.theme.axis, rotation = o.rotation % 360,\n\t\t\t\t\tlabelGap = this.chart.theme.axis.tick.labelGap,\n\t\t\t\t\t// TODO: we use one font --- of major tick, we need to use major and minor fonts\n\t\t\t\t\tfont = o.font || (ta.majorTick && ta.majorTick.font) || (ta.tick && ta.tick.font),\n\t\t\t\t\tsize = font ? g.normalizedLength(g.splitFontString(font).size) : 0,\n\t\t\t\t\t// even if we don't drop label we need to compute max size for offsets\n\t\t\t\t\tlabelW = this._getMaxLabelSize(min, max, span, rotation, font, size);\n\t\t\t\tif(typeof labelGap != \"number\"){\n\t\t\t\t\tlabelGap = 4; // in pixels\n\t\t\t\t}\n\t\t\t\tif(labelW && o.dropLabels){\n\t\t\t\t\tvar cosr = Math.abs(Math.cos(rotation * Math.PI / 180)),\n\t\t\t\t\t\tsinr = Math.abs(Math.sin(rotation * Math.PI / 180));\n\t\t\t\t\tvar majLabelW, minLabelW;\n\t\t\t\t\tif(rotation < 0){\n\t\t\t\t\t\trotation += 360;\n\t\t\t\t\t}\n\t\t\t\t\tswitch(rotation){\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcase 180:\n\t\t\t\t\t\t\t// trivial cases: horizontal labels\n\t\t\t\t\t\t\tif(this.vertical){\n\t\t\t\t\t\t\t\tmajLabelW = minLabelW = size;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tmajLabelW = labelW.majLabelW;\n\t\t\t\t\t\t\t\tminLabelW = labelW.minLabelW;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 90:\n\t\t\t\t\t\tcase 270:\n\t\t\t\t\t\t\t// trivial cases: vertical\n\t\t\t\t\t\t\tif(this.vertical){\n\t\t\t\t\t\t\t\tmajLabelW = labelW.majLabelW;\n\t\t\t\t\t\t\t\tminLabelW = labelW.minLabelW;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tmajLabelW = minLabelW = size;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// all major labels are parallel they can't collapse except if the two ticks are\n\t\t\t\t\t\t\t// closer than the height of the text * cos(90-rotation)\n\t\t\t\t\t\t\tmajLabelW  = this.vertical ? Math.min(labelW.majLabelW, size / cosr) : Math.min(labelW.majLabelW, size / sinr);\n\t\t\t\t\t\t\t// for minor labels we need to rotated them\n\t\t\t\t\t\t\tvar gap1 = Math.sqrt(labelW.minLabelW * labelW.minLabelW + size * size),\n\t\t\t\t\t\t\t\tgap2 = this.vertical ? size * cosr + labelW.minLabelW * sinr : labelW.minLabelW * cosr + size * sinr;\n\t\t\t\t\t\t\tminLabelW = Math.min(gap1, gap2);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t// we need to check both minor and major labels fit a minor step\n\t\t\t\t\tthis.scaler.minMinorStep = this._prevMinMinorStep =  Math.max(majLabelW, minLabelW) + labelGap;\n\t\t\t\t\tvar canMinorLabel = this.scaler.minMinorStep <= this.scaler.minor.tick * this.scaler.bounds.scale;\n\t\t\t\t\tif(!canMinorLabel){\n\t\t\t\t\t\t// we can't place minor labels, let's see if we can place major ones\n\t\t\t\t\t\t// in a major step and if not which skip interval we must follow\n\t\t\t\t\t\tthis._skipInterval = Math.floor((majLabelW + labelGap) / (this.scaler.major.tick * this.scaler.bounds.scale));\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// everything fit well\n\t\t\t\t\t\tthis._skipInterval = 0;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// drop label disabled\n\t\t\t\t\tthis._skipInterval = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// computes the tick subset we need for that scale/offset\n\t\t\tthis.ticks = lin.buildTicks(this.scaler, this.opt);\n\t\t\treturn this;\n\t\t},\n\n\t\tgetOffsets: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet the physical offset values for this axis (used in drawing data series). This method is not\n\t\t\t//\t\tsupposed to be called by the users but internally.\n\t\t\t// returns: Object\n\t\t\t//\t\tThe calculated offsets in the form of { l, r, t, b } (left, right, top, bottom).\n\t\t\tvar s = this.scaler, offsets = { l: 0, r: 0, t: 0, b: 0 };\n\t\t\tif(!s){\n\t\t\t\treturn offsets;\n\t\t\t}\n\t\t\tvar o = this.opt,\n\t\t\t\tta = this.chart.theme.axis,\n\t\t\t\tlabelGap = this.chart.theme.axis.tick.labelGap,\n\t\t\t\t// TODO: we use one font --- of major tick, we need to use major and minor fonts\n\t\t\t\ttaTitleFont = o.titleFont || (ta.title && ta.title.font),\n\t\t\t\ttaTitleGap = (o.titleGap==0) ? 0 : o.titleGap || (ta.title && ta.title.gap),\n\t\t\t\ttaMajorTick = this.chart.theme.getTick(\"major\", o),\n\t\t\t\ttaMinorTick = this.chart.theme.getTick(\"minor\", o),\n\t\t\t\ttsize = taTitleFont ? g.normalizedLength(g.splitFontString(taTitleFont).size) : 0,\n\t\t\t\trotation = o.rotation % 360, position = o.position, \n\t\t\t\tleftBottom = position !== \"rightOrTop\",\n\t\t\t\tcosr = Math.abs(Math.cos(rotation * Math.PI / 180)),\n\t\t\t\tsinr = Math.abs(Math.sin(rotation * Math.PI / 180));\n\t\t\tthis.trailingSymbol = (o.trailingSymbol === undefined || o.trailingSymbol === null) ?\n\t\t\t\tthis.trailingSymbol : o.trailingSymbol;\n\t\t\tif(typeof labelGap != \"number\"){\n\t\t\t\tlabelGap = 4; // in pixels\n\t\t\t}\n\t\t\tif(rotation < 0){\n\t\t\t\trotation += 360;\n\t\t\t}\n\t\t\tvar maxLabelSize = this._getMaxLabelSize(); // don't need parameters, calculate has been called before => we use cached value\n\t\t\tif(maxLabelSize){\n\t\t\t\tvar side;\n\t\t\t\tvar labelWidth = Math.ceil(Math.max(maxLabelSize.majLabelW, maxLabelSize.minLabelW)) + 1,\n\t\t\t\t\tsize = Math.ceil(Math.max(maxLabelSize.majLabelH, maxLabelSize.minLabelH)) + 1;\n\t\t\t\tif(this.vertical){\n\t\t\t\t\tside = leftBottom ? \"l\" : \"r\";\n\t\t\t\t\tswitch(rotation){\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcase 180:\n\t\t\t\t\t\t\toffsets[side] = position === \"center\" ? 0 : labelWidth;\n\t\t\t\t\t\t\toffsets.t = offsets.b = size / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 90:\n\t\t\t\t\t\tcase 270:\n\t\t\t\t\t\t\toffsets[side] = size;\n\t\t\t\t\t\t\toffsets.t = offsets.b = labelWidth / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(rotation <= centerAnchorLimit || (180 < rotation && rotation <= (180 + centerAnchorLimit))){\n\t\t\t\t\t\t\t\toffsets[side] = size * sinr / 2 + labelWidth * cosr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"t\" : \"b\"] = size * cosr / 2 + labelWidth * sinr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"b\" : \"t\"] = size * cosr / 2;\n\t\t\t\t\t\t\t}else if(rotation > (360 - centerAnchorLimit) || (180 > rotation && rotation > (180 - centerAnchorLimit))){\n\t\t\t\t\t\t\t\toffsets[side] = size * sinr / 2 + labelWidth * cosr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"b\" : \"t\"] = size * cosr / 2 + labelWidth * sinr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"t\" : \"b\"] = size * cosr / 2;\n\t\t\t\t\t\t\t}else if(rotation < 90 || (180 < rotation && rotation < 270)){\n\t\t\t\t\t\t\t\toffsets[side] = size * sinr + labelWidth * cosr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"t\" : \"b\"] = size * cosr + labelWidth * sinr;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\toffsets[side] = size * sinr + labelWidth * cosr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"b\" : \"t\"] = size * cosr + labelWidth * sinr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(position === \"center\"){\n\t\t\t\t\t    offsets[side] = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse{\t\t\t\t\t\n\t\t\t\t\t    offsets[side] += labelGap + Math.max(taMajorTick.length > 0?taMajorTick.length:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t taMinorTick.length > 0?taMinorTick.length:0) + (o.title ? (tsize + taTitleGap) : 0);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tside = leftBottom ? \"b\" : \"t\";\n\t\t\t\t\tswitch(rotation){\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcase 180:\n\t\t\t\t\t\t\toffsets[side] = position === \"center\" ? 0 : size;\n\t\t\t\t\t\t\toffsets.l = offsets.r = labelWidth / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 90:\n\t\t\t\t\t\tcase 270:\n\t\t\t\t\t\t\toffsets[side] = labelWidth;\n\t\t\t\t\t\t\toffsets.l = offsets.r = size / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif((90 - centerAnchorLimit) <= rotation && rotation <= 90 || (270 - centerAnchorLimit) <= rotation && rotation <= 270){\n\t\t\t\t\t\t\t\toffsets[side] = size * cosr / 2 + labelWidth * sinr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"r\" : \"l\"] = size * sinr / 2 + labelWidth * cosr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"l\" : \"r\"] = size * sinr / 2;\n\t\t\t\t\t\t\t}else if(90 <= rotation && rotation <= (90 + centerAnchorLimit) || 270 <= rotation && rotation <= (270 + centerAnchorLimit)){\n\t\t\t\t\t\t\t\toffsets[side] = size * cosr / 2 + labelWidth * sinr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"l\" : \"r\"] = size * sinr / 2 + labelWidth * cosr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"r\" : \"l\"] = size * sinr / 2;\n\t\t\t\t\t\t\t}else if(rotation < centerAnchorLimit || (180 < rotation && rotation < (180 + centerAnchorLimit))){\n\t\t\t\t\t\t\t\toffsets[side] = size * cosr + labelWidth * sinr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"r\" : \"l\"] = size * sinr + labelWidth * cosr;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\toffsets[side] = size * cosr + labelWidth * sinr;\n\t\t\t\t\t\t\t\toffsets[leftBottom ? \"l\" : \"r\"] = size * sinr + labelWidth * cosr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(position === \"center\"){\n\t\t\t\t\t    offsets[side] = 0;\n\t\t\t\t\t}\n\t\t\t\t\telse{\t\t\t\t\t\n\t\t\t\t\toffsets[side] += labelGap + Math.max(taMajorTick.length > 0?taMajorTick.length:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t taMinorTick.length > 0?taMinorTick.length:0) + (o.title ? (tsize + taTitleGap) : 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn offsets;\t//\tObject\n\t\t},\n\t\tcleanGroup: function(creator){\n\t\t\tif(this.opt.enableCache && this.group){\n\t\t\t\tthis._lineFreePool = this._lineFreePool.concat(this._lineUsePool);\n\t\t\t\tthis._lineUsePool = [];\n\t\t\t\tthis._textFreePool = this._textFreePool.concat(this._textUsePool);\n\t\t\t\tthis._textUsePool = [];\n\t\t\t}\n\t\t\tthis.inherited(arguments);\n\t\t},\n\t\tcreateText: function(labelType, creator, x, y, align, textContent, font, fontColor, labelWidth){\n\t\t\tif(!this.opt.enableCache || labelType==\"html\"){\n\t\t\t\treturn acommon.createText[labelType](\n\t\t\t\t\t\tthis.chart,\n\t\t\t\t\t\tcreator,\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\ttextContent,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\tfontColor,\n\t\t\t\t\t\tlabelWidth\n\t\t\t\t\t);\n\t\t\t}\n\t\t\tvar text;\n\t\t\tif(this._textFreePool.length > 0){\n\t\t\t\ttext = this._textFreePool.pop();\n\t\t\t\ttext.setShape({x: x, y: y, text: textContent, align: align});\n\t\t\t\t// For now all items share the same font, no need to re-set it\n\t\t\t\t//.setFont(font).setFill(fontColor);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(text);\n\t\t\t}else{\n\t\t\t\ttext = acommon.createText[labelType](\n\t\t\t\t\t\tthis.chart,\n\t\t\t\t\t\tcreator,\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\ttextContent,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\tfontColor\t\t\t\t\t\t\n\t\t\t\t\t);\t\t\t\n\t\t\t}\n\t\t\tthis._textUsePool.push(text);\n\t\t\treturn text;\n\t\t},\n\t\tcreateLine: function(creator, params){\n\t\t\tvar line;\n\t\t\tif(this.opt.enableCache && this._lineFreePool.length > 0){\n\t\t\t\tline = this._lineFreePool.pop();\n\t\t\t\tline.setShape(params);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(line);\n\t\t\t}else{\n\t\t\t\tline = creator.createLine(params);\n\t\t\t}\n\t\t\tif(this.opt.enableCache){\n\t\t\t\tthis._lineUsePool.push(line);\n\t\t\t}\n\t\t\treturn line;\n\t\t},\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRender/draw the axis.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height}.\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\t// returns: dojox/charting/axis2d/Default\n\t\t\t//\t\tThe reference to the axis for functional chaining.\n\t\t\t\n\t\t\tvar isRtl = this._isRtl();\t// chart mirroring\n\t\t\tif(!this.dirty || !this.scaler){\n\t\t\t\treturn this;\t//\tdojox/charting/axis2d/Default\n\t\t\t}\n\t\t\t// prepare variable\n\t\t\tvar o = this.opt, ta = this.chart.theme.axis, position = o.position, \n\t\t\t       leftBottom = position !== \"rightOrTop\", rotation = o.rotation % 360,\n\t\t\t\tstart, stop, titlePos, titleRotation=0, titleOffset, axisVector, tickVector, anchorOffset, labelOffset, labelAlign,\n\t\t\t\tlabelGap = this.chart.theme.axis.tick.labelGap,\n\t\t\t\t// TODO: we use one font --- of major tick, we need to use major and minor fonts\n\t\t\t\ttaFont = o.font || (ta.majorTick && ta.majorTick.font) || (ta.tick && ta.tick.font),\n\t\t\t\ttaTitleFont = o.titleFont || (ta.title && ta.title.font),\n\t\t\t\t// TODO: we use one font color --- we need to use different colors\n\t\t\t\ttaFontColor = o.fontColor || (ta.majorTick && ta.majorTick.fontColor) || (ta.tick && ta.tick.fontColor) || \"black\",\n\t\t\t\ttaTitleFontColor = o.titleFontColor || (ta.title && ta.title.fontColor) || \"black\",\n\t\t\t\ttaTitleGap = (o.titleGap==0) ? 0 : o.titleGap || (ta.title && ta.title.gap) || 15,\n\t\t\t\ttaTitleOrientation = o.titleOrientation || (ta.title && ta.title.orientation) || \"axis\",\n\t\t\t\ttaMajorTick = this.chart.theme.getTick(\"major\", o),\n\t\t\t\ttaMinorTick = this.chart.theme.getTick(\"minor\", o),\n\t\t\t\ttaMicroTick = this.chart.theme.getTick(\"micro\", o),\n\n\t\t\t\ttaStroke = \"stroke\" in o ? o.stroke : ta.stroke,\n\t\t\t\tsize = taFont ? g.normalizedLength(g.splitFontString(taFont).size) : 0,\n\t\t\t\tcosr = Math.abs(Math.cos(rotation * Math.PI / 180)),\n\t\t\t\tsinr = Math.abs(Math.sin(rotation * Math.PI / 180)),\n\t\t\t\ttsize = taTitleFont ? g.normalizedLength(g.splitFontString(taTitleFont).size) : 0;\n\t\t\tif(typeof labelGap != \"number\"){\n\t\t\t\tlabelGap = 4; // in pixels\n\t\t\t}\n\t\t\tif(rotation < 0){\n\t\t\t\trotation += 360;\n\t\t\t}\n\t\t\tvar cachedLabelW = this._getMaxLabelSize();\n\t\t\tcachedLabelW = cachedLabelW && cachedLabelW.majLabelW;\n\t\t\tif(this.vertical){\n\t\t\t\tstart = {y: dim.height - offsets.b};\n\t\t\t\tstop  = {y: offsets.t};\n\t\t\t\ttitlePos = {y: (dim.height - offsets.b + offsets.t)/2};\n\t\t\t\ttitleOffset = size * sinr + (cachedLabelW || 0) * cosr + labelGap + Math.max(taMajorTick.length > 0?taMajorTick.length:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t taMinorTick.length > 0?taMinorTick.length:0) +\n\t\t\t\t\ttsize + taTitleGap;\n\t\t\t\taxisVector = {x: 0, y: -1};\n\t\t\t\tlabelOffset = {x: 0, y: 0};\n\t\t\t\ttickVector = {x: 1, y: 0};\n\t\t\t\tanchorOffset = {x: labelGap, y: 0};\n\t\t\t\tswitch(rotation){\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\tlabelOffset.y = size * 0.4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 90:\n\t\t\t\t\t\tlabelAlign = \"middle\";\n\t\t\t\t\t\tlabelOffset.x = -size;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 180:\n\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\tlabelOffset.y = -size * 0.4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 270:\n\t\t\t\t\t\tlabelAlign = \"middle\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(rotation < centerAnchorLimit){\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.y = size * 0.4;\n\t\t\t\t\t\t}else if(rotation < 90){\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.y = size * 0.4;\n\t\t\t\t\t\t}else if(rotation < (180 - centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t}else if(rotation < (180 + centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tlabelOffset.y = -size * 0.4;\n\t\t\t\t\t\t}else if(rotation < 270){\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tlabelOffset.x = leftBottom ? 0 : size * 0.4;\n\t\t\t\t\t\t}else if(rotation < (360 - centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.x = leftBottom ? 0 : size * 0.4;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.y = size * 0.4;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(leftBottom){\n\t\t\t\t\tstart.x = stop.x = position === \"center\" ? dim.width/2 : offsets.l;\n\t\t\t\t\ttitleRotation = (taTitleOrientation && taTitleOrientation == \"away\") ? 90 : 270;\n\t\t\t\t\ttitlePos.x = offsets.l - titleOffset + (titleRotation == 270 ? tsize : 0);\n\t\t\t\t\ttickVector.x = -1;\n\t\t\t\t\tanchorOffset.x = -anchorOffset.x;\n\t\t\t\t}else{\n\t\t\t\t\tstart.x = stop.x = dim.width - offsets.r;\n\t\t\t\t\ttitleRotation = (taTitleOrientation && taTitleOrientation == \"axis\") ? 90 : 270;\n\t\t\t\t\ttitlePos.x = dim.width - offsets.r + titleOffset - (titleRotation == 270 ? 0 : tsize);\n\t\t\t\t\tswitch(labelAlign){\n\t\t\t\t\t\tcase \"start\":\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"middle\":\n\t\t\t\t\t\t\tlabelOffset.x += size;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tstart = {x: offsets.l};\n\t\t\t\tstop  = {x: dim.width - offsets.r};\n\t\t\t\ttitlePos = {x: (dim.width - offsets.r + offsets.l)/2};\n\t\t\t\ttitleOffset = size * cosr + (cachedLabelW || 0) * sinr + labelGap + Math.max(taMajorTick.length > 0?taMajorTick.length:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t taMinorTick.length > 0?taMinorTick.length:0) +\n\t\t\t\t\ttsize + taTitleGap;\n\t\t\t\taxisVector = {x: isRtl ? -1 : 1, y: 0}; \t// chart mirroring\n\t\t\t\tlabelOffset = {x: 0, y: 0};\n\t\t\t\ttickVector = {x: 0, y: 1};\n\t\t\t\tanchorOffset = {x: 0, y: labelGap};\n\t\t\t\tswitch(rotation){\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tlabelAlign = \"middle\";\n\t\t\t\t\t\tlabelOffset.y = size;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 90:\n\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\tlabelOffset.x = -size * 0.4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 180:\n\t\t\t\t\t\tlabelAlign = \"middle\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 270:\n\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\tlabelOffset.x = size * 0.4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(rotation < (90 - centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tlabelOffset.y = leftBottom ? size : 0;\n\t\t\t\t\t\t}else if(rotation < (90 + centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tlabelOffset.x = -size * 0.4;\n\t\t\t\t\t\t}else if(rotation < 180){\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tlabelOffset.y = leftBottom ? 0 : -size;\n\t\t\t\t\t\t}else if(rotation < (270 - centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.y = leftBottom ? 0 : -size;\n\t\t\t\t\t\t}else if(rotation < (270 + centerAnchorLimit)){\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.y = leftBottom ? size * 0.4 : 0;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tlabelOffset.y = leftBottom ? size : 0;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(leftBottom){\n\t\t\t\t\tstart.y = stop.y = position === \"center\" ? dim.height/2 : dim.height - offsets.b;\n\t\t\t\t\ttitleRotation = (taTitleOrientation && taTitleOrientation == \"axis\") ? 180 : 0;\n\t\t\t\t\ttitlePos.y = dim.height - offsets.b + titleOffset - (titleRotation ? tsize : 0);\n\t\t\t\t}else{\n\t\t\t\t\tstart.y = stop.y = offsets.t;\n\t\t\t\t\ttitleRotation = (taTitleOrientation && taTitleOrientation == \"away\") ? 180 : 0;\n\t\t\t\t\ttitlePos.y = offsets.t - titleOffset + (titleRotation ? 0 : tsize);\n\t\t\t\t\ttickVector.y = -1;\n\t\t\t\t\tanchorOffset.y = -anchorOffset.y;\n\t\t\t\t\tswitch(labelAlign){\n\t\t\t\t\t\tcase \"start\":\n\t\t\t\t\t\t\tlabelAlign = \"end\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\tlabelAlign = \"start\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"middle\":\n\t\t\t\t\t\t\tlabelOffset.y -= size;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// render shapes\n\n\t\t\tthis.cleanGroup();\n\n\t\t\tvar s = this.group,\n\t\t\t\tc = this.scaler,\n\t\t\t\tt = this.ticks,\n\t\t\t\tf = lin.getTransformerFromModel(this.scaler),\n\t\t\t\t// GFX Canvas now supports labels, so let's _not_ fallback to HTML anymore on canvas, just use\n\t\t\t\t// HTML labels if explicitly asked + no rotation + no IE + no Opera\n\t\t\t\tlabelType = (!o.title || !titleRotation) && !rotation && this.opt.htmlLabels && !has(\"ie\") && !has(\"opera\") ? \"html\" : \"gfx\",\n\t\t\t\tdx = tickVector.x * taMajorTick.length,\n\t\t\t\tdy = tickVector.y * taMajorTick.length,\n\t\t\t\tskip = this._skipInterval;\n\n\t\t\ts.createLine({\n\t\t\t\tx1: start.x,\n\t\t\t\ty1: start.y,\n\t\t\t\tx2: stop.x,\n\t\t\t\ty2: stop.y\n\t\t\t}).setStroke(taStroke);\n\n\t\t\t//create axis title\n\t\t\tif(o.title){\n\t\t\t\tvar axisTitle = acommon.createText[labelType](\n\t\t\t\t\tthis.chart,\n\t\t\t\t\ts,\n\t\t\t\t\ttitlePos.x,\n\t\t\t\t\ttitlePos.y,\n\t\t\t\t\t\"middle\",\n\t\t\t\t\to.title,\n\t\t\t\t\ttaTitleFont,\n\t\t\t\t\ttaTitleFontColor\n\t\t\t\t);\n\t\t\t\tif(labelType == \"html\"){\n\t\t\t\t\tthis.htmlElements.push(axisTitle);\n\t\t\t\t}else{\n\t\t\t\t\t//as soon as rotation is provided, labelType won't be \"html\"\n\t\t\t\t\t//rotate gfx labels\n\t\t\t\t\taxisTitle.setTransform(g.matrix.rotategAt(titleRotation, titlePos.x, titlePos.y));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// go out nicely instead of try/catch\n\t\t\tif(t == null){\n\t\t\t\tthis.dirty = false;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tvar rel = (t.major.length > 0)?(t.major[0].value - this._majorStart) / c.major.tick:0;\n\t\t\tvar canLabel = this.opt.majorLabels;\n\t\t\tarr.forEach(t.major, function(tick, i){\n\t\t\t\tvar offset = f(tick.value), elem,\n\t\t\t\t\tx = (isRtl ? stop.x : start.x) + axisVector.x * offset, // chart mirroring\n\t\t\t\t\ty = start.y + axisVector.y * offset;\n\t\t\t\ti += rel;\n\t\t\t\tthis.createLine(s, {\n\t\t\t\t\tx1: x, y1: y,\n\t\t\t\t\tx2: x + dx,\n\t\t\t\t\ty2: y + dy\n\t\t\t\t}).setStroke(taMajorTick);\n\t\t\t\tif(tick.label && (!skip || (i - (1 + skip)) % (1 + skip) == 0)){\n\t\t\t\t\tvar label = o.maxLabelCharCount ? this.getTextWithLimitCharCount(tick.label, taFont, o.maxLabelCharCount) : {\n\t\t\t\t\t\ttext: tick.label,\n\t\t\t\t\t\ttruncated: false\n\t\t\t\t\t};\n\t\t\t\t\tlabel = o.maxLabelSize ? this.getTextWithLimitLength(label.text, taFont, o.maxLabelSize, label.truncated) : label;\n\t\t\t\t\telem = this.createText(labelType,\n\t\t\t\t\t\ts,\n\t\t\t\t\t\tx + (taMajorTick.length > 0 ? dx : 0) + anchorOffset.x + (rotation ? 0 : labelOffset.x),\n\t\t\t\t\t\ty + (taMajorTick.length > 0 ? dy : 0) + anchorOffset.y + (rotation ? 0 : labelOffset.y),\n\t\t\t\t\t\tlabelAlign,\n\t\t\t\t\t\tlabel.text,\n\t\t\t\t\t\ttaFont,\n\t\t\t\t\t\ttaFontColor\n\t\t\t\t\t\t//cachedLabelW\n\t\t\t\t\t);\n\t\t\t\t\t// if bidi support was required, the textDir is \"auto\" and truncation\n\t\t\t\t\t// took place, we need to update the dir of the element for cases as:\n\t\t\t\t\t// Fool label: 111111W (W for bidi character)\n\t\t\t\t\t// truncated label: 11...\n\t\t\t\t\t// in this case for auto textDir the dir will be \"ltr\" which is wrong.\n\t\t\t\t\tif(label.truncated){\n\t\t\t\t\t\tthis.chart.formatTruncatedLabel(elem, tick.label, labelType);\n\t\t\t\t\t}\n\t\t\t\t\tlabel.truncated && this.labelTooltip(elem, this.chart, tick.label, label.text, taFont, labelType);\n\t\t\t\t\tif(labelType == \"html\"){\n\t\t\t\t\t\tthis.htmlElements.push(elem);\n\t\t\t\t\t}else if(rotation){\n\t\t\t\t\t\telem.setTransform([\n\t\t\t\t\t\t\t{dx: labelOffset.x, dy: labelOffset.y},\n\t\t\t\t\t\t\tg.matrix.rotategAt(\n\t\t\t\t\t\t\t\trotation,\n\t\t\t\t\t\t\t\tx + (taMajorTick.length > 0 ? dx : 0) + anchorOffset.x,\n\t\t\t\t\t\t\t\ty + (taMajorTick.length > 0 ? dy : 0) + anchorOffset.y\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tdx = tickVector.x * taMinorTick.length;\n\t\t\tdy = tickVector.y * taMinorTick.length;\n\t\t\tcanLabel = this.opt.minorLabels && c.minMinorStep <= c.minor.tick * c.bounds.scale;\n\t\t\tarr.forEach(t.minor, function(tick){\n\t\t\t\tvar offset = f(tick.value), elem,\n\t\t\t\t\tx = (isRtl ? stop.x : start.x)  + axisVector.x * offset,\n\t\t\t\t\ty = start.y + axisVector.y * offset; // chart mirroring\n\t\t\t\tthis.createLine(s, {\n\t\t\t\t\tx1: x, y1: y,\n\t\t\t\t\tx2: x + dx,\n\t\t\t\t\ty2: y + dy\n\t\t\t\t}).setStroke(taMinorTick);\n\t\t\t\tif(canLabel && tick.label){\n\t\t\t\t\tvar label = o.maxLabelCharCount ? this.getTextWithLimitCharCount(tick.label, taFont, o.maxLabelCharCount) : {\n\t\t\t\t\t\ttext: tick.label,\n\t\t\t\t\t\ttruncated: false\n\t\t\t\t\t};\n\t\t\t\t\tlabel = o.maxLabelSize ? this.getTextWithLimitLength(label.text, taFont, o.maxLabelSize, label.truncated) : label;\n\t\t\t\t\telem = this.createText(labelType,\n\t\t\t\t\t\ts,\n\t\t\t\t\t\tx + (taMinorTick.length > 0 ? dx : 0) + anchorOffset.x + (rotation ? 0 : labelOffset.x),\n\t\t\t\t\t\ty + (taMinorTick.length  > 0 ? dy : 0) + anchorOffset.y + (rotation ? 0 : labelOffset.y),\n\t\t\t\t\t\tlabelAlign,\n\t\t\t\t\t\tlabel.text,\n\t\t\t\t\t\ttaFont,\n\t\t\t\t\t\ttaFontColor\n\t\t\t\t\t\t//cachedLabelW\n\t\t\t\t\t);\n\t\t\t\t\t// if bidi support was required, the textDir is \"auto\" and truncation\n\t\t\t\t\t// took place, we need to update the dir of the element for cases as:\n\t\t\t\t\t// Fool label: 111111W (W for bidi character)\n\t\t\t\t\t// truncated label: 11...\n\t\t\t\t\t// in this case for auto textDir the dir will be \"ltr\" which is wrong.\n\t\t\t\t\tif(label.truncated){\n\t\t\t\t\t\tthis.chart.formatTruncatedLabel(elem, tick.label, labelType);\n\t\t\t\t\t}\n\t\t\t\t\tlabel.truncated && this.labelTooltip(elem, this.chart, tick.label, label.text, taFont, labelType);\n\t\t\t\t\tif(labelType == \"html\"){\n\t\t\t\t\t\tthis.htmlElements.push(elem);\n\t\t\t\t\t}else if(rotation){\n\t\t\t\t\t\telem.setTransform([\n\t\t\t\t\t\t\t{dx: labelOffset.x, dy: labelOffset.y},\n\t\t\t\t\t\t\tg.matrix.rotategAt(\n\t\t\t\t\t\t\t\trotation,\n\t\t\t\t\t\t\t\tx + (taMinorTick.length > 0 ? dx : 0) + anchorOffset.x,\n\t\t\t\t\t\t\t\ty + (taMinorTick.length > 0 ? dy : 0) + anchorOffset.y\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tdx = tickVector.x * taMicroTick.length;\n\t\t\tdy = tickVector.y * taMicroTick.length;\n\t\t\tarr.forEach(t.micro, function(tick){\n\t\t\t\tvar offset = f(tick.value),\n\t\t\t\t\tx = start.x + axisVector.x * offset,\n\t\t\t\t\ty = start.y + axisVector.y * offset;\n\t\t\t\t\tthis.createLine(s, {\n\t\t\t\t\t\tx1: x, y1: y,\n\t\t\t\t\t\tx2: x + dx,\n\t\t\t\t\t\ty2: y + dy\n\t\t\t\t\t}).setStroke(taMicroTick);\n\t\t\t}, this);\n\n\t\t\tthis.dirty = false;\n\t\t\treturn this;\t//\tdojox/charting/axis2d/Default\n\t\t},\n\t\tlabelTooltip: function(elem, chart, label, truncatedLabel, font, elemType){\n\t\t\tvar modules = [\"dijit/Tooltip\"];\n\t\t\tvar aroundRect = {type: \"rect\"}, position = [\"above\", \"below\"],\n\t\t\t\tfontWidth = g._base._getTextBox(truncatedLabel, {font: font}).w || 0,\n\t\t\t\tfontHeight = font ? g.normalizedLength(g.splitFontString(font).size) : 0;\n\t\t\tif(elemType == \"html\"){\n\t\t\t\tlang.mixin(aroundRect, domGeom.position(elem.firstChild, true));\n\t\t\t\taroundRect.width = Math.ceil(fontWidth);\n\t\t\t\taroundRect.height = Math.ceil(fontHeight);\n\t\t\t\tthis._events.push({\n\t\t\t\t\tshape:  dojo,\n\t\t\t\t\thandle: connect.connect(elem.firstChild, \"onmouseover\", this, function(e){\n\t\t\t\t\t\trequire(modules, function(Tooltip){\n\t\t\t\t\t\t\tTooltip.show(label, aroundRect, position);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tthis._events.push({\n\t\t\t\t\tshape:  dojo,\n\t\t\t\t\thandle: connect.connect(elem.firstChild, \"onmouseout\", this, function(e){\n\t\t\t\t\t\trequire(modules, function(Tooltip){\n\t\t\t\t\t\t\tTooltip.hide(aroundRect);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tvar shp = elem.getShape(),\n\t\t\t\t\tlt = chart.getCoords();\n\t\t\t\taroundRect = lang.mixin(aroundRect, {\n\t\t\t\t\tx: shp.x - fontWidth / 2,\n\t\t\t\t\ty: shp.y\n\t\t\t\t});\n\t\t\t\taroundRect.x += lt.x;\n\t\t\t\taroundRect.y += lt.y;\n\t\t\t\taroundRect.x = Math.round(aroundRect.x);\n\t\t\t\taroundRect.y = Math.round(aroundRect.y);\n\t\t\t\taroundRect.width = Math.ceil(fontWidth);\n\t\t\t\taroundRect.height = Math.ceil(fontHeight);\n\t\t\t\tthis._events.push({\n\t\t\t\t\tshape:  elem,\n\t\t\t\t\thandle: elem.connect(\"onmouseenter\", this, function(e){\n\t\t\t\t\t\trequire(modules, function(Tooltip){\n\t\t\t\t\t\t\tTooltip.show(label, aroundRect, position);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tthis._events.push({\n\t\t\t\t\tshape:  elem,\n\t\t\t\t\thandle: elem.connect(\"onmouseleave\", this, function(e){\n\t\t\t\t\t\trequire(modules, function(Tooltip){\n\t\t\t\t\t\t\tTooltip.hide(aroundRect);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_isRtl: function(){\n\t\t\treturn false;\n\t\t}\n\t});\n\treturn has(\"dojo-bidi\")? declare(\"dojox.charting.axis2d.Default\", [Default, BidiDefault]) : Default;\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"./Base\", \"../scaler/linear\",\n\t\"dojox/lang/utils\"],\n\tfunction(lang, declare, Base, lin, du){\n\n/*=====\n\tvar __InvisibleAxisCtorArgs = {\n\t\t// summary:\n\t\t//\t\tOptional arguments used in the definition of an invisible axis.\n\t\t// vertical: Boolean?\n\t\t//\t\tA flag that says whether an axis is vertical (i.e. y axis) or horizontal. Default is false (horizontal).\n\t\t// fixUpper: String?\n\t\t//\t\tAlign the greatest value on the axis with the specified tick level. Options are \"major\", \"minor\", \"micro\", or \"none\".  Defaults to \"none\".\n\t\t// fixLower: String?\n\t\t//\t\tAlign the smallest value on the axis with the specified tick level. Options are \"major\", \"minor\", \"micro\", or \"none\".  Defaults to \"none\".\n\t\t// natural: Boolean?\n\t\t//\t\tEnsure tick marks are made on \"natural\" numbers. Defaults to false.\n\t\t// leftBottom: Boolean?\n\t\t//\t\tThe position of a vertical axis; if true, will be placed against the left-bottom corner of the chart.  Defaults to true.\n\t\t// includeZero: Boolean?\n\t\t//\t\tInclude 0 on the axis rendering.  Default is false.\n\t\t// fixed: Boolean?\n\t\t//\t\tForce all axis labels to be fixed numbers.  Default is true.\n\t\t// min: Number?\n\t\t//\t\tThe smallest value on an axis. Default is 0.\n\t\t// max: Number?\n\t\t//\t\tThe largest value on an axis. Default is 1.\n\t\t// from: Number?\n\t\t//\t\tForce the chart to render data visible from this value. Default is 0.\n\t\t// to: Number?\n\t\t//\t\tForce the chart to render data visible to this value. Default is 1.\n\t\t// majorTickStep: Number?\n\t\t//\t\tThe amount to skip before a major tick is drawn. When not set the major ticks step is computed from\n\t\t//\t\tthe data range.\n\t\t// minorTickStep: Number?\n\t\t//\t\tThe amount to skip before a minor tick is drawn. When not set the minor ticks step is computed from\n\t\t//\t\tthe data range.\n\t\t// microTickStep: Number?\n\t\t//\t\tThe amount to skip before a micro tick is drawn. When not set the micro ticks step is computed from\n\t};\n=====*/\n\n\treturn declare(\"dojox.charting.axis2d.Invisible\", Base, {\n\t\t// summary:\n\t\t//\t\tA axis object used in dojox.charting.  You can use that axis if you want the axis to be invisible.\n\t\t//\t\tSee dojox.charting.Chart.addAxis for details.\n\t\t//\n\t\t// defaultParams: Object\n\t\t//\t\tThe default parameters used to define any axis.\n\t\t// optionalParams: Object\n\t\t//\t\tAny optional parameters needed to define an axis.\n\n\t\t/*\n\t\t// TODO: the documentation tools need these to be pre-defined in order to pick them up\n\t\t//\tcorrectly, but the code here is partially predicated on whether or not the properties\n\t\t//\tactually exist.  For now, we will leave these undocumented but in the code for later. -- TRT\n\n\t\t// opt: Object\n\t\t//\t\tThe actual options used to define this axis, created at initialization.\n\t\t// scaler: Object\n\t\t//\t\tThe calculated helper object to tell charts how to draw an axis and any data.\n\t\t// ticks: Object\n\t\t//\t\tThe calculated tick object that helps a chart draw the scaling on an axis.\n\t\t// dirty: Boolean\n\t\t//\t\tThe state of the axis (whether it needs to be redrawn or not)\n\t\t// scale: Number\n\t\t//\t\tThe current scale of the axis.\n\t\t// offset: Number\n\t\t//\t\tThe current offset of the axis.\n\n\t\topt: null,\n\t\tscaler: null,\n\t\tticks: null,\n\t\tdirty: true,\n\t\tscale: 1,\n\t\toffset: 0,\n\t\t*/\n\t\tdefaultParams: {\n\t\t\tvertical:    false,\t\t// true for vertical axis\n\t\t\tfixUpper:    \"none\",\t// align the upper on ticks: \"major\", \"minor\", \"micro\", \"none\"\n\t\t\tfixLower:    \"none\",\t// align the lower on ticks: \"major\", \"minor\", \"micro\", \"none\"\n\t\t\tnatural:     false,\t\t// all tick marks should be made on natural numbers\n\t\t\tleftBottom:  true,\t\t// position of the axis, used with \"vertical\"\n\t\t\tincludeZero: false,\t\t// 0 should be included\n\t\t\tfixed:       true\t\t// all labels are fixed numbers\n\t\t},\n\t\toptionalParams: {\n\t\t\tmin:\t\t\t0,\t// minimal value on this axis\n\t\t\tmax:\t\t\t1,\t// maximal value on this axis\n\t\t\tfrom:\t\t\t0,\t// visible from this value\n\t\t\tto:\t\t\t\t1,\t// visible to this value\n\t\t\tmajorTickStep:\t4,\t// major tick step\n\t\t\tminorTickStep:\t2,\t// minor tick step\n\t\t\tmicroTickStep:\t1\t// micro tick step\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for an invisible axis.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart the axis belongs to.\n\t\t\t// kwArgs: __InvisibleAxisCtorArgs?\n\t\t\t//\t\tAny optional keyword arguments to be used to define this axis.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n            du.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t},\n\t\tdependOnData: function(){\n\t\t\t// summary:\n\t\t\t//\t\tFind out whether or not the axis options depend on the data in the axis.\n\t\t\treturn !(\"min\" in this.opt) || !(\"max\" in this.opt);\t//\tBoolean\n\t\t},\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear out all calculated properties on this axis;\n\t\t\t// returns: dojox/charting/axis2d/Invisible\n\t\t\t//\t\tThe reference to the axis for functional chaining.\n\t\t\tdelete this.scaler;\n\t\t\tdelete this.ticks;\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/axis2d/Invisible\n\t\t},\n\t\tinitialized: function(){\n\t\t\t// summary:\n\t\t\t//\t\tFinds out if this axis has been initialized or not.\n\t\t\t// returns: Boolean\n\t\t\t//\t\tWhether a scaler has been calculated and if the axis is not dirty.\n\t\t\treturn \"scaler\" in this && !(this.dirty && this.dependOnData());\n\t\t},\n\t\tsetWindow: function(scale, offset){\n\t\t\t// summary:\n\t\t\t//\t\tSet the drawing \"window\" for the axis.\n\t\t\t// scale: Number\n\t\t\t//\t\tThe new scale for the axis.\n\t\t\t// offset: Number\n\t\t\t//\t\tThe new offset for the axis.\n\t\t\t// returns: dojox/charting/axis2d/Invisible\n\t\t\t//\t\tThe reference to the axis for functional chaining.\n\t\t\tthis.scale  = scale;\n\t\t\tthis.offset = offset;\n\t\t\treturn this.clear();\t//\tdojox/charting/axis2d/Invisible\n\t\t},\n\t\tgetWindowScale: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet the current windowing scale of the axis.\n\t\t\treturn \"scale\" in this ? this.scale : 1;\t//\tNumber\n\t\t},\n\t\tgetWindowOffset: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet the current windowing offset for the axis.\n\t\t\treturn \"offset\" in this ? this.offset : 0;\t//\tNumber\n\t\t},\n\t\tcalculate: function(min, max, span, scalerType){\n\t\t\t// summary:\n\t\t\t//\t\tPerform all calculations needed to render this axis.\n\t\t\t// min: Number\n\t\t\t//\t\tThe smallest value represented on this axis.\n\t\t\t// max: Number\n\t\t\t//\t\tThe largest value represented on this axis.\n\t\t\t// span: Number\n\t\t\t//\t\tThe span in pixels over which axis calculations are made.\n\t\t\t// scalerType: Object\n\t\t\t//\t\tAn optional scaler type object.\n\t\t\t// returns: dojox/charting/axis2d/Invisible\n\t\t\t//\t\tThe reference to the axis for functional chaining.\n\t\t\tif(this.initialized()){\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tvar o = this.opt;\n\t\t\t// we used to have a 4th function parameter to reach labels but\n\t\t\t// nobody was calling it with 4 parameters.\n\t\t\tthis.labels = o.labels;\n\t\t\tthis.scaler = (scalerType || lin).buildScaler(min, max, span, o);\n\t\t\t// store the absolute major tick start, this will be useful when dropping a label every n labels\n\t\t\t// TODO: if o.lower then it does not work\n\t\t\tvar tsb = this.scaler.bounds;\n\t\t\tif(\"scale\" in this){\n\t\t\t\t// calculate new range\n\t\t\t\to.from = tsb.lower + this.offset;\n\t\t\t\to.to   = (tsb.upper - tsb.lower) / this.scale + o.from;\n\t\t\t\t// make sure that bounds are correct\n\t\t\t\tif( !isFinite(o.from) ||\n\t\t\t\t\tisNaN(o.from) ||\n\t\t\t\t\t!isFinite(o.to) ||\n\t\t\t\t\tisNaN(o.to) ||\n\t\t\t\t\to.to - o.from >= tsb.upper - tsb.lower\n\t\t\t\t){\n\t\t\t\t\t// any error --- remove from/to bounds\n\t\t\t\t\tdelete o.from;\n\t\t\t\t\tdelete o.to;\n\t\t\t\t\tdelete this.scale;\n\t\t\t\t\tdelete this.offset;\n\t\t\t\t}else{\n\t\t\t\t\t// shift the window, if we are out of bounds\n\t\t\t\t\tif(o.from < tsb.lower){\n\t\t\t\t\t\to.to += tsb.lower - o.from;\n\t\t\t\t\t\to.from = tsb.lower;\n\t\t\t\t\t}else if(o.to > tsb.upper){\n\t\t\t\t\t\to.from += tsb.upper - o.to;\n\t\t\t\t\t\to.to = tsb.upper;\n\t\t\t\t\t}\n\t\t\t\t\t// update the offset\n\t\t\t\t\tthis.offset = o.from - tsb.lower;\n\t\t\t\t}\n\t\t\t\t// re-calculate the scaler\n\t\t\t\tthis.scaler = (scalerType || lin).buildScaler(min, max, span, o);\n\t\t\t\ttsb = this.scaler.bounds;\n\t\t\t\t// cleanup\n\t\t\t\tif(this.scale == 1 && this.offset == 0){\n\t\t\t\t\tdelete this.scale;\n\t\t\t\t\tdelete this.offset;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/axis2d/Invisible\n\t\t},\n\t\tgetScaler: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet the pre-calculated scaler object.\n\t\t\treturn this.scaler;\t//\tObject\n\t\t},\n\t\tgetTicks: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet the pre-calculated ticks object.\n\t\t\treturn this.ticks;\t//\tObject\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/window\", \"dojo/dom-geometry\", \"dojox/gfx\", \"dojo/has\"],\n\tfunction(lang, win, domGeom, g, has){\n\n\tvar common = lang.getObject(\"dojox.charting.axis2d.common\", true);\n\t\n\tvar clearNode = function(s){\n\t\ts.marginLeft   = \"0px\";\n\t\ts.marginTop    = \"0px\";\n\t\ts.marginRight  = \"0px\";\n\t\ts.marginBottom = \"0px\";\n\t\ts.paddingLeft   = \"0px\";\n\t\ts.paddingTop    = \"0px\";\n\t\ts.paddingRight  = \"0px\";\n\t\ts.paddingBottom = \"0px\";\n\t\ts.borderLeftWidth   = \"0px\";\n\t\ts.borderTopWidth    = \"0px\";\n\t\ts.borderRightWidth  = \"0px\";\n\t\ts.borderBottomWidth = \"0px\";\n\t};\n\n\tvar getBoxWidth = function(n){\n\t\t// marginBox is incredibly slow, so avoid it if we can\n\t\tif(n[\"getBoundingClientRect\"]){\n\t\t\tvar bcr = n.getBoundingClientRect();\n\t\t\treturn bcr.width || (bcr.right - bcr.left);\n\t\t}else{\n\t\t\treturn domGeom.getMarginBox(n).w;\n\t\t}\n\t};\n\n\treturn lang.mixin(common, {\n\t\t// summary:\n\t\t//\t\tCommon methods to be used by any axis.  This is considered \"static\".\n\t\tcreateText: {\n\t\t\tgfx: function(chart, creator, x, y, align, text, font, fontColor){\n\t\t\t\t// summary:\n\t\t\t\t//\t\tUse dojox.gfx to create any text.\n\t\t\t\t// chart: dojox.charting.Chart\n\t\t\t\t//\t\tThe chart to create the text into.\n\t\t\t\t// creator: dojox.gfx.Surface\n\t\t\t\t//\t\tThe graphics surface to use for creating the text.\n\t\t\t\t// x: Number\n\t\t\t\t//\t\tWhere to create the text along the x axis (CSS left).\n\t\t\t\t// y: Number\n\t\t\t\t//\t\tWhere to create the text along the y axis (CSS top).\n\t\t\t\t// align: String\n\t\t\t\t//\t\tHow to align the text.  Can be \"left\", \"right\", \"center\".\n\t\t\t\t// text: String\n\t\t\t\t//\t\tThe text to render.\n\t\t\t\t// font: String\n\t\t\t\t//\t\tThe font definition, a la CSS \"font\".\n\t\t\t\t// fontColor: String|dojo.Color\n\t\t\t\t//\t\tThe color of the resultant text.\n\t\t\t\t// returns: dojox.gfx.Text\n\t\t\t\t//\t\tThe resultant GFX object.\n\t\t\t\treturn creator.createText({\n\t\t\t\t\tx: x, y: y, text: text, align: align\n\t\t\t\t}).setFont(font).setFill(fontColor);\t//\tdojox.gfx.Text\n\t\t\t},\n\t\t\thtml: function(chart, creator, x, y, align, text, font, fontColor, labelWidth){\n\t\t\t\t// summary:\n\t\t\t\t//\t\tUse the HTML DOM to create any text.\n\t\t\t\t// chart: dojox.charting.Chart\n\t\t\t\t//\t\tThe chart to create the text into.\n\t\t\t\t// creator: dojox.gfx.Surface\n\t\t\t\t//\t\tThe graphics surface to use for creating the text.\n\t\t\t\t// x: Number\n\t\t\t\t//\t\tWhere to create the text along the x axis (CSS left).\n\t\t\t\t// y: Number\n\t\t\t\t//\t\tWhere to create the text along the y axis (CSS top).\n\t\t\t\t// align: String\n\t\t\t\t//\t\tHow to align the text.  Can be \"left\", \"right\", \"center\".\n\t\t\t\t// text: String\n\t\t\t\t//\t\tThe text to render.\n\t\t\t\t// font: String\n\t\t\t\t//\t\tThe font definition, a la CSS \"font\".\n\t\t\t\t// fontColor: String|dojo.Color\n\t\t\t\t//\t\tThe color of the resultant text.\n\t\t\t\t// labelWidth: Number?\n\t\t\t\t//\t\tThe maximum width of the resultant DOM node.\n\t\t\t\t// returns: DOMNode\n\t\t\t\t//\t\tThe resultant DOMNode (a \"div\" element).\n\n\t\t\t\t// setup the text node\n\t\t\t\tvar p = win.doc.createElement(\"div\"), s = p.style, boxWidth;\n\t\t\t\t// bidi support, if this function exists the module was loaded \n\t\t\t\tif(chart.getTextDir){\n\t\t\t\t\tp.dir = chart.getTextDir(text);\n\t\t\t\t}\n\t\t\t\tclearNode(s);\n\t\t\t\ts.font = font;\n\t\t\t\tp.innerHTML = String(text).replace(/\\s/g, \"&nbsp;\");\n\t\t\t\ts.color = fontColor;\n\t\t\t\t// measure the size\n\t\t\t\ts.position = \"absolute\";\n\t\t\t\ts.left = \"-10000px\";\n\t\t\t\twin.body().appendChild(p);\n\t\t\t\tvar size = g.normalizedLength(g.splitFontString(font).size);\n\n\t\t\t\t// do we need to calculate the label width?\n\t\t\t\tif(!labelWidth){\n\t\t\t\t\tboxWidth = getBoxWidth(p);\n\t\t\t\t}\n\t\t\t\t// when the textDir is rtl, but the UI ltr needs\n\t\t\t\t// to recalculate the starting point\n\t\t\t\tif(p.dir == \"rtl\"){\n\t\t\t\t\tx += labelWidth ? labelWidth : boxWidth;\n\t\t\t\t}\n\n\t\t\t\t// new settings for the text node\n\t\t\t\twin.body().removeChild(p);\n\n\t\t\t\ts.position = \"relative\";\n\t\t\t\tif(labelWidth){\n\t\t\t\t\ts.width = labelWidth + \"px\";\n\t\t\t\t\t// s.border = \"1px dotted grey\";\n\t\t\t\t\tswitch(align){\n\t\t\t\t\t\tcase \"middle\":\n\t\t\t\t\t\t\ts.textAlign = \"center\";\n\t\t\t\t\t\t\ts.left = (x - labelWidth / 2) + \"px\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\ts.textAlign = \"right\";\n\t\t\t\t\t\t\ts.left = (x - labelWidth) + \"px\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\ts.left = x + \"px\";\n\t\t\t\t\t\t\ts.textAlign = \"left\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tswitch(align){\n\t\t\t\t\t\tcase \"middle\":\n\t\t\t\t\t\t\ts.left = Math.floor(x - boxWidth / 2) + \"px\";\n\t\t\t\t\t\t\t// s.left = Math.floor(x - p.offsetWidth / 2) + \"px\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\ts.left = Math.floor(x - boxWidth) + \"px\";\n\t\t\t\t\t\t\t// s.left = Math.floor(x - p.offsetWidth) + \"px\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//case \"start\":\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\ts.left = Math.floor(x) + \"px\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts.top = Math.floor(y - size) + \"px\";\n\t\t\t\ts.whiteSpace = \"nowrap\";\t// hack for WebKit\n\t\t\t\t// setup the wrapper node\n\t\t\t\tvar wrap = win.doc.createElement(\"div\"), w = wrap.style;\n\t\t\t\tclearNode(w);\n\t\t\t\tw.width = \"0px\";\n\t\t\t\tw.height = \"0px\";\n\t\t\t\t// insert nodes\n\t\t\t\twrap.appendChild(p);\n\t\t\t\tchart.node.insertBefore(wrap, chart.node.firstChild);\n\t\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\t\tchart.htmlElementsRegistry.push([wrap, x, y, align, text, font, fontColor]);\n\t\t\t\t}\n\t\t\t\treturn wrap;\t//\tDOMNode\n\t\t\t}\n\t\t}\n\t});\n});\n","define([\"dojox/main\", \"dojo/_base/declare\", \"dojo/_base/lang\", \"dojo/dom-style\", \"dojo/_base/array\", \"dojo/sniff\",\n\t\"dojo/dom\",\"dojo/dom-construct\",\n\t\"dojox/gfx\", \"dojox/gfx/_gfxBidiSupport\", \"../axis2d/common\", \"dojox/string/BidiEngine\",\n\t\"dojox/lang/functional\",\"dojo/dom-attr\",\"./_bidiutils\"],\n\tfunction(dojox, declare, lang, domStyle, arr, has, dom, domConstruct, g, gBidi, da, BidiEngine, df, domAttr,utils){\n\t// module:\n\t//\t\tdojox/charting/bidi/Chart\t\t\t\t\t\t\t\n\tvar bidiEngine = new BidiEngine();\n\tvar dc = lang.getObject(\"charting\", true, dojox);\n\tfunction validateTextDir(textDir){\n\t\treturn /^(ltr|rtl|auto)$/.test(textDir) ? textDir : null;\n\t};\n\t\n\treturn declare(null, {\n\t\t// textDir: String\n\t\t//\t\tBi-directional support,\tthe main variable which is responsible for the direction of the text.\n\t\t//\t\tThe text direction can be different than the GUI direction by using this parameter.\n\t\t//\t\tAllowed values:\n\t\t//\n\t\t//\t\t1. \"ltr\"\n\t\t//\t\t2. \"rtl\"\n\t\t//\t\t3. \"auto\" - contextual the direction of a text defined by first strong letter.\n\t\t//\n\t\t//\t\tBy default is as the page direction.\n\t\ttextDir:\"\",\n\t\t\n\t\t// dir: String\n\t\t//\t\tMirroring support,\tthe main variable which is responsible for the direction of the chart.\n\t\t//\n\t\t//\t\tAllowed values:\n\t\t//\t\t1. \"ltr\"\n\t\t//\t\t2. \"rtl\"\n\t\t//\n\t\t//\t\tBy default is ltr.\n\t\tdir: \"\",\n\t\tisMirrored: false,\n\t\t\n\t\tgetTextDir: function(text){\n\t\t\t// summary:\n\t\t\t//\t\tReturn direction of the text. \n\t\t\t// description:\n\t\t\t//\t\tIf textDir is ltr or rtl returns the value.\n\t\t\t//\t\tIf it's auto, calls to another function that responsible \n\t\t\t//\t\tfor checking the value, and defining the direction.\t\t\t\n\t\t\t// text:\n\t\t\t//\t\tUsed in case textDir is \"auto\", this case the direction is according to the first\n\t\t\t//\t\tstrong (directionally - which direction is strong defined) letter.\n\t\t\t// tags:\n\t\t\t//\t\tprotected.\n\t\t\tvar textDir = this.textDir == \"auto\" ? bidiEngine.checkContextual(text) : this.textDir;\n\t\t\t// providing default value\n\t\t\tif(!textDir){\n\t\t\t\ttextDir = domStyle.get(this.node, \"direction\");\n\t\t\t}\n\t\t\treturn textDir;\n\t\t},\n\n\t\tpostscript: function(node,args){\n\t\t\t// summary:\n\t\t\t//\t\tKicks off chart instantiation.\n\t\t\t// description:\n\t\t\t//\t\tUsed for setting the textDir of the chart. \n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\n\t\t\t// validate textDir\n\t\t\tvar textDir = args ? (args[\"textDir\"] ? validateTextDir(args[\"textDir\"]) : \"\") : \"\";\n\t\t\t// if textDir wasn't defined or was defined wrong, apply default value\n\t\t\ttextDir = textDir ? textDir : domStyle.get(this.node, \"direction\");\n\t\t\tthis.textDir = textDir;\n\n\t\t\tthis.surface.textDir = textDir;\n\t\t\t\n\t\t\t// two data structures, used for storing data for further enablement to change\n\t\t\t// textDir dynamically\n\t\t\tthis.htmlElementsRegistry = [];\n\t\t\tthis.truncatedLabelsRegistry = [];\n\t\t\t// chart mirroring starts\n\t\t\tvar chartDir = \"ltr\";\n\t\t\tif(domAttr.has(node, \"direction\")){\n\t\t\t\tchartDir = domAttr.get(node, \"direction\");\n\t\t\t}\n\t\t\tthis.setDir(args ? (args.dir ? args.dir: chartDir) : chartDir);\n\t\t\t// chart mirroring ends\n\t\t},\n\n\t\tsetTextDir: function(newTextDir, obj){\n\t\t\t// summary:\n\t\t\t//\t\tSetter for the textDir attribute.\n\t\t\t// description:\n\t\t\t//\t\tAllows dynamically set the textDir, goes over all the text-children and  \n\t\t\t//\t\tupdates their base text direction.\n\t\t\t// tags:\n\t\t\t//\t\tpublic\n\t\t\n\t\t\tif(newTextDir == this.textDir){\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif(validateTextDir(newTextDir) != null){\n\t\t\t\tthis.textDir = newTextDir;\n\t\t\t\t\n\t\t\t\t// set automatically all the gfx objects that were created by this surface\n\t\t\t\t// (groups, text objects)\n\t\t\t\tthis.surface.setTextDir(newTextDir);\n\t\t\t\n\t\t\t\t// truncated labels that were created with gfx creator need to recalculate dir\n\t\t\t\t// for case like: \"111111A\" (A stands for bidi character) and the truncation\n\t\t\t\t// is \"111...\" If the textDir is auto, the display should be: \"...111\" but in gfx\n\t\t\t\t// case we will get \"111...\". Because this.surface.setTextDir will calculate the dir of truncated\n\t\t\t\t// label, which value is \"111...\" but th real is \"111111A\".\n\t\t\t\t// each time we created a gfx truncated label we stored it in the truncatedLabelsRegistry, so update now \n\t\t\t\t// the registry.\n\t\t\t\tif(this.truncatedLabelsRegistry && newTextDir == \"auto\"){\n\t\t\t\t\tarr.forEach(this.truncatedLabelsRegistry, function(elem){\n\t\t\t\t\t\tvar tDir = this.getTextDir(elem[\"label\"]);\n\t\t\t\t\t\tif(elem[\"element\"].textDir != tDir){\n\t\t\t\t\t\t\telem[\"element\"].setShape({textDir: tDir});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// re-render axes with html labels. for recalculation of the labels\n\t\t\t\t// positions etc.\n\t\t\t\t// create array of keys for all the axis in chart \n\t\t\t\tvar axesKeyArr = df.keys(this.axes);\n\t\t\t\tif(axesKeyArr.length > 0){\n\t\t\t\t\t// iterate over the axes, and for each that have html labels render it.\n\t\t\t\t\tarr.forEach(axesKeyArr, function(key, index, arr){\n\t\t\t\t\t\t// get the axis \n\t\t\t\t\t\tvar axis = this.axes[key];\n\t\t\t\t\t\t// if the axis has html labels \n\t\t\t\t\t\tif(axis.htmlElements[0]){\n\t\t\t\t\t\t\taxis.dirty = true;\n\t\t\t\t\t\t\taxis.render(this.dim, this.offsets);\n\t\t\t\t\t\t}\n\t\t\t\t\t},this);\n\t\t\t\t\t\n\t\t\t\t\t// recreate title\n\t\t\t\t\tif(this.title){\n\t\t\t\t\t\tthis._renderTitle(this.dim, this.offsets);\n\t\t\t\t\t}\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t// case of pies, spiders etc.\n\t\t\t\t\tarr.forEach(this.htmlElementsRegistry, function(elem, index, arr){\n\t\t\t\t\t\tvar tDir = newTextDir == \"auto\" ? this.getTextDir(elem[4]) : newTextDir;\n\t\t\t\t\t\tif(elem[0].children[0] && elem[0].children[0].dir != tDir){\n\t\t\t\t\t\t\tdomConstruct.destroy(elem[0].children[0]);\n\t\t\t\t\t\t\telem[0].children[0] = da.createText[\"html\"]\n\t\t\t\t\t\t\t\t\t(this, this.surface, elem[1], elem[2], elem[3], elem[4], elem[5], elem[6]).children[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t},this);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t\n\t\tsetDir : function(dir){\n\t\t\t// summary:\n\t\t\t//\t\tSetter for the dir attribute.\n\t\t\t// description:\n\t\t\t//\t\tAllows dynamically set the dri attribute, which will used to\n\t\t\t//\t\tupdates the chart rendering direction.\n\t\t\t//\tdir : the desired chart direction [rtl: for right to left ,ltr: for left to right]\n \n\t\t\tif(dir == \"rtl\" || dir == \"ltr\"){\n\t\t\t\tif(this.dir != dir){\n\t\t\t\t\tthis.isMirrored = true;\n\t\t\t\t\tthis.dirty = true;\n\t\t\t\t}\n\t\t\t\tthis.dir = dir;\n\t\t\t}\t\t\t\n\t\t\treturn this; \n\t\t},\n\t\t\n\t\tisRightToLeft: function(){\n\t\t\t// summary:\n\t\t\t//\t\tcheck the direction of the chart.\n\t\t\t// description:\n\t\t\t//\t\tcheck the dir attribute to determine the rendering direction\n\t\t\t//\t\tof the chart.\n\t\t\treturn this.dir == \"rtl\";\n        },\n        \n\t\tapplyMirroring: function(plot, dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tapply the mirroring operation to the current chart plots.\n\t\t\t//\n\t\t\tutils.reverseMatrix(plot, dim, offsets, this.dir == \"rtl\");\n\t\t\t//force the direction of the node to be ltr to properly render the axes and the plots labels.\n\t\t\tdomStyle.set(this.node, \"direction\", \"ltr\");\n\t\t\treturn this;\n\t\t},\n\n\t\tformatTruncatedLabel: function(element, label, labelType){\n\t\t\tthis.truncateBidi(element, label, labelType);\n\t\t},\n\n\t\ttruncateBidi: function(elem, label, labelType){\n\t\t\t// summary:\n\t\t\t//\t\tEnables bidi support for truncated labels.\n\t\t\t// description:\n\t\t\t//\t\tCan be two types of labels: html or gfx.\n\t\t\t//\n\t\t\t//\t\t####gfx labels:\n\t\t\t//\n\t\t\t//\t\tNeed to be stored in registry to be used when the textDir will be set dynamically.\n\t\t\t//\t\tAdditional work on truncated labels is needed for case as 111111A (A stands for \"bidi\" character rtl directioned).\n\t\t\t//\t\tlet's say in this case the truncation is \"111...\" If the textDir is auto, the display should be: \"...111\" but in gfx\n\t\t\t//\t\tcase we will get \"111...\". Because this.surface.setTextDir will calculate the dir of truncated\n\t\t\t//\t\tlabel, which value is \"111...\" but th real is \"111111A\".\n\t\t\t//\t\teach time we created a gfx truncated label we store it in the truncatedLabelsRegistry.\n\t\t\t//\n\t\t\t//\t\t####html labels:\n\t\t\t//\n\t\t\t//\t\tno need for repository (stored in another place). Here we only need to update the current dir according to textDir.\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t\n\t\t\tif(labelType == \"gfx\"){\n\t\t\t\t// store truncated gfx labels in the data structure.\n\t\t\t\tthis.truncatedLabelsRegistry.push({element: elem, label: label});\n\t\t\t\tif(this.textDir == \"auto\"){\n\t\t\t\t\telem.setShape({textDir: this.getTextDir(label)});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(labelType == \"html\" && this.textDir == \"auto\"){\n\t\t\t\telem.children[0].dir = this.getTextDir(label);\n\t\t\t}\n\t\t},\n\t\t\n\t\trender: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tthis.isMirrored = false;\n\t\t\treturn this;\n\t\t},\n\t\t\n\t\t_resetLeftBottom: function(axis){\n\t\t\tif(axis.vertical && this.isMirrored){\n\t\t\t\taxis.opt.leftBottom = !axis.opt.leftBottom;\n\t\t\t}\n\t\t}\t\t\n\t});\n});\n\n","  define ({\n\t\treverseMatrix: function(plot, dim, offsets, rtl){\n\t\t\t//summary:\n\t\t\t//\treverse the underlying matrix of the plots to perform the mirroring behavior.\n\t\t\t//plot:\n\t\t\t//  the plot which has the matrix to be reversed.\n\t\t\t//dim:\n\t\t\t//  the dimension (width,height) of the chart.\n\t\t\t//offsets:\n\t\t\t//  the offsets of the chart\n\t\t\tvar shift = offsets.l - offsets.r;\n\t\t\tvar xx = rtl? -1 : 1;\n\t\t\tvar xy = 0;\n\t\t\tvar yx = 0;\n\t\t\tvar yy = 1;\n\t\t\tvar dx = rtl? dim.width + shift : 0;\n\t\t\tvar dy = 0;\n\t\t\tif(plot.matrix){\n\t\t\t\txx = xx * Math.abs(plot.matrix.xx);\n\t\t\t\tyy = plot.matrix.yy;\n\t\t\t\txy = plot.matrix.xy;\n\t\t\t\tyx = plot.matrix.yx;\n\t\t\t\tdy = plot.matrix.xy;\n\t\t\t}\n\t\t\tplot.setTransform({xx: xx, xy: xy, yx: yx, yy: yy, dx: dx, dy: dy});\n \t}\n });\n","define([\"dojo/_base/declare\", \"dojo/dom-style\"],\n\tfunction(declare, domStyle){\n\t// module:\n\t//\t\tdojox/charting/bidi/axis2d/Default\t\t\t\n\treturn declare(null, {\n\t\tlabelTooltip: function(elem, chart, label, truncatedLabel, font, elemType){\n\t\t\t// additional preprocessing of the labels, needed for rtl base text direction in LTR\n\t\t\t// GUI, or for ltr base text direction for RTL GUI.\n\n\t\t\tvar isChartDirectionRtl = (domStyle.get(chart.node,\"direction\") == \"rtl\");\n\t\t\tvar isBaseTextDirRtl = (chart.getTextDir(label) == \"rtl\");\n\n\t\t\tif(isBaseTextDirRtl && !isChartDirectionRtl){\n\t\t\t\tlabel = \"<span dir='rtl'>\" + label +\"</span>\";\n\t\t\t}\n\t\t\tif(!isBaseTextDirRtl && isChartDirectionRtl){\n\t\t\t\tlabel = \"<span dir='ltr'>\" + label +\"</span>\";\n\t\t\t}\n\t\t\tthis.inherited(arguments);\n\t\t},\n\t\t\n\t\t_isRtl: function(){\n\t\t\treturn this.chart.isRightToLeft();\n\t\t}\n\t});\n});\n\n","define([\"dojo/_base/declare\", \"./Default\"], \n  function(declare, Default){\n\n\treturn declare(\"dojox.charting.plot2d.Areas\", Default, {\n\t\t// summary:\n\t\t//\t\tRepresents an area chart.  See dojox/charting/plot2d/Default for details.\n\t\tconstructor: function(){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for an Area chart.\n\t\t\tthis.opt.lines = true;\n\t\t\tthis.opt.areas = true;\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/has\", \"./CartesianBase\", \"./_PlotEvents\", \"./common\",\n\t\"dojox/gfx/fx\", \"dojox/lang/utils\", \"dojox/lang/functional\"],\n\tfunction(lang, arr, declare, has, CartesianBase, _PlotEvents, dc, fx, du, df){\n\n\t/*=====\n\tdeclare(\"dojox.charting.plot2d.__BarCtorArgs\", dojox.charting.plot2d.__DefaultCtorArgs, {\n\t\t// summary:\n\t\t//\t\tAdditional keyword arguments for bar charts.\n\n\t\t// minBarSize: Number?\n\t\t//\t\tThe minimum size for a bar in pixels.  Default is 1.\n\t\tminBarSize: 1,\n\n\t\t// maxBarSize: Number?\n\t\t//\t\tThe maximum size for a bar in pixels.  Default is 1.\n\t\tmaxBarSize: 1,\n\n\t\t// stroke: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke to use for any series on the plot.\n\t\tstroke:\t\t{},\n\n\t\t// outline: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke used to outline any series on the plot.\n\t\toutline:\t{},\n\n\t\t// shadow: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke to use to draw any shadows for a series on a plot.\n\t\tshadow:\t\t{},\n\n\t\t// fill: dojox.gfx.Fill?\n\t\t//\t\tAny fill to be used for elements on the plot.\n\t\tfill:\t\t{},\n\n\t\t// filter: dojox.gfx.Filter?\n\t \t//\t\tAn SVG filter to be used for elements on the plot. gfx SVG renderer must be used and dojox/gfx/svgext must\n\t \t//\t\tbe required for this to work.\n\t \tfilter:\t\t{},\n\n\t\t// styleFunc: Function?\n\t\t//\t\tA function that returns a styling object for the a given data item.\n\t\tstyleFunc:\tnull,\n\n\t\t// font: String?\n\t\t//\t\tA font definition to be used for labels and other text-based elements on the plot.\n\t\tfont:\t\t\"\",\n\n\t\t// fontColor: String|dojo.Color?\n\t\t//\t\tThe color to be used for any text-based elements on the plot.\n\t\tfontColor:\t\"\",\n\n\t\t// enableCache: Boolean?\n\t\t//\t\tWhether the bars rect are cached from one rendering to another. This improves the rendering performance of\n\t\t//\t\tsuccessive rendering but penalize the first rendering.  Default false.\n\t\tenableCache: false\n\t});\n\t=====*/\n\n\tvar alwaysFalse = function(){ return false; }\n\n\treturn declare(\"dojox.charting.plot2d.Bars\", [CartesianBase, _PlotEvents], {\n\t\t// summary:\n\t\t//\t\tThe plot object representing a bar chart (horizontal bars).\n\t\tdefaultParams: {\n\t\t\tgap:\t0,\t\t// gap between columns in pixels\n\t\t\tanimate: null,   // animate bars into place\n\t\t\tenableCache: false\n\t\t},\n\t\toptionalParams: {\n\t\t\tminBarSize:\t1,\t// minimal bar width in pixels\n\t\t\tmaxBarSize:\t1,\t// maximal bar width in pixels\n\t\t\t// theme component\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfilter:\t    {},\n\t\t\tstyleFunc:  null,\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\"\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for a bar chart.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__BarCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define the plot.\n\t\t\tthis.opt = lang.clone(lang.mixin(this.opt, this.defaultParams));\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.animate = this.opt.animate;\n\t\t\tthis.renderingOptions = { \"shape-rendering\": \"crispEdges\" };\n\t\t},\n\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = dc.collectSimpleStats(this.series, lang.hitch(this, \"isNullValue\")), t;\n\t\t\tstats.hmin -= 0.5;\n\t\t\tstats.hmax += 0.5;\n\t\t\tt = stats.hmin, stats.hmin = stats.vmin, stats.vmin = t;\n\t\t\tt = stats.hmax, stats.hmax = stats.vmax, stats.vmax = t;\n\t\t\treturn stats; // Object\n\t\t},\n\n\t\tcreateRect: function(run, creator, params){\n\t\t\tvar rect;\n\t\t\tif(this.opt.enableCache && run._rectFreePool.length > 0){\n\t\t\t\trect = run._rectFreePool.pop();\n\t\t\t\trect.setShape(params);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(rect);\n\t\t\t}else{\n\t\t\t\trect = creator.createRect(params);\n\t\t\t}\n\t\t\tif(this.opt.enableCache){\n\t\t\t\trun._rectUsePool.push(rect);\n\t\t\t}\n\t\t\treturn rect;\n\t\t},\n\n\t\tcreateLabel: function(group, value, bbox, theme){\n\t\t\tif(this.opt.labels && this.opt.labelStyle == \"outside\"){\n\t\t\t\tvar y = bbox.y + bbox.height / 2;\n\t\t\t\tvar x = bbox.x + bbox.width + this.opt.labelOffset;\n\t\t\t\tthis.renderLabel(group, x, y, this._getLabel(isNaN(value.y)?value:value.y), theme, \"start\");\n          \t}else{\n\t\t\t\tthis.inherited(arguments);\n\t\t\t}\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRun the calculations for any axes for this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object in the form of { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b}.\n\t\t\t// returns: dojox/charting/plot2d/Bars\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets); // dojox/charting/plot2d/Bars\n\t\t\t}\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tthis.resetEvents();\n\t\t\tvar s;\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\ts = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\t\t\tvar t = this.chart.theme,\n\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler),\n\t\t\t\tbaseline = Math.max(this._hScaler.bounds.lower,\n\t\t\t\t\tthis._hAxis ? this._hAxis.naturalBaseline : 0),\n\t\t\t\tbaselineWidth = ht(baseline),\n\t\t\t\tevents = this.events();\n\t\t\tvar bar = this.getBarProperties();\n\n\t\t\tvar actualLength = this.series.length;\n\t\t\tarr.forEach(this.series, function(serie){if(serie.hidden){actualLength--;}});\n\t\t\tvar z = actualLength;\n\n\t\t\t// Collect and calculate all values\n\t\t\tvar extractedValues = this.extractValues(this._vScaler);\n\t\t\textractedValues = this.rearrangeValues(extractedValues, ht, baselineWidth);\n\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tif(this.opt.enableCache){\n\t\t\t\t\trun._rectFreePool = (run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);\n\t\t\t\t\trun._rectUsePool = [];\n\t\t\t\t}\n\t\t\t\tvar theme = t.next(\"bar\", [this.opt, run]);\n\t\t\t\tif(run.hidden){\n\t\t\t\t\trun.dyn.fill = theme.series.fill;\n\t\t\t\t\trun.dyn.stroke = theme.series.stroke;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tz--;\n\n\t\t\t\tvar\teventSeries = new Array(run.data.length);\n\t\t\t\ts = run.group;\n\t\t\t\tvar indexed = arr.some(run.data, function(item){\n\t\t\t\t\treturn typeof item == \"number\" || (item && !item.hasOwnProperty(\"x\"));\n\t\t\t\t});\n\t\t\t\t// on indexed charts we can easily just interate from the first visible to the last visible\n\t\t\t\t// data point to save time\n\t\t\t\tvar min = indexed?Math.max(0, Math.floor(this._vScaler.bounds.from - 1)):0;\n\t\t\t\tvar max = indexed?Math.min(run.data.length, Math.ceil(this._vScaler.bounds.to)):run.data.length;\n\t\t\t\tfor(var j = min; j < max; ++j){\n\t\t\t\t\tvar value = run.data[j];\n\t\t\t\t\tif(!this.isNullValue(value)){\n\t\t\t\t\t\tvar val = this.getValue(value, j, i, indexed),\n\t\t\t\t\t\t\tw = extractedValues[i][j], finalTheme, sshape;\n\t\t\t\t\t\tif(this.opt.styleFunc || typeof value != \"number\"){\n\t\t\t\t\t\t\tvar tMixin = typeof value != \"number\" ? [value] : [];\n\t\t\t\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\t\t\t\ttMixin.push(this.opt.styleFunc(value));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfinalTheme = t.addMixin(theme, \"bar\", tMixin, true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfinalTheme = t.post(theme, \"bar\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(w && bar.height >= 1){\n\t\t\t\t\t\t\tvar rect = {\n\t\t\t\t\t\t\t\tx: offsets.l + baselineWidth + Math.min(w, 0),\n\t\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(val.x + 1.5) + bar.gap + bar.thickness * (actualLength - z - 1),\n\t\t\t\t\t\t\t\twidth: Math.abs(w),\n\t\t\t\t\t\t\t\theight: bar.height\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif(finalTheme.series.shadow){\n\t\t\t\t\t\t\t\tvar srect = lang.clone(rect);\n\t\t\t\t\t\t\t\tsrect.x += finalTheme.series.shadow.dx;\n\t\t\t\t\t\t\t\tsrect.y += finalTheme.series.shadow.dy;\n\t\t\t\t\t\t\t\tsshape = this.createRect(run, s, srect).setFill(finalTheme.series.shadow.color).setStroke(finalTheme.series.shadow);\n\t\t\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\t\t\tthis._animateBar(sshape, offsets.l + baselineWidth, -w);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar specialFill = this._plotFill(finalTheme.series.fill, dim, offsets);\n\t\t\t\t\t\t\tspecialFill = this._shapeFill(specialFill, rect);\n\t\t\t\t\t\t\tvar shape = this.createRect(run, s, rect).setFill(specialFill).setStroke(finalTheme.series.stroke);\n\t\t\t\t\t\t\tif(shape.setFilter && finalTheme.series.filter){\n\t\t\t\t\t\t\t\tshape.setFilter(finalTheme.series.filter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trun.dyn.fill   = shape.getFill();\n\t\t\t\t\t\t\trun.dyn.stroke = shape.getStroke();\n\t\t\t\t\t\t\tif(events){\n\t\t\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\t\t\telement: \"bar\",\n\t\t\t\t\t\t\t\t\tindex:   j,\n\t\t\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\t\t\tshape:   shape,\n\t\t\t\t\t\t\t\t\tshadow:\t sshape,\n\t\t\t\t\t\t\t\t\tcx:      val.y,\n\t\t\t\t\t\t\t\t\tcy:      val.x + 1.5,\n\t\t\t\t\t\t\t\t\tx:\t     indexed?j:run.data[j].x,\n\t\t\t\t\t\t\t\t\ty:\t \t indexed?run.data[j]:run.data[j].y\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\t\teventSeries[j] = o;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!isNaN(val.py) && val.py > baseline){\n\t\t\t\t\t\t\t\trect.x += ht(val.py);\n\t\t\t\t\t\t\t\trect.width -= ht(val.py);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.createLabel(s, value, rect, finalTheme);\n\t\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\t\tthis._animateBar(shape, offsets.l + baselineWidth, -Math.abs(w));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._eventSeries[run.name] = eventSeries;\n\t\t\t\trun.dirty = false;\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Bars\n\t\t},\n\t\tgetValue: function(value, j, seriesIndex, indexed){\n\t\t\tvar y, x;\n\t\t\tif(indexed){\n\t\t\t\tif(typeof value == \"number\"){\n\t\t\t\t\ty = value;\n\t\t\t\t}else{\n\t\t\t\t\ty = value.y;\n\t\t\t\t}\n\t\t\t\tx = j;\n\t\t\t}else{\n\t\t\t\ty = value.y;\n\t\t\t\tx = value.x -1;\n\t\t\t}\n\t\t\treturn {y:y, x:x};\n\t\t},\n\t\textractValues: function(scaler){\n\t\t\tvar extracted = [];\n\t\t\tfor(var i = this.series.length - 1; i >= 0; --i){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// on indexed charts we can easily just interate from the first visible to the last visible\n\t\t\t\t// data point to save time\n\t\t\t\tvar indexed = arr.some(run.data, function(item){\n\t\t\t\t\t\treturn typeof item == \"number\" || (item && !item.hasOwnProperty(\"x\"));\n\t\t\t\t\t}),\n\t\t\t\t\tmin = indexed ? Math.max(0, Math.floor(scaler.bounds.from - 1)) : 0,\n\t\t\t\t\tmax = indexed ? Math.min(run.data.length, Math.ceil(scaler.bounds.to)) : run.data.length,\n\t\t\t\t\textractedSet = extracted[i] = [];\n\t\t\t\textractedSet.min = min;\n\t\t\t\textractedSet.max = max;\n\t\t\t\tfor(var j = min; j < max; ++j){\n\t\t\t\t\tvar value = run.data[j];\n\t\t\t\t\textractedSet[j] = this.isNullValue(value) ? 0 :\n\t\t\t\t\t\t(typeof value == \"number\" ? value : value.y);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn extracted;\n\t\t},\n\t\trearrangeValues: function(values, transform, baseline){\n\t\t\t// transform to pixels\n\t\t\tfor(var i = 0, n = values.length; i < n; ++i){\n\t\t\t\tvar extractedSet = values[i];\n\t\t\t\tif(extractedSet){\n\t\t\t\t\tfor(var j = extractedSet.min, k = extractedSet.max; j < k; ++j){\n\t\t\t\t\t\tvar value = extractedSet[j];\n\t\t\t\t\t\textractedSet[j] = this.isNullValue(value) ? 0 : transform(value) - baseline;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn values;\n\t\t},\n\t\tisNullValue: function(value){\n\t\t\tif(value === null || typeof value == \"undefined\"){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar h = this._hAxis ? this._hAxis.isNullValue : alwaysFalse,\n\t\t\t\tv = this._vAxis ? this._vAxis.isNullValue : alwaysFalse;\n\t\t\tif(typeof value == \"number\"){\n\t\t\t\treturn v(0.5) || h(value);\n\t\t\t}\n\t\t\treturn v(isNaN(value.x) ? 0.5 : value.x + 0.5) || value.y === null || h(value.y);\n\t\t},\n\t\tgetBarProperties: function(){\n\t\t\tvar f = dc.calculateBarSize(this._vScaler.bounds.scale, this.opt);\n\t\t\treturn {gap: f.gap, height: f.size, thickness: 0};\n\t\t},\n\t\t_animateBar: function(shape, hoffset, hsize){\n\t\t\tif(hsize==0){\n\t\t\t\thsize = 1;\n\t\t\t}\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: [hoffset - (hoffset/hsize), 0], end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: [1/hsize, 1], end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"dojo/_base/array\", \"dojo/_base/lang\", \"dojox/gfx\",\n\t\t\"../Element\", \"./common\", \"../axis2d/common\", \"dojo/has\"],\n\tfunction(declare, arr, lang, gfx, Element, common, ac, has){\n/*=====\ndojox.charting.plot2d.__PlotCtorArgs = {\n\t// summary:\n\t//\t\tThe base keyword arguments object for plot constructors.\n\t//\t\tNote that the parameters for this may change based on the\n\t//\t\tspecific plot type (see the corresponding plot type for\n\t//\t\tdetails).\n\n\t// tooltipFunc: Function?\n\t//\t\tAn optional function used to compute tooltip text for this plot. It takes precedence over\n\t//\t\tthe default function when available.\n\t//\t|\t\tfunction tooltipFunc(o) { return \"text\"; }\n\t//\t\t`o`is the event object that triggered the tooltip.\n\ttooltipFunc: null\n};\n=====*/\n\tvar Base = declare(\"dojox.charting.plot2d.Base\", Element, {\n\t\t// summary:\n\t\t//\t\tBase class for all plot types.\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate a base plot for charting.\n\t\t\t// chart: dojox/chart/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__PlotCtorArgs?\n\t\t\t//\t\tAn optional arguments object to help define the plot.\n\t\n\t\t\t// TODO does not work in markup\n\t\t\tif(kwArgs && kwArgs.tooltipFunc){\n\t\t\t\tthis.tooltipFunc = kwArgs.tooltipFunc;\n\t\t\t}\n\t\t},\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear out all of the information tied to this plot.\n\t\t\t// returns: dojox.charting.plot2d.Base\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.series = [];\n\t\t\tthis.dirty = true;\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Base\n\t\t},\n\t\tsetAxis: function(axis){\n\t\t\t// summary:\n\t\t\t//\t\tSet an axis for this plot.\n\t\t\t// axis: dojox.charting.axis2d.Base\n\t\t\t//\t\tThe axis to set.\n\t\t\t// returns: dojox/charting/plot2d/Base\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Base\n\t\t},\n\t\tassignAxes: function(axes){\n\t\t\t// summary:\n\t\t\t//\t\tFrom an array of axes pick the ones that correspond to this plot and\n\t\t\t//\t\tassign them to the plot using setAxis method.\n\t\t\t// axes: Array\n\t\t\t//\t\tAn array of dojox/charting/axis2d/Base\n\t\t\t// tags:\n\t\t\t//\t\tprotected\n\t\t\tarr.forEach(this.axes, function(axis){\n\t\t\t\tif(this[axis]){\n\t\t\t\t\tthis.setAxis(axes[this[axis]]);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\taddSeries: function(run){\n\t\t\t// summary:\n\t\t\t//\t\tAdd a data series to this plot.\n\t\t\t// run: dojox.charting.Series\n\t\t\t//\t\tThe series to be added.\n\t\t\t// returns: dojox/charting/plot2d/Base\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.series.push(run);\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Base\n\t\t},\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\treturn common.collectSimpleStats(this.series, lang.hitch(this, \"isNullValue\"));\n\t\t},\n\t\tcalculateAxes: function(dim){\n\t\t\t// summary:\n\t\t\t//\t\tStub function for running the axis calculations (deprecated).\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height }\n\t\t\t// returns: dojox/charting/plot2d/Base\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.initializeScalers(dim, this.getSeriesStats());\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Base\n\t\t},\n\t\tinitializeScalers: function(){\n\t\t\t// summary:\n\t\t\t//\t\tDoes nothing.\n\t\t\treturn this;\n\t\t},\n\t\tisDataDirty: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns whether or not any of this plot's data series need to be rendered.\n\t\t\t// returns: Boolean\n\t\t\t//\t\tFlag indicating if any of this plot's series are invalid and need rendering.\n\t\t\treturn arr.some(this.series, function(item){ return item.dirty; });\t//\tBoolean\n\t\t},\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRender the plot on the chart.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height }.\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\t// returns: dojox/charting/plot2d/Base\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Base\n\t\t},\n\t\trenderLabel: function(group, x, y, label, theme, block, align){\n\t\t\tvar elem = ac.createText[this.opt.htmlLabels && gfx.renderer != \"vml\" ? \"html\" : \"gfx\"]\n\t\t\t\t(this.chart, group, x, y, align?align:\"middle\", label, theme.series.font, theme.series.fontColor);\n\t\t\t// if the label is inside we need to avoid catching events on it this would prevent action on\n\t\t\t// chart elements\n\t\t\tif(block){\n\t\t\t\t// TODO this won't work in IE neither in VML nor in HTML\n\t\t\t\t// a solution would be to catch the event on the label and refire it to the element\n\t\t\t\t// possibly using elementFromPoint or having it already available\n\t\t\t\tif(this.opt.htmlLabels && gfx.renderer != \"vml\"){\n\t\t\t\t\t// we have HTML labels, let's use pointEvents on the HTML node\n\t\t\t\t\telem.style.pointerEvents = \"none\";\n\t\t\t\t}else if(elem.rawNode){\n\t\t\t\t\t// we have SVG labels, let's use pointerEvents on the SVG or VML node\n\t\t\t\t\telem.rawNode.style.pointerEvents = \"none\";\n\t\t\t\t}\n\t\t\t\t// else we have Canvas, we need do nothing, as Canvas text won't catch events\n\t\t\t}\n\t\t\tif(this.opt.htmlLabels && gfx.renderer != \"vml\"){\n\t\t\t\tthis.htmlElements.push(elem);\n\t\t\t}\n\n\t\t\treturn elem;\n\t\t},\n\t\tgetRequiredColors: function(){\n\t\t\t// summary:\n\t\t\t//\t\tGet how many data series we have, so we know how many colors to use.\n\t\t\t// returns: Number\n\t\t\t//\t\tThe number of colors needed.\n\t\t\treturn this.series.length;\t//\tNumber\n\t\t},\n\t\t_getLabel: function(number){\n\t\t\treturn common.getLabel(number, this.opt.fixed, this.opt.precision);\n\t\t}\n\t});\n\tif(has(\"dojo-bidi\")){\n\t\tBase.extend({\n\t\t\t_checkOrientation: function(group, dim, offsets){\n\t\t\t\tthis.chart.applyMirroring(this.group, dim, offsets);\n\t\t\t}\t\t\n\t\t});\n\t}\n\treturn Base;\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/array\", \"dojo/has\",\n\t\t\"./CartesianBase\", \"./_PlotEvents\", \"./common\", \"dojox/lang/functional\",\n\t\t\"dojox/lang/utils\", \"dojox/gfx/fx\"],\n\tfunction(lang, declare, arr, has, CartesianBase, _PlotEvents, dc, df, du, fx){\n\n\treturn declare(\"dojox.charting.plot2d.Bubble\", [CartesianBase, _PlotEvents], {\n\t\t// summary:\n\t\t//\t\tA plot representing bubbles.  Note that data for Bubbles requires 3 parameters,\n\t\t//\t\tin the form of:  { x, y, size }, where size determines the size of the bubble.\n\t\tdefaultParams: {\n\t\t\tanimate: null   // animate bars into place\n\t\t},\n\t\toptionalParams: {\n\t\t\t// theme component\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfilter:     {},\n\t\t\tstyleFunc:\tnull,\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\",\n\t\t\tlabelFunc: null\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate a plot of bubbles.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__DefaultCtorArgs?\n\t\t\t//\t\tOptional keyword arguments object to help define plot parameters.\n\t\t\tthis.opt = lang.clone(lang.mixin(this.opt, this.defaultParams));\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tif(!this.opt.labelFunc){\n\t\t\t\tthis.opt.labelFunc = function(value, fixed, precision){\n\t\t\t\t\treturn this._getLabel(value.size, fixed, precision);\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.animate = this.opt.animate;\n\t\t},\n\n\t\t//\toverride the render so that we are plotting only circles.\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRun the calculations for any axes for this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object in the form of { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b}.\n\t\t\t// returns: dojox/charting/plot2d/Bubble\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tvar s;\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\ts = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\n\t\t\tvar t = this.chart.theme,\n\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler),\n\t\t\t\tevents = this.events();\n\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tif(!run.data.length){\n\t\t\t\t\trun.dirty = false;\n\t\t\t\t\tt.skip();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(typeof run.data[0] == \"number\"){\n\t\t\t\t\tconsole.warn(\"dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; \", run);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar theme = t.next(\"circle\", [this.opt, run]),\n\t\t\t\t\tpoints = arr.map(run.data, function(v){\n\t\t\t\t\t\treturn v ? {\n\t\t\t\t\t\t\tx: ht(v.x) + offsets.l,\n\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(v.y),\n\t\t\t\t\t\t\tradius: this._vScaler.bounds.scale * (v.size / 2)\n\t\t\t\t\t\t} : null;\n\t\t\t\t\t}, this);\n\n\t\t\t\tif(run.hidden){\n\t\t\t\t\trun.dyn.fill = theme.series.fill;\n\t\t\t\t\trun.dyn.stroke =  theme.series.stroke;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ts = run.group;\n\n\t\t\t\tvar frontCircles = null, outlineCircles = null, shadowCircles = null, styleFunc = this.opt.styleFunc;\n\n\t\t\t\tvar getFinalTheme = function(item){\n\t\t\t\t\tif(styleFunc){\n\t\t\t\t\t\treturn t.addMixin(theme, \"circle\", [item, styleFunc(item)], true);\n\t\t\t\t\t}\n\t\t\t\t\treturn t.addMixin(theme, \"circle\", item, true);\n\t\t\t\t};\n\n\t\t\t\t// make shadows if needed\n\t\t\t\tif(theme.series.shadow){\n\t\t\t\t\tshadowCircles = arr.map(points, function(item, i){\n\t\t\t\t\t\tif(!this.isNullValue(item)){\n\t\t\t\t\t\t\tvar finalTheme = getFinalTheme(run.data[i]),\n\t\t\t\t\t\t\t\tshadow = finalTheme.series.shadow;\n\t\t\t\t\t\t\tvar shape = s.createCircle({\n\t\t\t\t\t\t\t\tcx: item.x + shadow.dx, cy: item.y + shadow.dy, r: item.radius\n\t\t\t\t\t\t\t}).setStroke(shadow).setFill(shadow.color);\n\t\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\t\tthis._animateBubble(shape, dim.height - offsets.b, item.radius);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn shape;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}, this);\n\t\t\t\t\tif(shadowCircles.length){\n\t\t\t\t\t\trun.dyn.shadow = shadowCircles[shadowCircles.length - 1].getStroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// make outlines if needed\n\t\t\t\tif(theme.series.outline){\n\t\t\t\t\toutlineCircles = arr.map(points, function(item, i){\n\t\t\t\t\t\tif(!this.isNullValue(item)){\n\t\t\t\t\t\t\tvar finalTheme = getFinalTheme(run.data[i]),\n\t\t\t\t\t\t\t\toutline = dc.makeStroke(finalTheme.series.outline);\n\t\t\t\t\t\t\toutline.width = 2 * outline.width + (theme.series.stroke && theme.series.stroke.width || 0);\n\t\t\t\t\t\t\tvar shape = s.createCircle({\n\t\t\t\t\t\t\t\tcx: item.x, cy: item.y, r: item.radius\n\t\t\t\t\t\t\t}).setStroke(outline);\n\t\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\t\tthis._animateBubble(shape, dim.height - offsets.b, item.radius);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn shape;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}, this);\n\t\t\t\t\tif(outlineCircles.length){\n\t\t\t\t\t\trun.dyn.outline = outlineCircles[outlineCircles.length - 1].getStroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//\trun through the data and add the circles.\n\t\t\t\tfrontCircles = arr.map(points, function(item, i){\n\t\t\t\t\tif(!this.isNullValue(item)){\n\t\t\t\t\t\tvar finalTheme = getFinalTheme(run.data[i]),\n\t\t\t\t\t\t\trect = {\n\t\t\t\t\t\t\t\tx: item.x - item.radius,\n\t\t\t\t\t\t\t\ty: item.y - item.radius,\n\t\t\t\t\t\t\t\twidth:  2 * item.radius,\n\t\t\t\t\t\t\t\theight: 2 * item.radius\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tvar specialFill = this._plotFill(finalTheme.series.fill, dim, offsets);\n\t\t\t\t\t\tspecialFill = this._shapeFill(specialFill, rect);\n\t\t\t\t\t\tvar shape = s.createCircle({\n\t\t\t\t\t\t\tcx: item.x, cy: item.y, r: item.radius\n\t\t\t\t\t\t}).setFill(specialFill).setStroke(finalTheme.series.stroke);\n\t\t\t\t\t\tif(shape.setFilter && finalTheme.series.filter){\n\t\t\t\t\t\t\tshape.setFilter(finalTheme.series.filter);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\tthis._animateBubble(shape, dim.height - offsets.b, item.radius);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.createLabel(s, run.data[i], rect, finalTheme);\n\t\t\t\t\t\treturn shape;\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}, this);\n\t\t\t\tif(frontCircles.length){\n\t\t\t\t\trun.dyn.fill   = frontCircles[frontCircles.length - 1].getFill();\n\t\t\t\t\trun.dyn.stroke = frontCircles[frontCircles.length - 1].getStroke();\n\t\t\t\t}\n\n\t\t\t\tif(events){\n\t\t\t\t\tvar eventSeries = new Array(frontCircles.length);\n\t\t\t\t\tarr.forEach(frontCircles, function(s, i){\n\t\t\t\t\t\tif(s !== null){\n\t\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\t\telement: \"circle\",\n\t\t\t\t\t\t\t\tindex:   i,\n\t\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\t\tshape:   s,\n\t\t\t\t\t\t\t\toutline: outlineCircles && outlineCircles[i] || null,\n\t\t\t\t\t\t\t\tshadow:  shadowCircles && shadowCircles[i] || null,\n\t\t\t\t\t\t\t\tx:       run.data[i].x,\n\t\t\t\t\t\t\t\ty:       run.data[i].y,\n\t\t\t\t\t\t\t\tr:       run.data[i].size / 2,\n\t\t\t\t\t\t\t\tcx:      points[i].x,\n\t\t\t\t\t\t\t\tcy:      points[i].y,\n\t\t\t\t\t\t\t\tcr:      points[i].radius\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\teventSeries[i] = o;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis._eventSeries[run.name] = eventSeries;\n\t\t\t\t}else{\n\t\t\t\t\tdelete this._eventSeries[run.name];\n\t\t\t\t}\n\n\t\t\t\trun.dirty = false;\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Bubble\n\t\t},\n\t\t_animateBubble: function(shape, offset, size){\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: [0, offset], end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: [0, 1/size], end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/array\", \"dojo/has\", \"./CartesianBase\", \"./_PlotEvents\", \"./common\",\n\t\t\"dojox/lang/functional\", \"dojox/lang/utils\", \"dojox/gfx/fx\"],\n\tfunction(lang, declare, arr, has, CartesianBase, _PlotEvents, dc, df, du, fx){\n\n\t//\tCandlesticks are based on the Bars plot type; we expect the following passed\n\t//\tas values in a series:\n\t//\t{ x?, open, close, high, low, mid? }\n\t//\tif x is not provided, the array index is used.\n\t//\tfailing to provide the OHLC values will throw an error.\n\treturn declare(\"dojox.charting.plot2d.Candlesticks\", [CartesianBase, _PlotEvents], {\n\t\t// summary:\n\t\t//\t\tA plot that represents typical candlesticks (financial reporting, primarily).\n\t\t//\t\tUnlike most charts, the Candlestick expects data points to be represented by\n\t\t//\t\tan object of the form { x?, open, close, high, low, mid? }, where both\n\t\t//\t\tx and mid are optional parameters.  If x is not provided, the index of the\n\t\t//\t\tdata array is used.\n\t\tdefaultParams: {\n\t\t\tgap:\t2,\t\t// gap between columns in pixels\n\t\t\tanimate: null   // animate bars into place\n\t\t},\n\t\toptionalParams: {\n\t\t\tminBarSize:\t1,\t// minimal candle width in pixels\n\t\t\tmaxBarSize:\t1,\t// maximal candle width in pixels\n\t\t\t// theme component\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\"\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for a candlestick chart.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__BarCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define the plot.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.animate = this.opt.animate;\n\t\t},\n\n\t\tcollectStats: function(series){\n\t\t\t// summary:\n\t\t\t//\t\tCollect all statistics for drawing this chart.  Since the common\n\t\t\t//\t\tfunctionality only assumes x and y, Candlesticks must create it's own\n\t\t\t//\t\tstats (since data has no y value, but open/close/high/low instead).\n\t\t\t// series: dojox.charting.Series[]\n\t\t\t//\t\tThe data series array to be drawn on this plot.\n\t\t\t// returns: Object\n\t\t\t//\t\tReturns an object in the form of { hmin, hmax, vmin, vmax }.\n\n\t\t\t//\twe have to roll our own, since we need to use all four passed\n\t\t\t//\tvalues to figure out our stats, and common only assumes x and y.\n\t\t\tvar stats = lang.delegate(dc.defaultStats);\n\t\t\tfor(var i=0; i<series.length; i++){\n\t\t\t\tvar run = series[i];\n\t\t\t\tif(!run.data.length){ continue; }\n\t\t\t\tvar old_vmin = stats.vmin, old_vmax = stats.vmax;\n\t\t\t\tif(!(\"ymin\" in run) || !(\"ymax\" in run)){\n\t\t\t\t\tarr.forEach(run.data, function(val, idx){\n\t\t\t\t\t\tif(!this.isNullValue(val)){\n\t\t\t\t\t\t\tvar x = val.x || idx + 1;\n\t\t\t\t\t\t\tstats.hmin = Math.min(stats.hmin, x);\n\t\t\t\t\t\t\tstats.hmax = Math.max(stats.hmax, x);\n\t\t\t\t\t\t\tstats.vmin = Math.min(stats.vmin, val.open, val.close, val.high, val.low);\n\t\t\t\t\t\t\tstats.vmax = Math.max(stats.vmax, val.open, val.close, val.high, val.low);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t\tif(\"ymin\" in run){ stats.vmin = Math.min(old_vmin, run.ymin); }\n\t\t\t\tif(\"ymax\" in run){ stats.vmax = Math.max(old_vmax, run.ymax); }\n\t\t\t}\n\t\t\treturn stats;\t//\tObject\n\t\t},\n\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = this.collectStats(this.series);\n\t\t\tstats.hmin -= 0.5;\n\t\t\tstats.hmax += 0.5;\n\t\t\treturn stats; // Object\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRun the calculations for any axes for this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object in the form of { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b}.\n\t\t\t// returns: dojox/charting/plot2d/Candlesticks\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tvar s;\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\ts = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\t\t\tvar t = this.chart.theme, f, gap, width,\n\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler),\n\t\t\t\tevents = this.events();\n\t\t\tf = dc.calculateBarSize(this._hScaler.bounds.scale, this.opt);\n\t\t\tgap = f.gap;\n\t\t\twidth = f.size;\n\t\t\tfor(var i = this.series.length - 1; i >= 0; --i){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tvar theme = t.next(\"candlestick\", [this.opt, run]),\n\t\t\t\t\teventSeries = new Array(run.data.length);\n\n\t\t\t\tif(run.hidden){\n\t\t\t\t\trun.dyn.fill = theme.series.fill;\n\t\t\t\t\trun.dyn.stroke =  theme.series.stroke;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ts = run.group;\n\n\t\t\t\tfor(var j = 0; j < run.data.length; ++j){\n\t\t\t\t\tvar v = run.data[j];\n\t\t\t\t\tif(!this.isNullValue(v)){\n\t\t\t\t\t\tvar finalTheme = t.addMixin(theme, \"candlestick\", v, true);\n\n\t\t\t\t\t\t//\tcalculate the points we need for OHLC\n\t\t\t\t\t\tvar x = ht(v.x || (j+0.5)) + offsets.l + gap,\n\t\t\t\t\t\t\ty = dim.height - offsets.b,\n\t\t\t\t\t\t\topen = vt(v.open),\n\t\t\t\t\t\t\tclose = vt(v.close),\n\t\t\t\t\t\t\thigh = vt(v.high),\n\t\t\t\t\t\t\tlow = vt(v.low);\n\t\t\t\t\t\tif(\"mid\" in v){\n\t\t\t\t\t\t\tvar mid = vt(v.mid);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(low > high){\n\t\t\t\t\t\t\tvar tmp = high;\n\t\t\t\t\t\t\thigh = low;\n\t\t\t\t\t\t\tlow = tmp;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(width >= 1){\n\t\t\t\t\t\t\t//\tdraw the line and rect, set up as a group and pass that to the events.\n\t\t\t\t\t\t\tvar doFill = open > close;\n\t\t\t\t\t\t\tvar line = { x1: width/2, x2: width/2, y1: y - high, y2: y - low },\n\t\t\t\t\t\t\t\trect = {\n\t\t\t\t\t\t\t\t\tx: 0, y: y-Math.max(open, close),\n\t\t\t\t\t\t\t\t\twidth: width, height: Math.max(doFill ? open-close : close-open, 1)\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvar shape = s.createGroup();\n\t\t\t\t\t\t\tshape.setTransform({dx: x, dy: 0 });\n\t\t\t\t\t\t\tvar inner = shape.createGroup();\n\t\t\t\t\t\t\tinner.createLine(line).setStroke(finalTheme.series.stroke);\n\t\t\t\t\t\t\tinner.createRect(rect).setStroke(finalTheme.series.stroke).\n\t\t\t\t\t\t\t\tsetFill(doFill ? finalTheme.series.fill : \"white\");\n\t\t\t\t\t\t\tif(\"mid\" in v){\n\t\t\t\t\t\t\t\t//\tadd the mid line.\n\t\t\t\t\t\t\t\tinner.createLine({\n\t\t\t\t\t\t\t\t\t\tx1: (finalTheme.series.stroke ? finalTheme.series.stroke.width || 1 : 1), x2: width - (finalTheme.series.stroke ? finalTheme.series.stroke.width || 1 : 1),\n\t\t\t\t\t\t\t\t\ty1: y - mid, y2: y - mid\n\t\t\t\t\t\t\t\t}).setStroke(doFill ? \"white\" : finalTheme.series.stroke);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// TODO: double check this.\n\t\t\t\t\t\t\trun.dyn.fill   = finalTheme.series.fill;\n\t\t\t\t\t\t\trun.dyn.stroke = finalTheme.series.stroke;\n\t\t\t\t\t\t\tif(events){\n\t\t\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\t\t\telement: \"candlestick\",\n\t\t\t\t\t\t\t\t\tindex:   j,\n\t\t\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\t\t\tshape:   inner,\n\t\t\t\t\t\t\t\t\tx:       x,\n\t\t\t\t\t\t\t\t\ty:       y-Math.max(open, close),\n\t\t\t\t\t\t\t\t\tcx:\t\t width/2,\n\t\t\t\t\t\t\t\t\tcy:\t\t (y-Math.max(open, close)) + (Math.max(doFill ? open-close : close-open, 1)/2),\n\t\t\t\t\t\t\t\t\twidth:\t width,\n\t\t\t\t\t\t\t\t\theight:  Math.max(doFill ? open-close : close-open, 1),\n\t\t\t\t\t\t\t\t\tdata:\t v\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\t\teventSeries[j] = o;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\tthis._animateCandlesticks(shape, y - low, high - low);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._eventSeries[run.name] = eventSeries;\n\t\t\t\trun.dirty = false;\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Candlesticks\n\t\t},\n\n\t\ttooltipFunc: function(o){\n\t\t\treturn '<table cellpadding=\"1\" cellspacing=\"0\" border=\"0\" style=\"font-size:0.9em;\">'\n\t\t\t\t\t\t+ '<tr><td>Open:</td><td align=\"right\"><strong>' + o.data.open + '</strong></td></tr>'\n\t\t\t\t\t\t+ '<tr><td>High:</td><td align=\"right\"><strong>' + o.data.high + '</strong></td></tr>'\n\t\t\t\t\t\t+ '<tr><td>Low:</td><td align=\"right\"><strong>' + o.data.low + '</strong></td></tr>'\n\t\t\t\t\t\t+ '<tr><td>Close:</td><td align=\"right\"><strong>' + o.data.close + '</strong></td></tr>'\n\t\t\t\t\t\t+ (o.data.mid !== undefined ? '<tr><td>Mid:</td><td align=\"right\"><strong>' + o.data.mid + '</strong></td></tr>' : '')\n\t\t\t\t\t\t+ '</table>';\n\t\t},\n\n\t\t_animateCandlesticks: function(shape, voffset, vsize){\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: [0, voffset - (voffset/vsize)], end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: [1, 1/vsize], end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/connect\", \"dojo/has\",\n\t\t\"./Base\", \"../scaler/primitive\", \"dojox/gfx\", \"dojox/gfx/fx\", \"dojox/lang/utils\"], \n\tfunction(lang, declare, hub, has, Base, primitive, gfx, fx, du){\n\t/*=====\n\tdeclare(\"dojox.charting.plot2d.__CartesianCtorArgs\", dojox.charting.plot2d.__PlotCtorArgs, {\n\t\t// hAxis: String?\n\t\t//\t\tThe horizontal axis name.\n\t\thAxis: \"x\",\n\n\t\t// vAxis: String?\n\t\t//\t\tThe vertical axis name\n\t\tvAxis: \"y\",\n\n\t\t// labels: Boolean?\n\t\t//\t\tFor plots that support labels, whether or not to draw labels for each data item.  Default is false.\n\t\tlabels:\t\t\tfalse,\n\n\t\t// fixed: Boolean?\n        //\t\tWhether a fixed precision must be applied to data values for display. Default is true.\n\t\tfixed:\t\t\ttrue,\n\n\t\t// precision: Number?\n        //\t\tThe precision at which to round data values for display. Default is 0.\n\t\tprecision:\t\t1,\n\n\t\t// labelOffset: Number?\n\t\t//\t\tThe amount in pixels by which to offset labels when using \"outside\" labelStyle.  Default is 10.\n\t\tlabelOffset:\t10,\n\n\t\t// labelStyle: String?\n\t\t//\t\tOptions as to where to draw labels.  This must be either \"inside\" or \"outside\". By default\n\t\t//      the labels are drawn \"inside\" the shape representing the data point (a column rectangle for a Columns plot\n\t\t//      or a marker for a Line plot for instance). When \"outside\" is used the labels are drawn above the data point shape.\n\t\tlabelStyle:\t\t\"inside\",\n\n\t\t// htmlLabels: Boolean?\n\t\t//\t\tWhether or not to use HTML to render slice labels. Default is true.\n\t\thtmlLabels:\t\ttrue,\n\n\t\t// omitLabels: Boolean?\n\t\t//\t\tWhether labels that do not fit in an item render are omitted or not.\tThis applies only when labelStyle\n\t\t//\t\tis \"inside\".\tDefault is false.\n\t\tomitLabels: true,\n\n\t\t// labelFunc: Function?\n\t\t//\t\tAn optional function to use to compute label text. It takes precedence over\n\t\t//\t\tthe default text when available.\n\t\t//\t|\t\tfunction labelFunc(value, fixed, precision) {}\n\t\t//\t\t`value` is the data value to display\n\t\t//\t\t`fixed` is true if fixed precision must be applied.\n\t\t//\t\t`precision` is the requested precision to be applied.\n\t\tlabelFunc: null\n\t});\n\t=====*/\n\n\tvar alwaysFalse = function(){ return false; }\n\n\treturn declare(\"dojox.charting.plot2d.CartesianBase\", Base, {\n\t\tbaseParams: {\n\t\t\thAxis: \t\t\t\"x\",\n\t\t\tvAxis: \t\t\t\"y\",\n\t\t\tlabels:\t\t\tfalse,\n\t\t\tlabelOffset:    10,\n\t\t\tfixed:\t\t\ttrue,\n\t\t\tprecision:\t\t1,\n\t\t\tlabelStyle:\t\t\"inside\",\n\t\t\thtmlLabels:\t\ttrue,\t\t// use HTML to draw labels\n\t\t\tomitLabels:\t\ttrue,\n\t\t\tlabelFunc:\t\tnull\n        },\n\n\t\t// summary:\n\t\t//\t\tBase class for cartesian plot types.\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate a cartesian base plot for cartesian charts.\n\t\t\t// chart: dojox/chart/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__CartesianCtorArgs?\n\t\t\t//\t\tAn optional arguments object to help define the plot.\n\t\t\tthis.axes = [\"hAxis\", \"vAxis\"];\n\t\t\tthis.zoom = null;\n\t\t\tthis.zoomQueue = [];\t// zooming action task queue\n\t\t\tthis.lastWindow = {vscale: 1, hscale: 1, xoffset: 0, yoffset: 0};\n\t\t\tthis.hAxis = (kwArgs && kwArgs.hAxis) || \"x\";\n\t\t\tthis.vAxis = (kwArgs && kwArgs.vAxis) || \"y\";\n\t\t\tthis.series = [];\n\t\t\tthis.opt = lang.clone(this.baseParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t},\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear out all of the information tied to this plot.\n\t\t\t// returns: dojox/charting/plot2d/CartesianBase\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.inherited(arguments);\n\t\t\tthis._hAxis = null;\n\t\t\tthis._vAxis = null;\n\t\t\treturn this;\t//\tdojox/charting/plot2d/CartesianBase\n\t\t},\n\t\tcleanGroup: function(creator, noClip){\n\t\t\tthis.inherited(arguments);\n\t\t\tif(!noClip && this.chart._nativeClip){\n\t\t\t\tvar offsets = this.chart.offsets, dim = this.chart.dim;\n\t\t\t\tvar w = Math.max(0, dim.width  - offsets.l - offsets.r),\n\t\t\t\t\th = Math.max(0, dim.height - offsets.t - offsets.b);\n\t\t\t\tthis.group.setClip({ x: offsets.l, y: offsets.t, width: w, height: h });\n\t\t\t\tif(!this._clippedGroup){\n\t\t\t\t\tthis._clippedGroup = this.group.createGroup();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpurgeGroup: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tthis._clippedGroup = null;\n\t\t},\n\t\tgetGroup: function(){\n\t\t\treturn this._clippedGroup || this.group;\n\t\t},\n\t\tsetAxis: function(axis){\n\t\t\t// summary:\n\t\t\t//\t\tSet an axis for this plot.\n\t\t\t// axis: dojox/charting/axis2d/Base\n\t\t\t//\t\tThe axis to set.\n\t\t\t// returns: dojox/charting/plot2d/CartesianBase\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(axis){\n\t\t\t\tthis[axis.vertical ? \"_vAxis\" : \"_hAxis\"] = axis;\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/plot2d/CartesianBase\n\t\t},\n\t\ttoPage: function(coord){\n\t\t\t// summary:\n\t\t\t//\t\tCompute page coordinates from plot axis data coordinates.\n\t\t\t// coord: Object?\n\t\t\t//\t\tThe coordinates in plot axis data coordinate space. For cartesian charts that is of the following form:\n\t\t\t//\t\t`{ hAxisName: 50, vAxisName: 200 }`\n\t\t\t//\t\tIf not provided return the transform method instead of the result of the transformation.\n\t\t\t// returns: Object\n\t\t\t//\t\tThe resulting page pixel coordinates. That is of the following form:\n\t\t\t//\t\t`{ x: 50, y: 200 }`\n\t\t\tvar ah = this._hAxis, av = this._vAxis,\n\t\t\t\tsh = ah.getScaler(), sv = av.getScaler(),\n\t\t\t\tth = sh.scaler.getTransformerFromModel(sh),\n\t\t\t\ttv = sv.scaler.getTransformerFromModel(sv),\n\t\t\t\tc = this.chart.getCoords(),\n\t\t\t\to = this.chart.offsets, dim = this.chart.dim;\n\t\t\tvar t = function(coord){\n\t\t\t\tvar r = {};\n\t\t\t\tr.x = th(coord[ah.name]) + c.x + o.l;\n\t\t\t\tr.y = c.y + dim.height - o.b - tv(coord[av.name]);\n\t\t\t\treturn r;\n\t\t\t};\n\t\t\t// if no coord return the function so that we can capture the current transforms\n\t\t\t// and reuse them later on\n\t\t\treturn coord?t(coord):t; // Object\n\t\t},\n\t\ttoData: function(coord){\n\t\t\t// summary:\n\t\t\t//\t\tCompute plot axis data coordinates from page coordinates.\n\t\t\t// coord: Object\n\t\t\t//\t\tThe pixel coordinate in page coordinate space. That is of the following form:\n\t\t\t//\t\t`{ x: 50, y: 200 }`\n\t\t\t//\t\tIf not provided return the tranform method instead of the result of the transformation.\n\t\t\t// returns: Object\n\t\t\t//\t\tThe resulting plot axis data coordinates. For cartesian charts that is of the following form:\n\t\t\t//\t\t`{ hAxisName: 50, vAxisName: 200 }`\n\t\t\tvar ah = this._hAxis, av = this._vAxis,\n\t\t\t\tsh = ah.getScaler(), sv = av.getScaler(),\n\t\t\t\tth = sh.scaler.getTransformerFromPlot(sh),\n\t\t\t\ttv = sv.scaler.getTransformerFromPlot(sv),\n\t\t\t\tc = this.chart.getCoords(),\n\t\t\t\to = this.chart.offsets, dim = this.chart.dim;\n\t\t\tvar t = function(coord){\n\t\t\t\tvar r = {};\n\t\t\t\tr[ah.name] = th(coord.x - c.x - o.l);\n\t\t\t\tr[av.name] = tv(c.y + dim.height - coord.y  - o.b);\n\t\t\t\treturn r;\n\t\t\t};\n\t\t\t// if no coord return the function so that we can capture the current transforms\n\t\t\t// and reuse them later on\n\t\t\treturn coord?t(coord):t; // Object\n\t\t},\n\t\tisDirty: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns whether or not this plot needs to be rendered.\n\t\t\t// returns: Boolean\n\t\t\t//\t\tThe state of the plot.\n\t\t\treturn this.dirty || this._hAxis && this._hAxis.dirty || this._vAxis && this._vAxis.dirty;\t//\tBoolean\n\t\t},\n\t\tcreateLabel: function(group, value, bbox, theme){\n\t\t\tif(this.opt.labels){\n\t\t\t\tvar x, y, label = this.opt.labelFunc?this.opt.labelFunc.apply(this, [value, this.opt.fixed, this.opt.precision]):\n\t\t\t\t\tthis._getLabel(isNaN(value.y)?value:value.y);\n\t\t\t\tif(this.opt.labelStyle == \"inside\"){\n\t\t\t\t\tvar lbox = gfx._base._getTextBox(label, { font: theme.series.font } );\n\t\t\t\t\tx = bbox.x + bbox.width / 2;\n\t\t\t\t\ty = bbox.y + bbox.height / 2 + lbox.h / 4;\n\t\t\t\t\tif(lbox.w > bbox.width || lbox.h > bbox.height){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tx = bbox.x + bbox.width / 2;\n\t\t\t\t\ty = bbox.y - this.opt.labelOffset;\n\t\t\t\t}\n\t\t\t\tthis.renderLabel(group, x, y, label, theme, this.opt.labelStyle == \"inside\");\n\t\t\t}\n\t\t},\n\t\tperformZoom: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tCreate/alter any zooming windows on this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height }.\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\t// returns: dojox/charting/plot2d/CartesianBase\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\n\t\t\t// get current zooming various\n\t\t\tvar vs = this._vAxis.scale || 1,\n\t\t\t\ths = this._hAxis.scale || 1,\n\t\t\t\tvOffset = dim.height - offsets.b,\n\t\t\t\thBounds = this._hScaler.bounds,\n\t\t\t\txOffset = (hBounds.from - hBounds.lower) * hBounds.scale,\n\t\t\t\tvBounds = this._vScaler.bounds,\n\t\t\t\tyOffset = (vBounds.from - vBounds.lower) * vBounds.scale,\n\t\t\t\t// get incremental zooming various\n\t\t\t\trVScale = vs / this.lastWindow.vscale,\n\t\t\t\trHScale = hs / this.lastWindow.hscale,\n\t\t\t\trXOffset = (this.lastWindow.xoffset - xOffset)/\n\t\t\t\t\t((this.lastWindow.hscale == 1)? hs : this.lastWindow.hscale),\n\t\t\t\trYOffset = (yOffset - this.lastWindow.yoffset)/\n\t\t\t\t\t((this.lastWindow.vscale == 1)? vs : this.lastWindow.vscale),\n\n\t\t\t\tshape = this.getGroup(),\n\t\t\t\tanim = fx.animateTransform(lang.delegate({\n\t\t\t\t\tshape: shape,\n\t\t\t\t\tduration: 1200,\n\t\t\t\t\ttransform:[\n\t\t\t\t\t\t{name:\"translate\", start:[0, 0], end: [offsets.l * (1 - rHScale), vOffset * (1 - rVScale)]},\n\t\t\t\t\t\t{name:\"scale\", start:[1, 1], end: [rHScale, rVScale]},\n\t\t\t\t\t\t{name:\"original\"},\n\t\t\t\t\t\t{name:\"translate\", start: [0, 0], end: [rXOffset, rYOffset]}\n\t\t\t\t\t]}, this.zoom));\n\n\t\t\tlang.mixin(this.lastWindow, {vscale: vs, hscale: hs, xoffset: xOffset, yoffset: yOffset});\n\t\t\t//add anim to zooming action queue,\n\t\t\t//in order to avoid several zooming action happened at the same time\n\t\t\tthis.zoomQueue.push(anim);\n\t\t\t//perform each anim one by one in zoomQueue\n\t\t\thub.connect(anim, \"onEnd\", this, function(){\n\t\t\t\tthis.zoom = null;\n\t\t\t\tthis.zoomQueue.shift();\n\t\t\t\tif(this.zoomQueue.length > 0){\n\t\t\t\t\tthis.zoomQueue[0].play();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(this.zoomQueue.length == 1){\n\t\t\t\tthis.zoomQueue[0].play();\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/plot2d/CartesianBase\n\t\t},\n\t\tinitializeScalers: function(dim, stats){\n\t\t\t// summary:\n\t\t\t//\t\tInitializes scalers using attached axes.\n\t\t\t// dim: Object\n\t\t\t//\t\tSize of a plot area in pixels as {width, height}.\n\t\t\t// stats: Object\n\t\t\t//\t\tMin/max of data in both directions as {hmin, hmax, vmin, vmax}.\n\t\t\t// returns: dojox/charting/plot2d/CartesianBase\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this._hAxis){\n\t\t\t\tif(!this._hAxis.initialized()){\n\t\t\t\t\tthis._hAxis.calculate(stats.hmin, stats.hmax, dim.width);\n\t\t\t\t}\n\t\t\t\tthis._hScaler = this._hAxis.getScaler();\n\t\t\t}else{\n\t\t\t\tthis._hScaler = primitive.buildScaler(stats.hmin, stats.hmax, dim.width);\n\t\t\t}\n\t\t\tif(this._vAxis){\n\t\t\t\tif(!this._vAxis.initialized()){\n\t\t\t\t\tthis._vAxis.calculate(stats.vmin, stats.vmax, dim.height);\n\t\t\t\t}\n\t\t\t\tthis._vScaler = this._vAxis.getScaler();\n\t\t\t}else{\n\t\t\t\tthis._vScaler = primitive.buildScaler(stats.vmin, stats.vmax, dim.height);\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/plot2d/CartesianBase\n\t\t},\n\t\tisNullValue: function(value){\n\t\t\tif(value === null || typeof value == \"undefined\"){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar h = this._hAxis ? this._hAxis.isNullValue : alwaysFalse,\n\t\t\t\tv = this._vAxis ? this._vAxis.isNullValue : alwaysFalse;\n\t\t\tif(typeof value == \"number\"){\n\t\t\t\treturn h(1) || v(value);\n\t\t\t}\n\t\t\treturn h(isNaN(value.x) ? 1 : value.x) || value.y === null || v(value.y);\n\t\t}\t\t\n\t});\n});\n","define([\"dojo/_base/declare\", \"dojo/_base/array\", \"./Bars\", \"./common\"], \n\tfunction(declare, array, Bars, dc){\n\n\treturn declare(\"dojox.charting.plot2d.ClusteredBars\", Bars, {\n\t\t// summary:\n\t\t//\t\tA plot representing grouped or clustered bars (horizontal bars)\n\t\tgetBarProperties: function(){\n\t\t\tvar length = this.series.length;\n\t\t\tarray.forEach(this.series, function(serie){if(serie.hidden){length--;}});\n\t\t\tvar f = dc.calculateBarSize(this._vScaler.bounds.scale, this.opt, length);\n\t\t\treturn {gap: f.gap, height: f.size, thickness: f.size};\n\t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"dojo/_base/array\", \"./Columns\", \"./common\"], \n\tfunction(declare, array, Columns, dc){\n\n\treturn declare(\"dojox.charting.plot2d.ClusteredColumns\", Columns, {\n\t\t// summary:\n\t\t//\t\tA plot representing grouped or clustered columns (vertical bars)\n\t\tgetBarProperties: function(){\n\t\t\tvar length = this.series.length;\n\t\t\tarray.forEach(this.series, function(serie){if(serie.hidden){length--;}});\n\t\t\tvar f = dc.calculateBarSize(this._hScaler.bounds.scale, this.opt, length);\n\t\t\treturn {gap: f.gap, width: f.size, thickness: f.size, clusterSize: length};\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/has\", \"./CartesianBase\", \"./_PlotEvents\", \"./common\",\n\t\t\"dojox/lang/functional\", \"dojox/lang/utils\", \"dojox/gfx/fx\"],\n\tfunction(lang, arr, declare, has, CartesianBase, _PlotEvents, dc, df, du, fx){\n\n\tvar alwaysFalse = function(){ return false; };\n\n\treturn declare(\"dojox.charting.plot2d.Columns\", [CartesianBase, _PlotEvents], {\n\t\t// summary:\n\t\t//\t\tThe plot object representing a column chart (vertical bars).\n\t\tdefaultParams: {\n\t\t\tgap:\t0,\t\t// gap between columns in pixels\n\t\t\tanimate: null,  // animate bars into place\n\t\t\tenableCache: false\n\t\t},\n\t\toptionalParams: {\n\t\t\tminBarSize:\t1,\t// minimal column width in pixels\n\t\t\tmaxBarSize:\t1,\t// maximal column width in pixels\n\t\t\t// theme component\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfilter:     {},\n\t\t\tstyleFunc:  null,\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\"\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for a columns chart.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__BarCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define the plot.\n\t\t\tthis.opt = lang.clone(lang.mixin(this.opt, this.defaultParams));\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.animate = this.opt.animate;\n\t\t\tthis.renderingOptions = { \"shape-rendering\": \"crispEdges\" };\n\t\t},\n\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = dc.collectSimpleStats(this.series, lang.hitch(this, \"isNullValue\"));\n\t\t\tstats.hmin -= 0.5;\n\t\t\tstats.hmax += 0.5;\n\t\t\treturn stats; // Object\n\t\t},\n\n\t\tcreateRect: function(run, creator, params){\n\t\t\tvar rect;\n\t\t\tif(this.opt.enableCache && run._rectFreePool.length > 0){\n\t\t\t\trect = run._rectFreePool.pop();\n\t\t\t\trect.setShape(params);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(rect);\n\t\t\t}else{\n\t\t\t\trect = creator.createRect(params);\n\t\t\t}\n\t\t\tif(this.opt.enableCache){\n\t\t\t\trun._rectUsePool.push(rect);\n\t\t\t}\n\t\t\treturn rect;\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRun the calculations for any axes for this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object in the form of { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b}.\n\t\t\t// returns: dojox/charting/plot2d/Columns\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tvar s;\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\ts = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\t\t\tvar t = this.chart.theme,\n\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler),\n\t\t\t\tbaseline = Math.max(this._vScaler.bounds.lower,\n\t\t\t\t\tthis._vAxis ? this._vAxis.naturalBaseline : 0),\n\t\t\t\tbaselineHeight = vt(baseline),\n\t\t\t\tevents = this.events(),\n\t\t\t\tbar = this.getBarProperties();\n\n\t\t\tvar z = 0; // the non-hidden series index\n\n\t\t\t// Collect and calculate  all values\n\t\t\tvar extractedValues = this.extractValues(this._hScaler);\n\t\t\textractedValues = this.rearrangeValues(extractedValues, vt, baselineHeight);\n\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tif(this.opt.enableCache){\n\t\t\t\t\trun._rectFreePool = (run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);\n\t\t\t\t\trun._rectUsePool = [];\n\t\t\t\t}\n\t\t\t\tvar theme = t.next(\"column\", [this.opt, run]),\n\t\t\t\t\teventSeries = new Array(run.data.length);\n\n\t\t\t\tif(run.hidden){\n\t\t\t\t\trun.dyn.fill = theme.series.fill;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ts = run.group;\n\t\t\t\tvar indexed = arr.some(run.data, function(item){\n\t\t\t\t\treturn typeof item == \"number\" || (item && !item.hasOwnProperty(\"x\"));\n\t\t\t\t});\n\t\t\t\t// on indexed charts we can easily just interate from the first visible to the last visible\n\t\t\t\t// data point to save time\n\t\t\t\tvar min = indexed?Math.max(0, Math.floor(this._hScaler.bounds.from - 1)):0;\n\t\t\t\tvar max = indexed?Math.min(run.data.length, Math.ceil(this._hScaler.bounds.to)):run.data.length;\n\t\t\t\tfor(var j = min; j < max; ++j){\n\t\t\t\t\tvar value = run.data[j];\n\t\t\t\t\tif(!this.isNullValue(value)){\n\t\t\t\t\t\tvar val = this.getValue(value, j, i, indexed),\n\t\t\t\t\t\t\tvv = vt(val.y),\n\t\t\t\t\t\t\th = extractedValues[i][j],\n\t\t\t\t\t\t\tfinalTheme,\n\t\t\t\t\t\t\tsshape;\n\n\t\t\t\t\t\tif(this.opt.styleFunc || typeof value != \"number\"){\n\t\t\t\t\t\t\tvar tMixin = typeof value != \"number\" ? [value] : [];\n\t\t\t\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\t\t\t\ttMixin.push(this.opt.styleFunc(value));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfinalTheme = t.addMixin(theme, \"column\", tMixin, true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfinalTheme = t.post(theme, \"column\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(bar.width >= 1){\n\t\t\t\t\t\t\tvar rect = {\n\t\t\t\t\t\t\t\tx: offsets.l + ht(val.x + 0.5) + bar.gap + bar.thickness * z,\n\t\t\t\t\t\t\t\ty: dim.height - offsets.b - baselineHeight - Math.max(h, 0),\n\t\t\t\t\t\t\t\twidth: bar.width,\n\t\t\t\t\t\t\t\theight: Math.abs(h)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif(finalTheme.series.shadow){\n\t\t\t\t\t\t\t\tvar srect = lang.clone(rect);\n\t\t\t\t\t\t\t\tsrect.x += finalTheme.series.shadow.dx;\n\t\t\t\t\t\t\t\tsrect.y += finalTheme.series.shadow.dy;\n\t\t\t\t\t\t\t\tsshape = this.createRect(run, s, srect).setFill(finalTheme.series.shadow.color).setStroke(finalTheme.series.shadow);\n\t\t\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\t\t\tthis._animateColumn(sshape, dim.height - offsets.b + baselineHeight, h);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar specialFill = this._plotFill(finalTheme.series.fill, dim, offsets);\n\t\t\t\t\t\t\tspecialFill = this._shapeFill(specialFill, rect);\n\t\t\t\t\t\t\tvar shape = this.createRect(run, s, rect).setFill(specialFill).setStroke(finalTheme.series.stroke);\n\t\t\t\t\t\t\tthis.overrideShape(shape, {index: j, value: val});\n\t\t\t\t\t\t\tif(shape.setFilter && finalTheme.series.filter){\n\t\t\t\t\t\t\t\tshape.setFilter(finalTheme.series.filter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trun.dyn.fill   = shape.getFill();\n\t\t\t\t\t\t\trun.dyn.stroke = shape.getStroke();\n\t\t\t\t\t\t\tif(events){\n\t\t\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\t\t\telement: \"column\",\n\t\t\t\t\t\t\t\t\tindex:   j,\n\t\t\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\t\t\tshape:   shape,\n\t\t\t\t\t\t\t\t\tshadow:  sshape,\n\t\t\t\t\t\t\t\t\tcx:      val.x + 0.5,\n\t\t\t\t\t\t\t\t\tcy:      val.y,\n\t\t\t\t\t\t\t\t\tx:\t     indexed?j:run.data[j].x,\n\t\t\t\t\t\t\t\t\ty:\t \t indexed?run.data[j]:run.data[j].y\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\t\teventSeries[j] = o;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// if val.py is here, this means we are stacking and we need to subtract previous\n\t\t\t\t\t\t\t// value to get the high in which we will lay out the label\n\t\t\t\t\t\t\tif(!isNaN(val.py) && val.py > baseline){\n\t\t\t\t\t\t\t\trect.height = h - vt(val.py);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.createLabel(s, value, rect, finalTheme);\n\t\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\t\tthis._animateColumn(shape, dim.height - offsets.b - baselineHeight, h);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._eventSeries[run.name] = eventSeries;\n\t\t\t\trun.dirty = false;\n\t\t\t\tz++;\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Columns\n\t\t},\n\t\tgetValue: function(value, j, seriesIndex, indexed){\n\t\t\tvar y,x;\n\t\t\tif(indexed){\n\t\t\t\tif(typeof value == \"number\"){\n\t\t\t\t\ty = value;\n\t\t\t\t}else{\n\t\t\t\t\ty = value.y;\n\t\t\t\t}\n\t\t\t\tx = j;\n\t\t\t}else{\n\t\t\t\ty = value.y;\n\t\t\t\tx = value.x - 1;\n\t\t\t}\n\t\t\treturn { x: x, y: y };\n\t\t},\n\t\textractValues: function(scaler){\n\t\t\tvar extracted = [];\n\t\t\tfor(var i = this.series.length - 1; i >= 0; --i){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// on indexed charts we can easily just interate from the first visible to the last visible\n\t\t\t\t// data point to save time\n\t\t\t\tvar indexed = arr.some(run.data, function(item){\n\t\t\t\t\t\treturn typeof item == \"number\" || (item && !item.hasOwnProperty(\"x\"));\n\t\t\t\t\t}),\n\t\t\t\t\tmin = indexed ? Math.max(0, Math.floor(scaler.bounds.from - 1)) : 0,\n\t\t\t\t\tmax = indexed ? Math.min(run.data.length, Math.ceil(scaler.bounds.to)) : run.data.length,\n\t\t\t\t\textractedSet = extracted[i] = [];\n\t\t\t\textractedSet.min = min;\n\t\t\t\textractedSet.max = max;\n\t\t\t\tfor(var j = min; j < max; ++j){\n\t\t\t\t\tvar value = run.data[j];\n\t\t\t\t\textractedSet[j] = this.isNullValue(value) ? 0 :\n\t\t\t\t\t\t(typeof value == \"number\" ? value : value.y);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn extracted;\n\t\t},\n\t\trearrangeValues: function(values, transform, baseline){\n\t\t\t// transform to pixels\n\t\t\tfor(var i = 0, n = values.length; i < n; ++i){\n\t\t\t\tvar extractedSet = values[i];\n\t\t\t\tif(extractedSet){\n\t\t\t\t\tfor(var j = extractedSet.min, k = extractedSet.max; j < k; ++j){\n\t\t\t\t\t\tvar value = extractedSet[j];\n\t\t\t\t\t\textractedSet[j] = this.isNullValue(value) ? 0 : transform(value) - baseline;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn values;\n\t\t},\n\n\t\tisNullValue: function(value){\n\t\t\tif(value === null || typeof value == \"undefined\"){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar h = this._hAxis ? this._hAxis.isNullValue : alwaysFalse,\n\t\t\t\tv = this._vAxis ? this._vAxis.isNullValue : alwaysFalse;\n\t\t\tif(typeof value == \"number\"){\n\t\t\t\treturn v(0.5) || h(value);\n\t\t\t}\n\t\t\treturn v(isNaN(value.x) ? 0.5 : value.x + 0.5) || value.y === null || h(value.y);\n\t\t},\n\t\tgetBarProperties: function(){\n\t\t\tvar f = dc.calculateBarSize(this._hScaler.bounds.scale, this.opt);\n\t\t\treturn {gap: f.gap, width: f.size, thickness: 0};\n\t\t},\n\t\t_animateColumn: function(shape, voffset, vsize){\n\t\t\tif(vsize===0){\n\t\t\t\tvsize = 1;\n\t\t\t}\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: [0, voffset - (voffset/vsize)], end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: [1, 1/vsize], end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/array\", \"dojo/has\",\n\t\t\"./CartesianBase\", \"./_PlotEvents\", \"./common\", \"dojox/lang/functional\", \"dojox/lang/utils\", \"dojox/gfx/fx\"],\n\tfunction(lang, declare, arr, has, CartesianBase, _PlotEvents, dc, df, du, fx){\n\n\t/*=====\n\tdeclare(\"dojox.charting.plot2d.__DefaultCtorArgs\", dojox.charting.plot2d.__CartesianCtorArgs, {\n\t\t// summary:\n\t\t//\t\tThe arguments used for any/most plots.\n\n\t\t// lines: Boolean?\n\t\t//\t\tWhether or not to draw lines on this plot.  Defaults to true.\n\t\tlines:   true,\n\n\t\t// areas: Boolean?\n\t\t//\t\tWhether or not to draw areas on this plot. Defaults to false.\n\t\tareas:   false,\n\n\t\t// markers: Boolean?\n\t\t//\t\tWhether or not to draw markers at data points on this plot. Default is false.\n\t\tmarkers: false,\n\n\t\t// tension: Number|String?\n\t\t//\t\tWhether or not to apply 'tensioning' to the lines on this chart.\n\t\t//\t\tOptions include a number, \"X\", \"x\", or \"S\"; if a number is used, the\n\t\t//\t\tsimpler bezier curve calculations are used to draw the lines.  If X, x or S\n\t\t//\t\tis used, the more accurate smoothing algorithm is used.\n\t\ttension: \"\",\n\n\t\t// animate: Boolean?|Number?\n\t\t//\t\tWhether or not to animate the chart to place. When a Number it specifies the duration of the animation.\n\t\t//\t\tDefault is false.\n\t\tanimate: false,\n\n\t\t// stroke: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke to use for any series on the plot.\n\t\tstroke:\t\t{},\n\n\t\t// outline: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke used to outline any series on the plot.\n\t\toutline:\t{},\n\n\t\t// shadow: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke to use to draw any shadows for a series on a plot.\n\t\tshadow:\t\t{},\n\n\t\t// fill: dojox.gfx.Fill?\n\t\t//\t\tAny fill to be used for elements on the plot (such as areas).\n\t\tfill:\t\t{},\n\n\t\t// filter: dojox.gfx.Filter?\n\t\t//\t\tAn SVG filter to be used for elements on the plot. gfx SVG renderer must be used and dojox/gfx/svgext must\n\t\t//\t\tbe required for this to work.\n\t\tfilter:\t\t{},\n\n\t\t// styleFunc: Function?\n\t\t//\t\tA function that returns a styling object for the a given data item.\n\t\tstyleFunc:\tnull,\n\n\t\t// font: String?\n\t\t//\t\tA font definition to be used for labels and other text-based elements on the plot.\n\t\tfont:\t\t\"\",\n\n\t\t// fontColor: String|dojo.Color?\n\t\t//\t\tThe color to be used for any text-based elements on the plot.\n\t\tfontColor:\t\"\",\n\n\t\t// markerStroke: dojo.gfx.Stroke?\n\t\t//\t\tAn optional stroke to use for any markers on the plot.\n\t\tmarkerStroke:\t\t{},\n\n\t\t// markerOutline: dojo.gfx.Stroke?\n\t\t//\t\tAn optional outline to use for any markers on the plot.\n\t\tmarkerOutline:\t\t{},\n\n\t\t// markerShadow: dojo.gfx.Stroke?\n\t\t//\t\tAn optional shadow to use for any markers on the plot.\n\t\tmarkerShadow:\t\t{},\n\n\t\t// markerFill: dojo.gfx.Fill?\n\t\t//\t\tAn optional fill to use for any markers on the plot.\n\t\tmarkerFill:\t\t\t{},\n\n\t\t// markerFont: String?\n\t\t//\t\tAn optional font definition to use for any markers on the plot.\n\t\tmarkerFont:\t\t\t\"\",\n\n\t\t// markerFontColor: String|dojo.Color?\n\t\t//\t\tAn optional color to use for any marker text on the plot.\n\t\tmarkerFontColor:\t\"\",\n\n\t\t// enableCache: Boolean?\n\t\t//\t\tWhether the markers are cached from one rendering to another. This improves the rendering performance of\n\t\t//\t\tsuccessive rendering but penalize the first rendering.  Default false.\n\t\tenableCache: false,\n\n\t\t// interpolate: Boolean?\n\t\t//\t\tWhether when there is a null data point in the data the plot interpolates it or if the lines is split at that\n\t\t//\t\tpoint.\tDefault false.\n\t\tinterpolate: false,\n\n\t\t// zeroLine: Number?\n\t\t//\t\tZero line for an area fill. Should be a numeric value in user coordinates.\n\t\t//\t\tDefault: the lowest value on a vertical axis.\n\t\tzeroLine: 0\n\t});\n=====*/\n\n\tvar DEFAULT_ANIMATION_LENGTH = 1200;\t// in ms\n\n\treturn declare(\"dojox.charting.plot2d.Default\", [CartesianBase, _PlotEvents], {\n\n\t\t// defaultParams:\n\t\t//\t\tThe default parameters of this plot.\n\t\tdefaultParams: {\n\t\t\tlines:   true,\t// draw lines\n\t\t\tareas:   false,\t// draw areas\n\t\t\tmarkers: false,\t// draw markers\n\t\t\ttension: \"\",\t// draw curved lines (tension is \"X\", \"x\", or \"S\")\n\t\t\tanimate: false, // animate chart to place\n\t\t\tenableCache: false,\n\t\t\tinterpolate: false\n\t\t},\n\n\t\t// optionalParams:\n\t\t//\t\tThe optional parameters of this plot.\n\t\toptionalParams: {\n\t\t\t// theme component\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfilter:     {},\n\t\t\tstyleFunc: null,\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\",\n\t\t\tmarker:             \"\",\n\t\t\tmarkerStroke:\t\t{},\n\t\t\tmarkerOutline:\t\t{},\n\t\t\tmarkerShadow:\t\t{},\n\t\t\tmarkerFill:\t\t\t{},\n\t\t\tmarkerFont:\t\t\t\"\",\n\t\t\tmarkerFontColor:\t\"\",\n\t\t\tzeroLine:           0\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tReturn a new plot.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__DefaultCtorArgs?\n\t\t\t//\t\tAn optional arguments object to help define this plot.\n\t\t\tthis.opt = lang.clone(lang.mixin(this.opt, this.defaultParams));\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\t// animation properties\n\t\t\tthis.animate = this.opt.animate;\n\t\t},\n\n\t\tcreatePath: function(run, creator, params){\n\t\t\tvar path;\n\t\t\tif(this.opt.enableCache && run._pathFreePool.length > 0){\n\t\t\t\tpath = run._pathFreePool.pop();\n\t\t\t\tpath.setShape(params);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(path);\n\t\t\t}else{\n\t\t\t\tpath = creator.createPath(params);\n\t\t\t}\n\t\t\tif(this.opt.enableCache){\n\t\t\t\trun._pathUsePool.push(path);\n\t\t\t}\n\t\t\treturn path;\n\t\t},\n\n\t\tbuildSegments: function(i, indexed){\n\t\t\tvar run = this.series[i],\n\t\t\t\tmin = indexed?Math.max(0, Math.floor(this._hScaler.bounds.from - 1)):0,\n\t\t\t\tmax = indexed?Math.min(run.data.length, Math.ceil(this._hScaler.bounds.to)):run.data.length,\n\t\t\t\trseg = null, segments = [];\n\n\t\t\t// split the run data into dense segments (each containing no nulls)\n\t\t\t// except if interpolates is false in which case ignore null between valid data\n\t\t\tfor(var j = min; j < max; j++){\n\t\t\t\tif(!this.isNullValue(run.data[j])){\n\t\t\t\t\tif(!rseg){\n\t\t\t\t\t\trseg = [];\n\t\t\t\t\t\tsegments.push({index: j, rseg: rseg});\n\t\t\t\t\t}\n\t\t\t\t\trseg.push((indexed && run.data[j].hasOwnProperty(\"y\"))?run.data[j].y:run.data[j]);\n\t\t\t\t}else{\n\t\t\t\t\tif(!this.opt.interpolate || indexed){\n\t\t\t\t\t\t// we break the line only if not interpolating or if we have indexed data\n\t\t\t\t\t\trseg = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn segments;\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRender/draw everything on this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }\n\t\t\t// returns: dojox/charting/plot2d/Default\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\n\t\t\t// make sure all the series is not modified\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tvar s;\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\tthis.getGroup().setTransform(null);\n\t\t\t\ts = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\t\t\tvar t = this.chart.theme, stroke, outline, events = this.events();\n\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tif(this.opt.enableCache){\n\t\t\t\t\trun._pathFreePool = (run._pathFreePool?run._pathFreePool:[]).concat(run._pathUsePool?run._pathUsePool:[]);\n\t\t\t\t\trun._pathUsePool = [];\n\t\t\t\t}\n\t\t\t\tif(!run.data.length){\n\t\t\t\t\trun.dirty = false;\n\t\t\t\t\tt.skip();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar theme = t.next(this.opt.areas ? \"area\" : \"line\", [this.opt, run], true),\n\t\t\t\t\tlpoly,\n\t\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler),\n\t\t\t\t\teventSeries = this._eventSeries[run.name] = new Array(run.data.length);\n\n\t\t\t\ts = run.group;\n\t\t\t\tif(run.hidden){\n\t\t\t\t\tif(this.opt.lines){\n\t\t\t\t\t\trun.dyn.stroke = theme.series.stroke;\n\t\t\t\t\t}\n\t\t\t\t\tif (run.markers || (run.markers === undefined && this.opt.markers)) {\n\t\t\t\t\t\trun.dyn.markerFill = theme.marker.fill;\n\t\t\t\t\t\trun.dyn.markerStroke = theme.marker.stroke;\n\t\t\t\t\t\trun.dyn.marker = theme.symbol;\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.areas){\n\t\t\t\t\t\trun.dyn.fill = theme.series.fill;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// optim works only for index based case\n\t\t\t\tvar indexed = arr.some(run.data, function(item){\n\t\t\t\t\treturn typeof item == \"number\" || (item && !item.hasOwnProperty(\"x\"));\n\t\t\t\t});\n\n\t\t\t\tvar rsegments = this.buildSegments(i, indexed);\n\t\t\t\tfor(var seg = 0; seg < rsegments.length; seg++){\n\t\t\t\t\tvar rsegment = rsegments[seg];\n\t\t\t\t\tif(indexed){\n\t\t\t\t\t\tlpoly = arr.map(rsegment.rseg, function(v, i){\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: ht(i + rsegment.index + 1) + offsets.l,\n\t\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(v),\n\t\t\t\t\t\t\t\tdata: v\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlpoly = arr.map(rsegment.rseg, function(v){\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: ht(v.x) + offsets.l,\n\t\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(v.y),\n\t\t\t\t\t\t\t\tdata: v\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t}\n\n\t\t\t\t\t// if we are indexed & we interpolate we need to put all the segments as a single one now\n\t\t\t\t\tif(indexed && this.opt.interpolate){\n\t\t\t\t\t\twhile(seg < rsegments.length) {\n\t\t\t\t\t\t\tseg++;\n\t\t\t\t\t\t\trsegment = rsegments[seg];\n\t\t\t\t\t\t\tif(rsegment){\n\t\t\t\t\t\t\t\tlpoly = lpoly.concat(arr.map(rsegment.rseg, function(v, i){\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tx: ht(i + rsegment.index + 1) + offsets.l,\n\t\t\t\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(v),\n\t\t\t\t\t\t\t\t\t\tdata: v\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar lpath = this.opt.tension ? dc.curve(lpoly, this.opt.tension) : \"\";\n\n\t\t\t\t\tif(this.opt.areas && lpoly.length > 1){\n\t\t\t\t\t\tvar fill = this._plotFill(theme.series.fill, dim, offsets), apoly = lang.clone(lpoly),\n\t\t\t\t\t\t\tzeroLine = dim.height - offsets.b;\n\t\t\t\t\t\tif(!isNaN(this.opt.zeroLine)){\n\t\t\t\t\t\t\tzeroLine = Math.max(offsets.t, Math.min(dim.height - offsets.b - vt(this.opt.zeroLine), zeroLine));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.opt.tension){\n\t\t\t\t\t\t\tvar apath = \"L\" + apoly[apoly.length-1].x + \",\" + zeroLine +\n\t\t\t\t\t\t\t\t\" L\" + apoly[0].x + \",\" + zeroLine +\n\t\t\t\t\t\t\t\t\" L\" + apoly[0].x + \",\" + apoly[0].y;\n\t\t\t\t\t\t\trun.dyn.fill = s.createPath(lpath + \" \" + apath).setFill(fill).getFill();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapoly.push({x: lpoly[lpoly.length - 1].x, y: zeroLine});\n\t\t\t\t\t\t\tapoly.push({x: lpoly[0].x, y: zeroLine});\n\t\t\t\t\t\t\tapoly.push(lpoly[0]);\n\t\t\t\t\t\t\trun.dyn.fill = s.createPolyline(apoly).setFill(fill).getFill();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.lines || this.opt.markers){\n\t\t\t\t\t\t// need a stroke\n\t\t\t\t\t\tstroke = theme.series.stroke;\n\t\t\t\t\t\tif(theme.series.outline){\n\t\t\t\t\t\t\toutline = run.dyn.outline = dc.makeStroke(theme.series.outline);\n\t\t\t\t\t\t\toutline.width = 2 * outline.width + (stroke && stroke.width || 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.markers){\n\t\t\t\t\t\trun.dyn.marker = theme.symbol;\n\t\t\t\t\t}\n\t\t\t\t\tvar frontMarkers = null, outlineMarkers = null, shadowMarkers = null;\n\t\t\t\t\tif(stroke && theme.series.shadow && lpoly.length > 1){\n\t\t\t\t\t\tvar shadow = theme.series.shadow,\n\t\t\t\t\t\t\tspoly = arr.map(lpoly, function(c){\n\t\t\t\t\t\t\t\treturn {x: c.x + shadow.dx, y: c.y + shadow.dy};\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif(this.opt.lines){\n\t\t\t\t\t\t\tif(this.opt.tension){\n\t\t\t\t\t\t\t\trun.dyn.shadow = s.createPath(dc.curve(spoly, this.opt.tension)).setStroke(shadow).getStroke();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trun.dyn.shadow = s.createPolyline(spoly).setStroke(shadow).getStroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.opt.markers && theme.marker.shadow){\n\t\t\t\t\t\t\tshadow = theme.marker.shadow;\n\t\t\t\t\t\t\tshadowMarkers = arr.map(spoly, function(c){\n\t\t\t\t\t\t\t\treturn this.createPath(run, s, \"M\" + c.x + \" \" + c.y + \" \" + theme.symbol).\n\t\t\t\t\t\t\t\t\tsetStroke(shadow).setFill(shadow.color);\n\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.lines && lpoly.length > 1){\n\t\t\t\t\t\tvar shape;\n\t\t\t\t\t\tif(outline){\n\t\t\t\t\t\t\tif(this.opt.tension){\n\t\t\t\t\t\t\t\trun.dyn.outline = s.createPath(lpath).setStroke(outline).getStroke();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trun.dyn.outline = s.createPolyline(lpoly).setStroke(outline).getStroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.opt.tension){\n\t\t\t\t\t\t\trun.dyn.stroke = (shape = s.createPath(lpath)).setStroke(stroke).getStroke();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trun.dyn.stroke = (shape = s.createPolyline(lpoly)).setStroke(stroke).getStroke();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(shape.setFilter && theme.series.filter){\n\t\t\t\t\t\t\tshape.setFilter(theme.series.filter);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar markerBox = null;\n\t\t\t\t\tif(this.opt.markers){\n\t\t\t\t\t\tvar markerTheme = theme;\n\t\t\t\t\t\tfrontMarkers = new Array(lpoly.length);\n\t\t\t\t\t\toutlineMarkers = new Array(lpoly.length);\n\t\t\t\t\t\toutline = null;\n\t\t\t\t\t\tif(markerTheme.marker.outline){\n\t\t\t\t\t\t\toutline = dc.makeStroke(markerTheme.marker.outline);\n\t\t\t\t\t\t\toutline.width = 2 * outline.width + (markerTheme.marker.stroke ? markerTheme.marker.stroke.width : 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tarr.forEach(lpoly, function(c, i){\n\t\t\t\t\t\t\tif(this.opt.styleFunc || typeof c.data != \"number\"){\n\t\t\t\t\t\t\t\tvar tMixin = typeof c.data != \"number\" ? [c.data] : [];\n\t\t\t\t\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\t\t\t\t\ttMixin.push(this.opt.styleFunc(c.data));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmarkerTheme = t.addMixin(theme, \"marker\", tMixin, true);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tmarkerTheme = t.post(theme, \"marker\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar path = \"M\" + c.x + \" \" + c.y + \" \" + markerTheme.symbol;\n\t\t\t\t\t\t\tif(outline){\n\t\t\t\t\t\t\t\toutlineMarkers[i] = this.createPath(run, s, path).setStroke(outline);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfrontMarkers[i] = this.createPath(run, s, path).setStroke(markerTheme.marker.stroke).setFill(markerTheme.marker.fill);\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t\trun.dyn.markerFill = markerTheme.marker.fill;\n\t\t\t\t\t\trun.dyn.markerStroke = markerTheme.marker.stroke;\n\t\t\t\t\t\tif(!markerBox && this.opt.labels){\n\t\t\t\t\t\t\tmarkerBox = frontMarkers[0].getBoundingBox();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(events){\n\t\t\t\t\t\t\tarr.forEach(frontMarkers, function(s, i){\n\t\t\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\t\t\telement: \"marker\",\n\t\t\t\t\t\t\t\t\tindex:   i + rsegment.index,\n\t\t\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\t\t\tshape:   s,\n\t\t\t\t\t\t\t\t\toutline: outlineMarkers[i] || null,\n\t\t\t\t\t\t\t\t\tshadow:  shadowMarkers && shadowMarkers[i] || null,\n\t\t\t\t\t\t\t\t\tcx:      lpoly[i].x,\n\t\t\t\t\t\t\t\t\tcy:      lpoly[i].y\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif(indexed){\n\t\t\t\t\t\t\t\t\to.x = i + rsegment.index + 1;\n\t\t\t\t\t\t\t\t\to.y = run.data[i + rsegment.index];\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\to.x = rsegment.rseg[i].x;\n\t\t\t\t\t\t\t\t\to.y = run.data[i + rsegment.index].y;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\t\teventSeries[i + rsegment.index] = o;\n\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdelete this._eventSeries[run.name];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.labels){\n\t\t\t\t\t\tvar labelBoxW = markerBox?markerBox.width:2;\n\t\t\t\t\t\tvar labelBoxH = markerBox?markerBox.height:2;\n\t\t\t\t\t\tarr.forEach(lpoly, function(c, i){\n\t\t\t\t\t\t\tif(this.opt.styleFunc || typeof c.data != \"number\"){\n\t\t\t\t\t\t\t\tvar tMixin = typeof c.data != \"number\" ? [c.data] : [];\n\t\t\t\t\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\t\t\t\t\ttMixin.push(this.opt.styleFunc(c.data));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmarkerTheme = t.addMixin(theme, \"marker\", tMixin, true);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tmarkerTheme = t.post(theme, \"marker\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.createLabel(s, rsegment.rseg[i], { x: c.x - labelBoxW / 2, y: c.y - labelBoxH / 2,\n\t\t\t\t\t\t\t\twidth: labelBoxW , height: labelBoxH }, markerTheme);\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trun.dirty = false;\n\t\t\t}\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\tif(this.animate){\n\t\t\t\t// grow from the bottom\n\t\t\t\tvar plotGroup = this.getGroup();\n\t\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\t\tshape: plotGroup,\n\t\t\t\t\tduration: DEFAULT_ANIMATION_LENGTH,\n\t\t\t\t\ttransform:[\n\t\t\t\t\t\t{name:\"translate\", start: [0, dim.height - offsets.b], end: [0, 0]},\n\t\t\t\t\t\t{name:\"scale\", start: [1, 0], end:[1, 1]},\n\t\t\t\t\t\t{name:\"original\"}\n\t\t\t\t\t]\n\t\t\t\t}, this.animate)).play();\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Default\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/array\", \"dojo/sniff\",\n\t\t\"./CartesianBase\", \"./common\", \"dojox/lang/utils\", \"dojox/gfx/fx\"],\n\tfunction(lang, declare, arr, has, CartesianBase, dc, du, fx){\n\n\tvar sortTicks = function(a,b){return a.value - b.value};\n\n\t/*=====\n\tdeclare(\"dojox.charting.plot2d.__GridCtorArgs\", dojox.charting.plot2d.__CartesianCtorArgs, {\n\t\t// summary:\n\t\t//\t\tA special keyword arguments object that is specific to a grid \"plot\".\n\n\t\t// majorHLine: dojox.gfx.Stroke?\n\t\t//\t\tAn optional dojox.gfx.Stroke for a major horizontal line. By default major lines use major tick stroke.\n\t\tmajorHLine:undefined,\n\n\t\t// minorHLine: dojox.gfx.Stroke?\n\t\t//\t\tAn optional dojox.gfx.Stroke for a minor horizontal line. By default minor lines use minor tick stroke.\n\t\tminorHLine:undefined,\n\n\t\t// majorVLine: dojox.gfx.Stroke?\n\t\t//\t\tAn optional dojox.gfx.Stroke for a major vertical line. By default major lines use major tick stroke.\n\t\tmajorVLine:undefined,\n\n\t\t// minorVLine: dojox.gfx.Stroke?\n\t\t//\t\tAn optional dojox.gfx.Stroke for a minor vertical line. By default major lines use major tick stroke.\n\t\tminorVLine:undefined,\n\n\t\t// hFill: dojox.gfx.Fill?\n\t\t//\t\tAn optional dojox.gfx.Fill used to fill every other horizontal stripe created by grid lines.\n\t\thFill: undefined,\n\n\t\t// hAlternateFill: dojox.gfx.Fill?\n\t\t//\t\tAn optional dojox.gfx.Fill used to fill alternating horizontal stripe created by grid lines not filled by `hFill`.\n\t\thAlternateFill: undefined,\n\n\t\t// vFill: dojox.gfx.Fill?\n\t\t//\t\tAn optional dojox.gfx.Fill used to fill every other vertical stripe created by grid lines.\n\t\tvFill: undefined,\n\n\t\t// vAlternateFill: dojox.gfx.Fill?\n\t\t//\t\tAn optional dojox.gfx.Fill used to fill alternating vertical stripe created by grid lines not filled by `vFill`.\n\t\tvAlternateFill: undefined,\n\n\t\t// hMajorLines: Boolean?\n\t\t//\t\tWhether to show lines at the major ticks along the horizontal axis. Default is true.\n\t\thMajorLines: true,\n\n\t\t// hMinorLines: Boolean?\n\t\t//\t\tWhether to show lines at the minor ticks along the horizontal axis. Default is false.\n\t\thMinorLines: false,\n\n\t\t// vMajorLines: Boolean?\n\t\t//\t\tWhether to show lines at the major ticks along the vertical axis. Default is true.\n\t\tvMajorLines: true,\n\n\t\t// vMinorLines: Boolean?\n\t\t//\t\tWhether to show lines at the major ticks along the vertical axis. Default is false.\n\t\tvMinorLines: false,\n\n\t\t// hStripes: Boolean?\n\t\t//\t\tWhether to show horizontal stripes. Default is false.\n\t\thStripes: false,\n\n\t\t// vStripes: Boolean?\n\t\t//\t\tWhether to show vertical stripes. Default is false.\n\t\tvStripes: false,\n\n\t\t// enableCache: Boolean?\n\t\t//\t\tWhether the grid lines are cached from one rendering to another. This improves the rendering performance of\n\t\t//\t\tsuccessive rendering but penalize the first rendering.  Default false.\n\t\tenableCache: false,\n\n\t\t// renderOnAxis: Boolean?\n\t\t//\t\tWhether or not the grid is rendered when drawn at horizontal or vertical axis position. Default is true.\n\t\trenderOnAxis: true\n\t});\n\t=====*/\n\n\treturn declare(\"dojox.charting.plot2d.Grid\", CartesianBase, {\n\t\t// summary:\n\t\t//\t\tA \"faux\" plot that can be placed behind other plots to represent\n\t\t//\t\ta grid against which other plots can be easily measured.\n\t\tdefaultParams: {\n\t\t\thMajorLines: true,\t// draw horizontal major lines\n\t\t\thMinorLines: false,\t// draw horizontal minor lines\n\t\t\tvMajorLines: true,\t// draw vertical major lines\n\t\t\tvMinorLines: false,\t// draw vertical minor lines\n\t\t\thStripes: false,\t// draw vertical stripes\n\t\t\tvStripes: false,\t// draw vertical stripes\n\t\t\tanimate: null,   // animate bars into place\n\t\t\tenableCache: false,\n\t\t\trenderOnAxis: true\n\t\t},\n\n\t\toptionalParams: {\n\t\t\tmajorHLine: {},\n\t\t\tminorHLine: {},\n\t\t\tmajorVLine: {},\n\t\t\tminorVLine: {},\n\t\t\thFill: {},\n\t\t\tvFill: {},\n\t\t\thAlternateFill: {},\n\t\t\tvAlternateFill: {}\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate the faux Grid plot.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__GridCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define the parameters of the underlying grid.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.animate = this.opt.animate;\n\t\t\tif(this.opt.enableCache){\n\t\t\t\tthis._lineFreePool = [];\n\t\t\t\tthis._lineUsePool = [];\n\t\t\t\tthis._rectFreePool = [];\n\t\t\t\tthis._rectUsePool = [];\n\t\t\t}\n\t\t},\n\t\taddSeries: function(run){\n\t\t\t// summary:\n\t\t\t//\t\tIgnored but included as a dummy method.\n\t\t\t// returns: dojox/charting/plot2d/Grid\n\t\t\t//\t\tThe reference to this plot for functional chaining.\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Grid\n\t\t},\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns default stats (irrelevant for this type of plot).\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\treturn lang.delegate(dc.defaultStats); // Object\n\t\t},\n\t\tcleanGroup: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tif(this.opt.enableCache){\n\t\t\t\tthis._lineFreePool = this._lineFreePool.concat(this._lineUsePool);\n\t\t\t\tthis._lineUsePool = [];\n\t\t\t\tthis._rectFreePool = this._rectFreePool.concat(this._rectUsePool);\n\t\t\t\tthis._rectUsePool = [];\n\t\t\t}\n\t\t},\n\t\tcreateLine: function(creator, params){\n\t\t\tvar line;\n\t\t\tif(this.opt.enableCache && this._lineFreePool.length > 0){\n\t\t\t\tline = this._lineFreePool.pop();\n\t\t\t\tline.setShape(params);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(line);\n\t\t\t}else{\n\t\t\t\tline = creator.createLine(params);\n\t\t\t}\n\t\t\tif(this.opt.enableCache){\n\t\t\t\tthis._lineUsePool.push(line);\n\t\t\t}\n\t\t\treturn line;\n\t\t},\n\t\tcreateRect: function(creator, params){\n\t\t\tvar rect;\n\t\t\tif(this.opt.enableCache && this._rectFreePool.length > 0){\n\t\t\t\trect = this._rectFreePool.pop();\n\t\t\t\trect.setShape(params);\n\t\t\t\t// was cleared, add it back\n\t\t\t\tcreator.add(rect);\n\t\t\t}else{\n\t\t\t\trect = creator.createRect(params);\n\t\t\t}\n\t\t\tif(this.opt.enableCache){\n\t\t\t\tthis._rectUsePool.push(rect);\n\t\t\t}\n\t\t\treturn rect;\n\t\t},\n\t\t\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRender the plot on the chart.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height }.\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\t// returns: dojox/charting/plot2d/Grid\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this.zoom){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tif(!this.dirty){ return this; }\n\t\t\tthis.cleanGroup();\n\t\t\tvar s = this.getGroup(), ta = this.chart.theme, lineStroke, ticks;\n\t\t\tif((has(\"ios\") && has(\"ios\") < 6) || has(\"android\") || (has(\"safari\") && !has(\"ios\"))){\n\t\t\t\t// clipping seems buggy in some mobile Webkit browser and Safari desktop\n\t\t\t\t// it does not clip correctly if only lines are present => create a invisible rectangle...\n\t\t\t\tvar w = Math.max(0, dim.width  - offsets.l - offsets.r),\n\t\t\t\t\th = Math.max(0, dim.height - offsets.t - offsets.b);\n\t\t\t\ts.createRect({ x: offsets.l, y: offsets.t, width: w, height: h});\n\t\t\t}\n\t\t\tif(this._vAxis){\n\t\t\t\t// draw horizontal stripes and lines\n\t\t\t\tticks = this._vAxis.getTicks();\n\t\t\t\tvar vScaler = this._vAxis.getScaler();\n\t\t\t\tif(ticks != null && vScaler != null){\n\t\t\t\t\tvar vt = vScaler.scaler.getTransformerFromModel(vScaler);\n\t\t\t\t\tif(this.opt.hStripes){\n\t\t\t\t\t\tthis._renderHRect(ticks, ta.grid, dim, offsets, vScaler, vt);\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.hMinorLines){\n\t\t\t\t\t\tlineStroke = this.opt.minorHLine || (ta.grid && ta.grid.minorLine) || ta.axis.minorTick;\n\t\t\t\t\t\tthis._renderHLines(ticks.minor, lineStroke, dim, offsets, vScaler, vt);\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.hMajorLines){\n\t\t\t\t\t\tlineStroke = this.opt.majorHLine || (ta.grid && ta.grid.majorLine) || ta.axis.majorTick;\n\t\t\t\t\t\tthis._renderHLines(ticks.major, lineStroke, dim, offsets, vScaler, vt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tif(this._hAxis){\n\t\t\t\t// draw vertical stripes and lines\n\t\t\t\tticks = this._hAxis.getTicks();\n\t\t\t\tvar hScaler = this._hAxis.getScaler();\n\t\t\t\tif(ticks != null && hScaler != null){\n\t\t\t\t\tvar ht = hScaler.scaler.getTransformerFromModel(hScaler);\n\t\t\t\t\tif(this.opt.vStripes){\n\t\t\t\t\t\tthis._renderVRect(ticks, ta.grid, dim, offsets, hScaler, ht);\n\t\t\t\t\t}\n\t\t\t\t\tif(ticks && this.opt.vMinorLines){\n\t\t\t\t\t\tlineStroke = this.opt.minorVLine || (ta.grid && ta.grid.minorLine) || ta.axis.minorTick;\n\t\t\t\t\t\tthis._renderVLines(ticks.minor, lineStroke, dim, offsets, hScaler, ht);\n\t\t\t\t\t}\n\t\t\t\t\tif(ticks && this.opt.vMajorLines){\n\t\t\t\t\t\tlineStroke = this.opt.majorVLine || (ta.grid && ta.grid.majorLine) || ta.axis.majorTick;\n\t\t\t\t\t\tthis._renderVLines(ticks.major, lineStroke, dim, offsets, hScaler, ht);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Grid\n\t\t},\n\t\t_renderHLines: function(ticks, lineStroke, dim, offsets, vScaler, vt){\n\t\t\tvar s = this.getGroup();\n\t\t\tarr.forEach(ticks, function(tick){\n\t\t\t\tif(!this.opt.renderOnAxis && tick.value == (this._vAxis.opt.leftBottom?vScaler.bounds.from:vScaler.bounds.to)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar y = dim.height - offsets.b - vt(tick.value);\n\t\t\t\tvar hLine = this.createLine(s, {\n\t\t\t\t\tx1: offsets.l,\n\t\t\t\t\ty1: y,\n\t\t\t\t\tx2: dim.width - offsets.r,\n\t\t\t\t\ty2: y\n\t\t\t\t}).setStroke(lineStroke);\n\t\t\t\tif(this.animate){\n\t\t\t\t\tthis._animateGrid(hLine, \"h\", offsets.l, offsets.r + offsets.l - dim.width);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\t_renderVLines: function(ticks, lineStroke, dim, offsets, hScaler, ht){\n\t\t\tvar s = this.getGroup();\n\t\t\tarr.forEach(ticks, function(tick){\n\t\t\t\tif(!this.opt.renderOnAxis && tick.value == (this._hAxis.opt.leftBottom?hScaler.bounds.from:hScaler.bounds.to)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar x = offsets.l + ht(tick.value);\n\t\t\t\tvar vLine = this.createLine(s, {\n\t\t\t\t\tx1: x,\n\t\t\t\t\ty1: offsets.t,\n\t\t\t\t\tx2: x,\n\t\t\t\t\ty2: dim.height - offsets.b\n\t\t\t\t}).setStroke(lineStroke);\n\t\t\t\tif(this.animate){\n\t\t\t\t\tthis._animateGrid(vLine, \"v\", dim.height - offsets.b, dim.height - offsets.b - offsets.t);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\t_renderHRect: function(ticks, theme, dim, offsets, vScaler, vt){\n\t\t\tvar fill, tick, y, y2, hStripe;\n\t\t\tvar allTicks = ticks.major.concat(ticks.minor);\n\t\t\tallTicks.sort(sortTicks);\n\t\t\tif(allTicks[0].value > vScaler.bounds.from){\n\t\t\t\tallTicks.splice(0, 0, {value: vScaler.bounds.from});\n\t\t\t}\n\t\t\tif(allTicks[allTicks.length - 1].value < vScaler.bounds.to){\n\t\t\t\tallTicks.push({value: vScaler.bounds.to});\n\t\t\t}\n\t\t\tvar s = this.getGroup();\n\t\t\tfor(var j = 0; j < allTicks.length - 1; j++){\n\t\t\t\ttick = allTicks[j];\n\t\t\t\ty = dim.height - offsets.b - vt(tick.value);\n\t\t\t\ty2 = dim.height - offsets.b - vt(allTicks[j+1].value);\n\n\t\t\t\tfill = (j%2 == 0)?(this.opt.hAlternateFill ||(theme && theme.alternateFill)):\n\t\t\t\t\t(this.opt.hFill || (theme && theme.fill));\n\t\t\t\tif(fill){\n\t\t\t\t\thStripe = this.createRect(s, {\n\t\t\t\t\t\tx: offsets.l,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\twidth: dim.width - offsets.r,\n\t\t\t\t\t\theight: y - y2\n\t\t\t\t\t}).setFill(fill);\n\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\tthis._animateGrid(hStripe, \"h\", offsets.l, offsets.r + offsets.l - dim.width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_renderVRect: function(ticks, theme, dim, offsets, hScaler, ht){\n\t\t\tvar fill, tick, x, x2, vStripe;\n\t\t\tvar allTicks = ticks.major.concat(ticks.minor);\n\t\t\tallTicks.sort(sortTicks);\n\t\t\tif(allTicks[0].value > hScaler.bounds.from){\n\t\t\t\tallTicks.splice(0, 0, {value: hScaler.bounds.from});\n\t\t\t}\n\t\t\tif(allTicks[allTicks.length - 1].value < hScaler.bounds.to){\n\t\t\t\tallTicks.push({value: hScaler.bounds.to});\n\t\t\t}\n\t\t\tvar s = this.getGroup();\n\t\t\tfor(var j = 0; j < allTicks.length - 1; j++){\n\t\t\t\ttick = allTicks[j];\n\t\t\t\tx = offsets.l + ht(tick.value);\n\t\t\t\tx2 = offsets.l + ht(allTicks[j+1].value);\n\n\t\t\t\tfill = (j%2 == 0)?(this.opt.vAlternateFill ||(theme && theme.alternateFill)):\n\t\t\t\t\t(this.opt.vFill || (theme && theme.fill));\n\t\t\t\tif(fill){\n\t\t\t\t\tvStripe = this.createRect(s, {\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: offsets.t,\n\t\t\t\t\t\twidth: x2 - x,\n\t\t\t\t\t\theight: dim.width - offsets.r\n\t\t\t\t\t}).setFill(fill);\n\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\tthis._animateGrid(vStripe, \"v\", dim.height - offsets.b, dim.height - offsets.b - offsets.t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_animateGrid: function(shape, type, offset, size){\n\t\t\tvar transStart = type == \"h\" ? [offset, 0] : [0, offset];\n\t\t\tvar scaleStart = type == \"h\" ? [1/size, 1] : [1, 1/size];\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: transStart, end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: scaleStart, end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"./Default\"], function(declare, Default){\n\n\treturn declare(\"dojox.charting.plot2d.Lines\", Default, {\n\t\t// summary:\n\t\t//\t\tA convenience constructor to create a typical line chart.\n\t\tconstructor: function(){\n\t\t\t// summary:\n\t\t\t//\t\tPreset our default plot to be line-based.\n\t\t\tthis.opt.lines = true;\n\t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"./Default\"], function(declare, Default){\n\n\treturn declare(\"dojox.charting.plot2d.Markers\", Default, {\n\t\t// summary:\n\t\t//\t\tA convenience plot to draw a line chart with markers.\n\t\tconstructor: function(){\n\t\t\t// summary:\n\t\t\t//\t\tSet up the plot for lines and markers.\n\t\t\tthis.opt.markers = true;\n\t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"./Default\"], function(declare, Default){\n\n\treturn declare(\"dojox.charting.plot2d.MarkersOnly\", Default, {\n\t\t// summary:\n\t\t//\t\tA convenience object to draw only markers (like a scatter but not quite).\n\t\tconstructor: function(){\n\t\t\t// summary:\n\t\t\t//\t\tSet up our default plot to only have markers and no lines.\n\t\t\tthis.opt.lines   = false;\n\t\t\tthis.opt.markers = true;\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/has\", \"./CartesianBase\", \"./_PlotEvents\", \"./common\",\n\t\"dojox/lang/functional\", \"dojox/lang/utils\", \"dojox/gfx/fx\"],\n\tfunction(lang, arr, declare, has, CartesianBase, _PlotEvents, dc, df, du, fx){\n\n\t//\tCandlesticks are based on the Bars plot type; we expect the following passed\n\t//\tas values in a series:\n\t//\t{ x?, open, close, high, low }\n\t//\tif x is not provided, the array index is used.\n\t//\tfailing to provide the OHLC values will throw an error.\n\treturn declare(\"dojox.charting.plot2d.OHLC\", [CartesianBase, _PlotEvents], {\n\t\t// summary:\n\t\t//\t\tA plot that represents typical open/high/low/close (financial reporting, primarily).\n\t\t//\t\tUnlike most charts, the Candlestick expects data points to be represented by\n\t\t//\t\tan object of the form { x?, open, close, high, low, mid? }, where both\n\t\t//\t\tx and mid are optional parameters.  If x is not provided, the index of the\n\t\t//\t\tdata array is used.\n\t\tdefaultParams: {\n\t\t\tgap:\t2,\t\t// gap between columns in pixels\n\t\t\tanimate: null\t// animate chart to place\n\t\t},\n\t\toptionalParams: {\n\t\t\tminBarSize: 1,\t// minimal bar size in pixels\n\t\t\tmaxBarSize: 1,\t// maximal bar size in pixels\n\t\t\t// theme component\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\"\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tThe constructor for a candlestick chart.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__BarCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define the plot.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.animate = this.opt.animate;\n\t\t},\n\n\t\tcollectStats: function(series){\n\t\t\t// summary:\n\t\t\t//\t\tCollect all statistics for drawing this chart.  Since the common\n\t\t\t//\t\tfunctionality only assumes x and y, OHLC must create it's own\n\t\t\t//\t\tstats (since data has no y value, but open/close/high/low instead).\n\t\t\t// series: dojox/charting/Series[]\n\t\t\t//\t\tThe data series array to be drawn on this plot.\n\t\t\t// returns: Object\n\t\t\t//\t\tReturns an object in the form of { hmin, hmax, vmin, vmax }.\n\n\t\t\t//\twe have to roll our own, since we need to use all four passed\n\t\t\t//\tvalues to figure out our stats, and common only assumes x and y.\n\t\t\tvar stats = lang.delegate(dc.defaultStats);\n\t\t\tfor(var i=0; i<series.length; i++){\n\t\t\t\tvar run = series[i];\n\t\t\t\tif(!run.data.length){ continue; }\n\t\t\t\tvar old_vmin = stats.vmin, old_vmax = stats.vmax;\n\t\t\t\tif(!(\"ymin\" in run) || !(\"ymax\" in run)){\n\t\t\t\t\tarr.forEach(run.data, function(val, idx){\n\t\t\t\t\t\tif(!this.isNullValue(val)){\n\t\t\t\t\t\t\tvar x = val.x || idx + 1;\n\t\t\t\t\t\t\tstats.hmin = Math.min(stats.hmin, x);\n\t\t\t\t\t\t\tstats.hmax = Math.max(stats.hmax, x);\n\t\t\t\t\t\t\tstats.vmin = Math.min(stats.vmin, val.open, val.close, val.high, val.low);\n\t\t\t\t\t\t\tstats.vmax = Math.max(stats.vmax, val.open, val.close, val.high, val.low);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t\tif(\"ymin\" in run){ stats.vmin = Math.min(old_vmin, run.ymin); }\n\t\t\t\tif(\"ymax\" in run){ stats.vmax = Math.max(old_vmax, run.ymax); }\n\t\t\t}\n\t\t\treturn stats; // Object\n\t\t},\n\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = this.collectStats(this.series);\n\t\t\tstats.hmin -= 0.5;\n\t\t\tstats.hmax += 0.5;\n\t\t\treturn stats; // Object\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRun the calculations for any axes for this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object in the form of { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b}.\n\t\t\t// returns: dojox/charting/plot2d/OHLC\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\tvar s = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\t\t\tvar t = this.chart.theme, f, gap, width,\n\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler),\n\t\t\t\tevents = this.events();\n\t\t\tf = dc.calculateBarSize(this._hScaler.bounds.scale, this.opt);\n\t\t\tgap = f.gap;\n\t\t\twidth = f.size;\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tvar theme = t.next(\"candlestick\", [this.opt, run]), s = run.group,\n\t\t\t\t\teventSeries = new Array(run.data.length);\n\t\t\t\tfor(var j = 0; j < run.data.length; ++j){\n\t\t\t\t\tvar v = run.data[j];\n\t\t\t\t\tif(!this.isNullValue(v)){\n\t\t\t\t\t\tvar finalTheme = t.addMixin(theme, \"candlestick\", v, true);\n\n\t\t\t\t\t\t//\tcalculate the points we need for OHLC\n\t\t\t\t\t\tvar x = ht(v.x || (j+0.5)) + offsets.l + gap,\n\t\t\t\t\t\t\ty = dim.height - offsets.b,\n\t\t\t\t\t\t\topen = vt(v.open),\n\t\t\t\t\t\t\tclose = vt(v.close),\n\t\t\t\t\t\t\thigh = vt(v.high),\n\t\t\t\t\t\t\tlow = vt(v.low);\n\t\t\t\t\t\tif(low > high){\n\t\t\t\t\t\t\tvar tmp = high;\n\t\t\t\t\t\t\thigh = low;\n\t\t\t\t\t\t\tlow = tmp;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(width >= 1){\n\t\t\t\t\t\t\tvar hl = {x1: width/2, x2: width/2, y1: y - high, y2: y - low},\n\t\t\t\t\t\t\t\top = {x1: 0, x2: ((width/2) + ((finalTheme.series.stroke ? finalTheme.series.stroke.width || 1 : 1)/2)), y1: y-open, y2: y-open},\n\t\t\t\t\t\t\t\tcl = {x1: ((width/2) - ((finalTheme.series.stroke ? finalTheme.series.stroke.width || 1 : 1)/2)), x2: width, y1: y-close, y2: y-close};\n\t\t\t\t\t\t\tvar shape = s.createGroup();\n\t\t\t\t\t\t\tshape.setTransform({dx: x, dy: 0});\n\t\t\t\t\t\t\tvar inner = shape.createGroup();\n\t\t\t\t\t\t\tinner.createLine(hl).setStroke(finalTheme.series.stroke);\n\t\t\t\t\t\t\tinner.createLine(op).setStroke(finalTheme.series.stroke);\n\t\t\t\t\t\t\tinner.createLine(cl).setStroke(finalTheme.series.stroke);\n\n\t\t\t\t\t\t\t// TODO: double check this.\n\t\t\t\t\t\t\trun.dyn.stroke = finalTheme.series.stroke;\n\t\t\t\t\t\t\tif(events){\n\t\t\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\t\t\telement: \"candlestick\",\n\t\t\t\t\t\t\t\t\tindex:   j,\n\t\t\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\t\t\tshape:\t inner,\n\t\t\t\t\t\t\t\t\tx:       x,\n\t\t\t\t\t\t\t\t\ty:       y-Math.max(open, close),\n\t\t\t\t\t\t\t\t\tcx:\t\t width/2,\n\t\t\t\t\t\t\t\t\tcy:\t\t (y-Math.max(open, close)) + (Math.max(open > close ? open-close : close-open, 1)/2),\n\t\t\t\t\t\t\t\t\twidth:\t width,\n\t\t\t\t\t\t\t\t\theight:  Math.max(open > close ? open-close : close-open, 1),\n\t\t\t\t\t\t\t\t\tdata:\t v\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\t\teventSeries[j] = o;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\tthis._animateOHLC(shape, y - low, high - low);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._eventSeries[run.name] = eventSeries;\n\t\t\t\trun.dirty = false;\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\treturn this;\t//\tdojox/charting/plot2d/OHLC\n\t\t},\n\t\t_animateOHLC: function(shape, voffset, vsize){\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: [0, voffset - (voffset/vsize)], end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: [1, 1/vsize], end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\" ,\"dojo/_base/declare\", \"dojo/dom-geometry\", \"dojo/_base/Color\",\n\t\t\"./Base\", \"./_PlotEvents\", \"./common\",\n\t\t\"dojox/gfx\", \"dojox/gfx/matrix\", \"dojox/lang/functional\", \"dojox/lang/utils\",\"dojo/has\"],\n\tfunction(lang, arr, declare, domGeom, Color, Base, PlotEvents, dc, g, m, df, du, has){\n\n\t/*=====\n\tdeclare(\"dojox.charting.plot2d.__PieCtorArgs\", dojox.charting.plot2d.__DefaultCtorArgs, {\n\t\t// summary:\n\t\t//\t\tSpecialized keyword arguments object for use in defining parameters on a Pie chart.\n\n\t\t// labels: Boolean?\n\t\t//\t\tWhether or not to draw labels for each pie slice.  Default is true.\n\t\tlabels:\t\t\ttrue,\n\n\t\t// ticks: Boolean?\n\t\t//\t\tWhether or not to draw ticks to labels within each slice. Default is false.\n\t\tticks:\t\t\tfalse,\n\n\t\t// fixed: Boolean?\n\t\t//\t\tWhether a fixed precision must be applied to data values for display. Default is true.\n\t\tfixed:\t\t\ttrue,\n\n\t\t// precision: Number?\n\t\t//\t\tThe precision at which to round data values for display. Default is 0.\n\t\tprecision:\t\t1,\n\n\t\t// labelOffset: Number?\n\t\t//\t\tThe amount in pixels by which to offset labels.  Default is 20.\n\t\tlabelOffset:\t20,\n\n\t\t// labelStyle: String?\n\t\t//\t\tOptions as to where to draw labels.  Values include \"default\", and \"columns\".\tDefault is \"default\".\n\t\tlabelStyle:\t\t\"default\",\t// default/columns\n\n\t\t// omitLabels: Boolean?\n\t\t//\t\tWhether labels of slices small to the point of not being visible are omitted.\tDefault false.\n\t\tomitLabels: false,\n\n\t\t// htmlLabels: Boolean?\n\t\t//\t\tWhether or not to use HTML to render slice labels. Default is true.\n\t\thtmlLabels:\t\ttrue,\n\n\t\t// radGrad: String?\n\t\t//\t\tThe type of radial gradient to use in rendering.  Default is \"native\".\n\t\tradGrad:        \"native\",\n\n\t\t// fanSize: Number?\n\t\t//\t\tThe amount for a radial gradient.  Default is 5.\n\t\tfanSize:\t\t5,\n\n\t\t// startAngle: Number?\n\t\t//\t\tWhere to being rendering gradients in slices, in degrees.  Default is 0.\n\t\tstartAngle:     0,\n\n\t\t// radius: Number?\n\t\t//\t\tThe size of the radial gradient.  Default is 0.\n\t\tradius:\t\t0,\n\n\t\t// shadow: dojox.gfx.Stroke?\n\t\t//\t\tAn optional stroke to use to draw any shadows for a series on a plot.\n\t\tshadow:\t\t{},\n\n\t\t// fill: dojox.gfx.Fill?\n\t\t//\t\tAny fill to be used for elements on the plot.\n\t\tfill:\t\t{},\n\n\t\t// filter: dojox.gfx.Filter?\n\t\t//\t\tAn SVG filter to be used for elements on the plot. gfx SVG renderer must be used and dojox/gfx/svgext must\n\t\t//\t\tbe required for this to work.\n\t\tfilter:\t\t{},\n\n\t\t// styleFunc: Function?\n\t\t//\t\tA function that returns a styling object for the a given data item.\n\t\tstyleFunc:\tnull,\n\n\t\t// innerRadius: Number?\n\t\t//\t\tThe inner radius of a ring in percent (0-100).  If value < 0\n\t\t//\t\tthen it is assumed to be pixels, not percent.\n\t\tinnerRadius:\t0,\n\n\t\t//  minWidth: Number?\n\t\t//      The minimum width of a pie slice at its chord. The default is 10px.\n\t\tminWidth:   10\n\n\t});\n\t=====*/\n\n\tvar FUDGE_FACTOR = 0.2; // use to overlap fans\n\n\treturn declare(\"dojox.charting.plot2d.Pie\", [Base, PlotEvents], {\n\t\t// summary:\n\t\t//\t\tThe plot that represents a typical pie chart.\n\t\tdefaultParams: {\n\t\t\tlabels:\t\t\ttrue,\n\t\t\tticks:\t\t\tfalse,\n\t\t\tfixed:\t\t\ttrue,\n\t\t\tprecision:\t\t1,\n\t\t\tlabelOffset:\t20,\n\t\t\tlabelStyle:\t\t\"default\",\t// default/columns\n\t\t\thtmlLabels:\t\ttrue,\t\t// use HTML to draw labels\n\t\t\tradGrad:       \"native\",\t// or \"linear\", or \"fan\"\n\t\t\tfanSize:\t\t   5,\t\t\t// maximum fan size in degrees\n\t\t\tstartAngle:    0,\t\t\t// start angle for slices in degrees\n\t\t\tinnerRadius:\t0,\t\t\t// inner radius in pixels\n\t\t\tminWidth:      0,\t\t\t// minimal width of degenerated slices\n\t\t\tzeroDataMessage: \"\"     // The message to display when there is no data, if provided by the user.\n\t\t},\n\t\toptionalParams: {\n\t\t\tradius:\t\t0,\n\t\t\tomitLabels: false,\n\t\t\t// theme components\n\t\t\tstroke:\t\t{},\n\t\t\toutline:\t{},\n\t\t\tshadow:\t\t{},\n\t\t\tfill:\t\t{},\n\t\t\tfilter:     {},\n\t\t\tstyleFunc:\tnull,\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\",\n\t\t\tlabelWiring: {}\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate a pie plot.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.axes = [];\n\t\t\tthis.run = null;\n\t\t\tthis.dyn = [];\n\t\t\tthis.runFilter = [];\n\t\t\tif(kwArgs && kwArgs.hasOwnProperty(\"innerRadius\")){\n\t\t\t\tthis._plotSetInnerRadius = true;\n\t\t\t}\n\t\t},\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear out all of the information tied to this plot.\n\t\t\t// returns: dojox/charting/plot2d/Pie\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.inherited(arguments);\n\t\t\tthis.dyn = [];\n\t\t\tthis.run = null;\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Pie\n\t\t},\n\t\tsetAxis: function(axis){\n\t\t\t// summary:\n\t\t\t//\t\tDummy method, since axes are irrelevant with a Pie chart.\n\t\t\t// returns: dojox/charting/plot2d/Pie\n\t\t\t//\t\tThe reference to this plot for functional chaining.\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Pie\n\t\t},\n\t\taddSeries: function(run){\n\t\t\t// summary:\n\t\t\t//\t\tAdd a series of data to this plot.\n\t\t\t// returns: dojox/charting/plot2d/Pie\n\t\t\t//\t\tThe reference to this plot for functional chaining.\n\t\t\tthis.run = run;\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Pie\n\t\t},\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns default stats (irrelevant for this type of plot).\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\treturn lang.delegate(dc.defaultStats); // Object\n\t\t},\n\t\tgetRequiredColors: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturn the number of colors needed to draw this plot.\n\t\t\treturn this.run ? this.run.data.length : 0;\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t//\tsummary:\n\t\t\t//\t\tRender the plot on the chart.\n\t\t\t//\tdim: Object\n\t\t\t//\t\tAn object of the form { width, height }.\n\t\t\t//\toffsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\t//\treturns: dojox/charting/plot2d/Pie\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(!this.dirty){ return this; }\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = false;\n\t\t\tthis._eventSeries = {};\n\t\t\tthis.cleanGroup();\n\t\t\tvar s = this.group, t = this.chart.theme;\n\n\t\t\tif(!this._plotSetInnerRadius && t && t.pieInnerRadius){\n\t\t\t\tthis.opt.innerRadius = t.pieInnerRadius;\n\t\t\t}\n\n\t\t\t// calculate the geometry\n\t\t\tvar rx = (dim.width  - offsets.l - offsets.r) / 2,\n\t\t\t\try = (dim.height - offsets.t - offsets.b) / 2,\n\t\t\t\tr  = Math.min(rx, ry),\n\t\t\t\ttaFont = \"font\" in this.opt ? this.opt.font : t.axis.tick.titleFont || \"\",\n\t\t\t\tsize = taFont ? g.normalizedLength(g.splitFontString(taFont).size) : 0,\n\t\t\t\ttaFontColor = this.opt.hasOwnProperty(\"fontColor\") ? this.opt.fontColor : t.axis.tick.fontColor,\n\t\t\t\tstartAngle = m._degToRad(this.opt.startAngle),\n\t\t\t\tstart = startAngle, filteredRun, slices, labels, shift, labelR,\n\t\t\t\trun = this.run.data,\n\t\t\t\tevents = this.events();\n\n\t\t\t/* Added to handle no data case */\n\t\t\tvar noDataFunc = lang.hitch(this, function(){\n\t\t\t\tvar ct = t.clone();\n\t\t\t\tvar themes = df.map(run, function(v){\n\t\t\t\t\tvar tMixin = [this.opt, this.run];\n\t\t\t\t\tif(v !== null && typeof v != \"number\"){\n\t\t\t\t\t\ttMixin.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\t\ttMixin.push(this.opt.styleFunc(v));\n\t\t\t\t\t}\n\t\t\t\t\treturn ct.next(\"slice\", tMixin, true);\n\t\t\t\t}, this);\n\n\t\t\t\t// Draw initial pie, with text in it noting 0 data.\n\t\t\t\tif(\"radius\" in this.opt){\n\t\t\t\t\tr = this.opt.radius < r ? this.opt.radius : r;\n\t\t\t\t}\n\n\t\t\t\tvar circle = {\n\t\t\t\t\tcx: offsets.l + rx,\n\t\t\t\t\tcy: offsets.t + ry,\n\t\t\t\t\tr:  r\n\t\t\t\t};\n\t\t\t\tvar rColor = new Color(taFontColor);\n\t\t\t\t// If we have a radius, we'll need to fade the ring some\n\t\t\t\tif(this.opt.innerRadius){\n\t\t\t\t\trColor.a = 0.1;\n\t\t\t\t}\n\t\t\t\tvar ring = this._createRing(s, circle).setStroke(rColor);\n\t\t\t\tif(this.opt.innerRadius){\n\t\t\t\t\t// If we have a radius, fill it with the faded color.\n\t\t\t\t\tring.setFill(rColor);\n\t\t\t\t}\n\t\t\t\tif(this.opt.zeroDataMessage){\n\t\t\t\t\tthis.renderLabel(s, circle.cx, circle.cy + size/3, this.opt.zeroDataMessage, {\n\t\t\t\t\t\tseries: {\n\t\t\t\t\t\t\tfont: taFont,\n\t\t\t\t\t\t\tfontColor: taFontColor\n\t\t\t\t\t\t}\n\t\t\t\t\t},\tnull, \"middle\");\n\t\t\t\t}\n\t\t\t\tthis.dyn = [];\n\t\t\t\tarr.forEach(run, function(item, i){\n\t\t\t\t\tthis.dyn.push({\n\t\t\t\t\t\tfill: this._plotFill(themes[i].series.fill, dim, offsets),\n\t\t\t\t\t\tstroke: themes[i].series.stroke});\n\t\t\t\t}, this);\n\t\t\t});\n\t\t\t/* END Added to handle no data case */\n\n\t\t\t// Draw over circle!\n\t\t\tif(!this.run && !this.run.data.ength){\n\t\t\t\tnoDataFunc();\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif(typeof run[0] == \"number\"){\n\t\t\t\tfilteredRun = df.map(run, \"x ? Math.max(x, 0) : 0\");\n\t\t\t\tif(df.every(filteredRun, \"<= 0\")){\n\t\t\t\t\tnoDataFunc();\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tslices = df.map(filteredRun, \"/this\", df.foldl(filteredRun, \"+\", 0));\n\t\t\t\tif(this.opt.labels){\n\t\t\t\t\tlabels = arr.map(slices, function(x){\n\t\t\t\t\t\treturn x > 0 ? this._getLabel(x * 100) + \"%\" : \"\";\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfilteredRun = df.map(run, \"x ? Math.max(x.y, 0) : 0\");\n\t\t\t\tif(!filteredRun.length || df.every(filteredRun, \"<= 0\")){\n\t\t\t\t\tnoDataFunc();\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tslices = df.map(filteredRun, \"/this\", df.foldl(filteredRun, \"+\", 0));\n\t\t\t\tif(this.opt.labels){\n\t\t\t\t\tlabels = arr.map(slices, function(x, i){\n\t\t\t\t\t\tif(x < 0){ return \"\"; }\n\t\t\t\t\t\tvar v = run[i];\n\t\t\t\t\t\treturn v.hasOwnProperty(\"text\") ? v.text : this._getLabel(x * 100) + \"%\";\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar themes = df.map(run, function(v){\n\t\t\t\tvar tMixin = [this.opt, this.run];\n\t\t\t\tif(v !== null && typeof v != \"number\"){\n\t\t\t\t\ttMixin.push(v);\n\t\t\t\t}\n\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\ttMixin.push(this.opt.styleFunc(v));\n\t\t\t\t}\n\t\t\t\treturn t.next(\"slice\", tMixin, true);\n\t\t\t}, this);\n\n\t\t\tif(this.opt.labels) {\n\t\t\t\tshift = df.foldl1(df.map(labels, function(label, i){\n\t\t\t\t\tvar font = themes[i].series.font;\n\t\t\t\t\treturn g._base._getTextBox(label, {font: font}).w;\n\t\t\t\t}, this), \"Math.max(a, b)\") / 2;\n\n\t\t\t\tif(this.opt.labelOffset < 0){\n\t\t\t\t\tr = Math.min(rx - 2 * shift, ry - size) + this.opt.labelOffset;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(this.opt.hasOwnProperty(\"radius\")){\n\t\t\t\tr = this.opt.radius < r * 0.9 ? this.opt.radius : r * 0.9;\n\t\t\t}\n\n\t\t\tif (!this.opt.radius && this.opt.labels && this.opt.labelStyle == \"columns\") {\n\t\t\t\tr = r / 2;\n\t\t\t\tif (rx > ry && rx > r * 2) {\n\t\t\t\t\tr *= rx / (r * 2);\n\t\t\t\t}\n\t\t\t\tif (r >= ry * 0.8) {\n\t\t\t\t\tr = ry * 0.8;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (r >= ry * 0.9) {\n\t\t\t\t\tr = ry * 0.9;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlabelR = r - this.opt.labelOffset;\n\n\t\t\tvar circle = {\n\t\t\t\t\tcx: offsets.l + rx,\n\t\t\t\t\tcy: offsets.t + ry,\n\t\t\t\t\tr:  r\n\t\t\t\t};\n\n\t\t\tthis.dyn = [];\n\t\t\t// draw slices\n\t\t\tvar eventSeries = new Array(slices.length);\n\n\t\t\t// Calulate primarily size for each slice\n\t\t\tvar slicesSteps = [], localStart = start;\n\t\t\tvar minWidth = this.opt.minWidth;\n\t\t\tarr.forEach(slices, function(slice, i){\n\t\t\t\tif(slice === 0){\n\t\t\t\t\tslicesSteps[i] = {\n\t\t\t\t\t\tstep: 0,\n\t\t\t\t\t\tend: localStart,\n\t\t\t\t\t\tstart: localStart,\n\t\t\t\t\t\tweak: false\n\t\t\t\t\t};\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar end = localStart + slice * 2 * Math.PI;\n\t\t\t\tif(i === slices.length - 1){\n\t\t\t\t\tend = startAngle + 2 * Math.PI;\n\t\t\t\t}\n\t\t\t\tvar step = end - localStart,\n\t\t\t\t\tdist = step * r;\n\t\t\t\tslicesSteps[i] = {\n\t\t\t\t\tstep:  step,\n\t\t\t\t\tstart: localStart,\n\t\t\t\t\tend:   end,\n\t\t\t\t\tweak: dist < minWidth\n\t\t\t\t};\n\t\t\t\tlocalStart = end;\n\t\t\t});\n\n\t\t\tif(minWidth > 0){\n\t\t\t\tvar weakCount = 0, weakCoef = minWidth / r, oldWeakCoefSum = 0, i;\n\t\t\t\tfor(i = slicesSteps.length - 1; i >= 0; i--){\n\t\t\t\t\tif(slicesSteps[i].weak){\n\t\t\t\t\t\t++weakCount;\n\t\t\t\t\t\toldWeakCoefSum += slicesSteps[i].step;\n\t\t\t\t\t\tslicesSteps[i].step = weakCoef;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// make sure that our steps are small enough\n\t\t\t\tvar weakCoefSum = weakCount * weakCoef;\n\t\t\t\tif(weakCoefSum > Math.PI){\n\t\t\t\t\tweakCoef = Math.PI / weakCount;\n\t\t\t\t\tfor(i = 0; i < slicesSteps.length; ++i){\n\t\t\t\t\t\tif(slicesSteps[i].weak){\n\t\t\t\t\t\t\tslicesSteps[i].step = weakCoef;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tweakCoefSum = Math.PI;\n\t\t\t\t}\n\t\t\t\t// now let's redistribute percentage\n\t\t\t\tif(weakCount > 0){\n\t\t\t\t\tweakCoef = 1 - (weakCoefSum - oldWeakCoefSum) / 2 / Math.PI;\n\t\t\t\t\tfor(i = 0; i < slicesSteps.length; ++i){\n\t\t\t\t\t\tif(!slicesSteps[i].weak){\n\t\t\t\t\t\t\tslicesSteps[i].step = weakCoef * slicesSteps[i].step;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// now let's update start and end values\n\t\t\t\tfor(i = 0; i < slicesSteps.length; ++i){\n\t\t\t\t\tslicesSteps[i].start = i ? slicesSteps[i].end : localStart;\n\t\t\t\t\tslicesSteps[i].end = slicesSteps[i].start + slicesSteps[i].step;\n\t\t\t\t}\n\t\t\t\t// let's make sure that our last end is exactly 2 * Math.PI\n\t\t\t\tfor(i = slicesSteps.length - 1; i >= 0; --i){\n\t\t\t\t\tif(slicesSteps[i].step !== 0){\n\t\t\t\t\t\tslicesSteps[i].end = localStart + 2 * Math.PI;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlocalStart = start;\n\t\t\tvar o, specialFill;\n\t\t\tarr.some(slices, function(slice, i){\n\t\t\t\tvar shape;\n\t\t\t\tvar v = run[i], theme = themes[i];\n\n\t\t\t\tif(slice >= 1){\n\t\t\t\t\t// whole pie\n\t\t\t\t\tspecialFill = this._plotFill(theme.series.fill, dim, offsets);\n\t\t\t\t\tspecialFill = this._shapeFill(specialFill,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: circle.cx - circle.r, y: circle.cy - circle.r,\n\t\t\t\t\t\t\twidth: 2 * circle.r, height: 2 * circle.r\n\t\t\t\t\t\t});\n\t\t\t\t\tspecialFill = this._pseudoRadialFill(specialFill, {x: circle.cx, y: circle.cy}, circle.r);\n\t\t\t\t\tshape = this._createRing(s, circle).setFill(specialFill).setStroke(theme.series.stroke);\n\t\t\t\t\tthis.dyn.push({fill: specialFill, stroke: theme.series.stroke});\n\n\t\t\t\t\tif(events){\n\t\t\t\t\t\to = {\n\t\t\t\t\t\t\telement: \"slice\",\n\t\t\t\t\t\t\tindex:   i,\n\t\t\t\t\t\t\trun:     this.run,\n\t\t\t\t\t\t\tshape:   shape,\n\t\t\t\t\t\t\tx:       i,\n\t\t\t\t\t\t\ty:       typeof v == \"number\" ? v : v.y,\n\t\t\t\t\t\t\tcx:      circle.cx,\n\t\t\t\t\t\t\tcy:      circle.cy,\n\t\t\t\t\t\t\tcr:      r\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\teventSeries[i] = o;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar k;\n\t\t\t\t\tfor(k = i + 1; k < slices.length; k++){\n\t\t\t\t\t\ttheme = themes[k];\n\t\t\t\t\t\tthis.dyn.push({fill: theme.series.fill, stroke: theme.series.stroke});\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\t// stop iteration\n\t\t\t\t}\n\n\t\t\t\tif(slicesSteps[i].step === 0){\n\t\t\t\t\t// degenerated slice\n\t\t\t\t\t// But we still want a fill since this will be skipped and we need the fill\n\t\t\t\t\t// for the label.\n\t\t\t\t\tthis.dyn.push({fill: theme.series.fill, stroke: theme.series.stroke});\n\t\t\t\t\treturn false;\t// continue\n\t\t\t\t}\n\n\t\t\t\t// calculate the geometry of the slice\n\t\t\t\tvar step = slicesSteps[i].step,\n\t\t\t\t\tx1 = circle.cx + r * Math.cos(localStart),\n\t\t\t\t\ty1 = circle.cy + r * Math.sin(localStart),\n\t\t\t\t\tx2 = circle.cx + r * Math.cos(localStart + step),\n\t\t\t\t\ty2 = circle.cy + r * Math.sin(localStart + step);\n\t\t\t\t// draw the slice\n\t\t\t\tvar fanSize = m._degToRad(this.opt.fanSize), stroke;\n\t\t\t\tif(theme.series.fill && theme.series.fill.type === \"radial\" && this.opt.radGrad === \"fan\" && step > fanSize){\n\t\t\t\t\tvar group = s.createGroup(), nfans = Math.ceil(step / fanSize), delta = step / nfans;\n\t\t\t\t\tspecialFill = this._shapeFill(theme.series.fill,\n\t\t\t\t\t\t{x: circle.cx - circle.r, y: circle.cy - circle.r, width: 2 * circle.r, height: 2 * circle.r});\n\t\t\t\t\tvar j, alpha, beta, fansx, fansy, fanex, faney;\n\t\t\t\t\tfor(j = 0; j < nfans; ++j){\n\t\t\t\t\t\talpha = localStart + (j - FUDGE_FACTOR) * delta;\n\t\t\t\t\t\tbeta  = localStart + (j + 1 + FUDGE_FACTOR) * delta;\n\t\t\t\t\t\tfansx = j == 0 ? x1 : circle.cx + r * Math.cos(alpha);\n\t\t\t\t\t\tfansy = j == 0 ? y1 : circle.cy + r * Math.sin(alpha);\n\t\t\t\t\t\tfanex = j == nfans - 1 ? x2 : circle.cx + r * Math.cos(beta);\n\t\t\t\t\t\tfaney = j == nfans - 1 ? y2 : circle.cy + r * Math.sin(beta);\n\t\t\t\t\t\tthis._createSlice(group, circle, r, fansx, fansy, fanex, faney, alpha, delta).\n\t\t\t\t\t\t\tsetFill(this._pseudoRadialFill(specialFill, {x: circle.cx, y: circle.cy}, r,\n\t\t\t\t\t\t\t\tlocalStart + (j + 0.5) * delta, localStart + (j + 0.5) * delta));\n\t\t\t\t\t}\n\t\t\t\t\tstroke = theme.series.stroke;\n\t\t\t\t\tthis._createSlice(group, circle, r, x1, y1, x2, y2, localStart, step).setStroke(stroke);\n\t\t\t\t\tshape = group;\n\t\t\t\t}else{\n\t\t\t\t\tstroke = theme.series.stroke;\n\n\t\t\t\t\tshape = this._createSlice(s, circle, r, x1, y1, x2, y2, localStart, step).setStroke(stroke);\n\n\t\t\t\t\tspecialFill = theme.series.fill;\n\t\t\t\t\tif(specialFill && specialFill.type === \"radial\"){\n\t\t\t\t\t\tspecialFill = this._shapeFill(specialFill, {x: circle.cx - circle.r, y: circle.cy - circle.r, width: 2 * circle.r, height: 2 * circle.r});\n\t\t\t\t\t\tif(this.opt.radGrad === \"linear\"){\n\t\t\t\t\t\t\tspecialFill = this._pseudoRadialFill(specialFill, {x: circle.cx, y: circle.cy}, r, localStart, localStart + step);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(specialFill && specialFill.type === \"linear\"){\n\t\t\t\t\t\tvar bbox = lang.clone(shape.getBoundingBox());\n\t\t\t\t\t\tif(g.renderer === \"svg\"){\n\t\t\t\t\t\t\t// Try to fix the bounding box calculations for\n\t\t\t\t\t\t\t// height.  Only really works for SVG.\n\t\t\t\t\t\t\tvar pos = {w: 0, h: 0};\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tpos = domGeom.position(shape.rawNode);\n\t\t\t\t\t\t\t}catch(ignore){}\n\t\t\t\t\t\t\tif(pos.h > bbox.height){\n\t\t\t\t\t\t\t\tbbox.height = pos.h;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(pos.w > bbox.width){\n\t\t\t\t\t\t\t\tbbox.width = pos.w;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tspecialFill = this._plotFill(specialFill, dim, offsets);\n\t\t\t\t\t\tspecialFill = this._shapeFill(specialFill, bbox);\n\t\t\t\t\t}\n\t\t\t\t\tshape.setFill(specialFill);\n\t\t\t\t}\n\t\t\t\tthis.dyn.push({fill: specialFill, stroke: theme.series.stroke});\n\n\t\t\t\tif(events){\n\t\t\t\t\to = {\n\t\t\t\t\t\telement: \"slice\",\n\t\t\t\t\t\tindex:   i,\n\t\t\t\t\t\trun:     this.run,\n\t\t\t\t\t\tshape:   shape,\n\t\t\t\t\t\tx:       i,\n\t\t\t\t\t\ty:       typeof v == \"number\" ? v : v.y,\n\t\t\t\t\t\tcx:      circle.cx,\n\t\t\t\t\t\tcy:      circle.cy,\n\t\t\t\t\t\tcr:      r\n\t\t\t\t\t};\n\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\teventSeries[i] = o;\n\t\t\t\t}\n\n\t\t\t\tlocalStart = localStart + step;\n\n\t\t\t\treturn false;\t// continue\n\t\t\t}, this);\n\t\t\t// draw labels\n\t\t\tif(this.opt.labels){\n\t\t\t\tvar isRtl = has(\"dojo-bidi\") && this.chart.isRightToLeft();\n\t\t\t\tif(this.opt.labelStyle == \"default\"){\n\t\t\t\t\tstart = startAngle;\n\t\t\t\t\tlocalStart = start;\n\t\t\t\t\tarr.some(slices, function(slice, i){\n\t\t\t\t\t\tif(slice <= 0 && !this.opt.minWidth){\n\t\t\t\t\t\t\t// degenerated slice\n\t\t\t\t\t\t\treturn false;\t// continue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar theme = themes[i];\n\t\t\t\t\t\tif(slice >= 1){\n\t\t\t\t\t\t\t// whole pie\n\t\t\t\t\t\t\tthis.renderLabel(s, circle.cx, circle.cy + size / 2, labels[i], theme, this.opt.labelOffset > 0);\n\t\t\t\t\t\t\treturn true;\t// stop iteration\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// calculate the geometry of the slice\n\t\t\t\t\t\tvar end = start + slice * 2 * Math.PI;\n\t\t\t\t\t\tif(i + 1 == slices.length){\n\t\t\t\t\t\t\tend = startAngle + 2 * Math.PI;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(this.opt.omitLabels && end-start < 0.001){\n\t\t\t\t\t\t\treturn false;\t// continue\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar labelAngle = localStart + (slicesSteps[i].step / 2),//(start + end) / 2,\n\t\t\t\t\t\t\tx = circle.cx + labelR * Math.cos(labelAngle),\n\t\t\t\t\t\t\ty = circle.cy + labelR * Math.sin(labelAngle) + size / 2;\n\t\t\t\t\t\t// draw the label\n\t\t\t\t\t\tthis.renderLabel(s, isRtl ? dim.width - x : x, y, labels[i], theme, this.opt.labelOffset > 0);\n\t\t\t\t\t\tlocalStart += slicesSteps[i].step;\n\t\t\t\t\t\tstart = end;\n\t\t\t\t\t\treturn false;\t// continue\n\t\t\t\t\t}, this);\n\t\t\t\t}else if(this.opt.labelStyle == \"columns\"){\n\t\t\t\t\t//calculate label angles\n\t\t\t\t\tvar omitLabels = this.opt.omitLabels;\n\t\t\t\t\tstart = startAngle;\n\t\t\t\t\tlocalStart = start;\n\t\t\t\t\tvar labeledSlices = [],\n\t\t\t\t\t\tsignificantCount = 0, k;\n\t\t\t\t\tfor(k = slices.length - 1; k >= 0; --k){\n\t\t\t\t\t\tif(slices[k]){\n\t\t\t\t\t\t\t++significantCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tarr.forEach(slices, function(slice, i){\n\t\t\t\t\t\tvar end = start + slice * 2 * Math.PI;\n\t\t\t\t\t\tif(i + 1 == slices.length){\n\t\t\t\t\t\t\tend = startAngle + 2 * Math.PI;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.minWidth !== 0 || end - start >= 0.001){\n\t\t\t\t\t\t\t// var labelAngle = (start + end) / 2;\n\t\t\t\t\t\t\tvar labelAngle = localStart + (slicesSteps[i].step / 2);//(start + end) / 2,\n\t\t\t\t\t\t\tif(significantCount === 1 && !this.opt.minWidth){\n\t\t\t\t\t\t\t\tlabelAngle = (start + end) / 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabeledSlices.push({\n\t\t\t\t\t\t\t\tangle: labelAngle,\n\t\t\t\t\t\t\t\tleft:  Math.cos(labelAngle) < 0,\n\t\t\t\t\t\t\t\ttheme: themes[i],\n\t\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\t\tomit: omitLabels? end - start < 0.001:false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart = end;\n\t\t\t\t\t\tlocalStart += slicesSteps[i].step;\n\t\t\t\t\t}, this);\n\n\t\t\t\t\t//calculate label radius to each slice\n\t\t\t\t\tvar labelHeight = g._base._getTextBox(\"a\", {font:taFont, whiteSpace: \"nowrap\"}).h;\n\t\t\t\t\tthis._getProperLabelRadius(labeledSlices, labelHeight, circle.r * 1.1);\n\n\t\t\t\t\t//draw label and wiring\n\t\t\t\t\tvar leftColumn  = circle.cx - circle.r * 2,\n\t\t\t\t\t\trightColumn = circle.cx + circle.r * 2;\n\t\t\t\t\tarr.forEach(labeledSlices, function(slice){\n\t\t\t\t\t\tif(slice.omit){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar cTheme = themes[slice.index], lrPadding = 0;\n\t\t\t\t\t\tif(cTheme && cTheme.axis && cTheme.axis.tick && cTheme.axis.tick.labelGap){\n\t\t\t\t\t\t\t// Try to pad the lable a bit, the same as a tick gap.\n\t\t\t\t\t\t\tlrPadding = cTheme.axis.tick.labelGap;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar labelWidth = g._base._getTextBox(labels[slice.index],\n\t\t\t\t\t\t\t\t{font: cTheme.series.font, whiteSpace: \"nowrap\", paddingLeft: lrPadding + \"px\"}).w,\n\t\t\t\t\t\t\tx = circle.cx + slice.labelR * Math.cos(slice.angle),\n\t\t\t\t\t\t\ty = circle.cy + slice.labelR * Math.sin(slice.angle),\n\t\t\t\t\t\t\tjointX = (slice.left) ? (leftColumn + labelWidth) : (rightColumn - labelWidth),\n\t\t\t\t\t\t\tlabelX = (slice.left) ? leftColumn : jointX + lrPadding,\n\t\t\t\t\t\t\tnewRadius = circle.r,\n\t\t\t\t\t\t\twiring = s.createPath().moveTo(circle.cx + newRadius * Math.cos(slice.angle),\n\t\t\t\t\t\t\t\tcircle.cy + newRadius * Math.sin(slice.angle));\n\t\t\t\t\t\tif(Math.abs(slice.labelR * Math.cos(slice.angle)) < circle.r * 2 - labelWidth){\n\t\t\t\t\t\t\twiring.lineTo(x, y);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twiring.lineTo(jointX, y).setStroke(slice.theme.series.labelWiring);\n\t\t\t\t\t\t// Push the wiring to the back so that highlight/magnify actions don't bleed the wire.\n\t\t\t\t\t\twiring.moveToBack();\n\t\t\t\t\t\t// Try to adjust the wiring position here.  The browser always adds a bit\n\t\t\t\t\t\t// of padding on height, so divide by 3 instead of 2.\n\t\t\t\t\t\tvar mid = labelHeight/3 + y;\n\t\t\t\t\t\tvar elem = this.renderLabel(s, labelX, mid || 0, labels[slice.index], cTheme, false, \"left\");\n\n\t\t\t\t\t\tif(events && !this.opt.htmlLabels){\n\t\t\t\t\t\t\tvar fontWidth  = g._base._getTextBox(labels[slice.index], {font: slice.theme.series.font}).w || 0,\n\t\t\t\t\t\t\t\tfontHeight = g.normalizedLength(g.splitFontString(slice.theme.series.font).size);\n\t\t\t\t\t\t\to = {\n\t\t\t\t\t\t\t\telement: \"labels\",\n\t\t\t\t\t\t\t\tindex:   slice.index,\n\t\t\t\t\t\t\t\trun:     this.run,\n\t\t\t\t\t\t\t\tshape:   elem,\n\t\t\t\t\t\t\t\tx:       labelX,\n\t\t\t\t\t\t\t\ty:       y,\n\t\t\t\t\t\t\t\tlabel:   labels[slice.index]\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tvar shp = elem.getShape(),\n\t\t\t\t\t\t\t\tlt = domGeom.position(this.chart.node, true),\n\t\t\t\t\t\t\t\taroundRect = lang.mixin({ type : 'rect' }, {\n\t\t\t\t\t\t\t\t\tx: shp.x,\n\t\t\t\t\t\t\t\t\ty: shp.y - 2 * fontHeight\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\taroundRect.x += lt.x;\n\t\t\t\t\t\t\taroundRect.y += lt.y;\n\t\t\t\t\t\t\taroundRect.x = Math.round(aroundRect.x);\n\t\t\t\t\t\t\taroundRect.y = Math.round(aroundRect.y);\n\t\t\t\t\t\t\taroundRect.width  = Math.ceil(fontWidth);\n\t\t\t\t\t\t\taroundRect.height = Math.ceil(fontHeight);\n\n\t\t\t\t\t\t\to.aroundRect = aroundRect;\n\n\t\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\t\teventSeries[slices.length + slice.index] = o;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// post-process events to restore the original indexing\n\t\t\tvar esi = 0;\n\t\t\tthis._eventSeries[this.run.name] = df.map(run, function(v){\n\t\t\t\treturn v <= 0 ? null : eventSeries[esi++];\n\t\t\t});\n\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Pie\n\t\t},\n\n\t\t_getProperLabelRadius: function(slices, labelHeight, minRadius){\n\t\t\tif(slices.length == 1){\n\t\t\t\tslices[0].labelR = minRadius;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar leftCenterSlice = {}, rightCenterSlice = {}, leftMinSIN = 2, rightMinSIN = 2, i;\n\t\t\tvar tempSIN;\n\t\t\tfor(i = 0; i < slices.length; ++i){\n\t\t\t\ttempSIN = Math.abs(Math.sin(slices[i].angle));\n\t\t\t\tif(slices[i].left){\n\t\t\t\t\tif(leftMinSIN > tempSIN){\n\t\t\t\t\t\tleftMinSIN = tempSIN;\n\t\t\t\t\t\tleftCenterSlice = slices[i];\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(rightMinSIN > tempSIN){\n\t\t\t\t\t\trightMinSIN = tempSIN;\n\t\t\t\t\t\trightCenterSlice = slices[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tleftCenterSlice.labelR = rightCenterSlice.labelR = minRadius;\n\t\t\tthis._caculateLabelR(leftCenterSlice,  slices, labelHeight);\n\t\t\tthis._caculateLabelR(rightCenterSlice, slices, labelHeight);\n\t\t},\n\n\t\t_caculateLabelR: function(firstSlice, slices, labelHeight){\n\t\t\tvar i, j, k, length = slices.length, currentLabelR = firstSlice.labelR, nextLabelR,\n\t\t\t\tstep = slices[firstSlice.index].left ? -labelHeight : labelHeight;\n\t\t\tfor(k = 0, i = firstSlice.index, j = (i + 1) % length; k < length && slices[i].left === slices[j].left; ++k){\n\t\t\t\tnextLabelR = (Math.sin(slices[i].angle) * currentLabelR + step) / Math.sin(slices[j].angle);\n\t\t\t\tcurrentLabelR = Math.max(firstSlice.labelR, nextLabelR);\n\t\t\t\tslices[j].labelR = currentLabelR;\n\t\t\t\ti = (i + 1) % length;\n\t\t\t\tj = (j + 1) % length;\n\t\t\t}\n\t\t\tif(k >= length){\n\t\t\t\tslices[0].labelR = firstSlice.labelR;\n\t\t\t}\n\t\t\tfor(k = 0, i = firstSlice.index, j = (i || length) - 1; k < length && slices[i].left === slices[j].left; ++k){\n\t\t\t\tnextLabelR = (Math.sin(slices[i].angle) * currentLabelR - step) / Math.sin(slices[j].angle);\n\t\t\t\tcurrentLabelR = Math.max(firstSlice.labelR, nextLabelR);\n\t\t\t\tslices[j].labelR = currentLabelR;\n\t\t\t\ti = (i || length) - 1;\n\t\t\t\tj = (j || length) - 1;\n\t\t\t}\n\t\t},\n\n\t\t_createRing: function(group, circle){\n\t\t\tvar r = this.opt.innerRadius;\n\t\t\tif(r > 0){\n\t\t\t\t// Percentage, use circle.  Anything < 0 for innerRadius\n\t\t\t\t// is assumed to be a multiple of the radius.  So 0.25 innerRadius value\n\t\t\t\t// is computed to be 25% of the outer radius.\n\t\t\t\tr = circle.r * (r/100);\n\t\t\t}else if(r < 0){\n\t\t\t\tr = -r; // Assume it is pixels, fixed size hole.\n\t\t\t}\n\t\t\tif(r){\n\t\t\t\treturn group.createPath({}).setAbsoluteMode(true).\n\t\t\t\t\tmoveTo(circle.cx, circle.cy - circle.r).\n\t\t\t\t\tarcTo(circle.r, circle.r, 0, false, true, circle.cx + circle.r, circle.cy).\n\t\t\t\t\tarcTo(circle.r, circle.r, 0,  true, true, circle.cx, circle.cy - circle.r).\n\t\t\t\t\tclosePath().\n\t\t\t\t\tmoveTo(circle.cx, circle.cy - r).\n\t\t\t\t\tarcTo(r, r, 0, false, true, circle.cx + r, circle.cy).\n\t\t\t\t\tarcTo(r, r, 0,  true, true, circle.cx, circle.cy - r).\n\t\t\t\t\tclosePath();\n\t\t\t}\n\t\t\treturn group.createCircle(circle);\n\t\t},\n\t\t_createSlice: function(group, circle, R, x1, y1, x2, y2, fromAngle, stepAngle){\n\t\t\tvar r = this.opt.innerRadius;\n\t\t\tif(r > 0){\n\t\t\t\t// Percentage, use circle.  Anything < 0 for innerRadius\n\t\t\t\t// is assumed to be a multiple of the radius.  So 0.25 innerRadius value\n\t\t\t\t// is computed to be 25% of the outer radius.\n\t\t\t\tr = circle.r * (r/100);\n\t\t\t}else if(r < 0){\n\t\t\t\tr = -r; // Assume it is pixels, fixed size hole.\n\t\t\t}\n\t\t\tif(r){\n\t\t\t\tvar innerX1 = circle.cx + r * Math.cos(fromAngle),\n\t\t\t\t\tinnerY1 = circle.cy + r * Math.sin(fromAngle),\n\t\t\t\t\tinnerX2 = circle.cx + r * Math.cos(fromAngle + stepAngle),\n\t\t\t\t\tinnerY2 = circle.cy + r * Math.sin(fromAngle + stepAngle);\n\t\t\t\treturn group.createPath({}).setAbsoluteMode(true).\n\t\t\t\t\tmoveTo(innerX1, innerY1).\n\t\t\t\t\tlineTo(x1, y1).\n\t\t\t\t\tarcTo(R, R, 0, stepAngle > Math.PI, true, x2, y2).\n\t\t\t\t\tlineTo(innerX2, innerY2).\n\t\t\t\t\tarcTo(r, r, 0, stepAngle > Math.PI, false, innerX1, innerY1).\n\t\t\t\t\tclosePath();\n\t\t\t}\n\t\t\treturn group.createPath({}).setAbsoluteMode(true).\n\t\t\t\tmoveTo(circle.cx, circle.cy).\n\t\t\t\tlineTo(x1, y1).\n\t\t\t\tarcTo(R, R, 0, stepAngle > Math.PI, true, x2, y2).\n\t\t\t\tlineTo(circle.cx, circle.cy).\n\t\t\t\tclosePath();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/has\", \"./CartesianBase\", \"./_PlotEvents\", \"./common\",\n\t\"dojox/lang/functional\", \"dojox/lang/utils\", \"dojox/gfx/fx\", \"dojox/gfx/gradutils\"],\n\tfunction(lang, arr, declare, has, CartesianBase, _PlotEvents, dc, df, du, fx, gradutils){\n\n\treturn declare(\"dojox.charting.plot2d.Scatter\", [CartesianBase, _PlotEvents], {\n\t\t// summary:\n\t\t//\t\tA plot object representing a typical scatter chart.\n\t\tdefaultParams: {\n\t\t\tshadows: null,\t// draw shadows\n\t\t\tanimate: null\t// animate chart to place\n\t\t},\n\t\toptionalParams: {\n\t\t\t// theme component\n\t\t\tmarkerStroke:\t\t{},\n\t\t\tmarkerOutline:\t\t{},\n\t\t\tmarkerShadow:\t\t{},\n\t\t\tmarkerFill:\t\t\t{},\n\t\t\tmarkerFont:\t\t\t\"\",\n\t\t\tmarkerFontColor:\t\"\",\n\t\t\tstyleFunc:\t\t\tnull\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate the scatter plot.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__DefaultCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define this plot's parameters.\n\t\t\tthis.opt = lang.clone(lang.mixin(this.opt, this.defaultParams));\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.animate = this.opt.animate;\n\t\t},\n\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRun the calculations for any axes for this plot.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object in the form of { width, height }\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b}.\n\t\t\t// returns: dojox/charting/plot2d/Scatter\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(this.zoom && !this.isDataDirty()){\n\t\t\t\treturn this.performZoom(dim, offsets);\n\t\t\t}\n\t\t\tthis.resetEvents();\n\t\t\tthis.dirty = this.isDirty();\n\t\t\tvar s;\n\t\t\tif(this.dirty){\n\t\t\t\tarr.forEach(this.series, dc.purgeGroup);\n\t\t\t\tthis._eventSeries = {};\n\t\t\t\tthis.cleanGroup();\n\t\t\t\ts = this.getGroup();\n\t\t\t\tdf.forEachRev(this.series, function(item){ item.cleanGroup(s); });\n\t\t\t}\n\t\t\tvar t = this.chart.theme, events = this.events();\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tvar run = this.series[i];\n\t\t\t\tif(!this.dirty && !run.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tthis._reconnectEvents(run.name);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trun.cleanGroup();\n\t\t\t\tif(!run.data.length){\n\t\t\t\t\trun.dirty = false;\n\t\t\t\t\tt.skip();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar theme = t.next(\"marker\", [this.opt, run]), lpoly,\n\t\t\t\t\tht = this._hScaler.scaler.getTransformerFromModel(this._hScaler),\n\t\t\t\t\tvt = this._vScaler.scaler.getTransformerFromModel(this._vScaler);\n\t\t\t\tif(run.hidden){\n\t\t\t\t\trun.dyn.marker = theme.symbol;\n\t\t\t\t\trun.dyn.markerFill = theme.marker.fill;\n\t\t\t\t\trun.dyn.markerStroke = theme.marker.stroke;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ts = run.group;\n\t\t\t\tif(typeof run.data[0] == \"number\"){\n\t\t\t\t\tlpoly = arr.map(run.data, function(v, i){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tx: ht(i + 1) + offsets.l,\n\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(v)\n\t\t\t\t\t\t};\n\t\t\t\t\t}, this);\n\t\t\t\t}else{\n\t\t\t\t\tlpoly = arr.map(run.data, function(v, i){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tx: ht(v.x) + offsets.l,\n\t\t\t\t\t\t\ty: dim.height - offsets.b - vt(v.y)\n\t\t\t\t\t\t};\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\n\t\t\t\tvar shadowMarkers  = new Array(lpoly.length),\n\t\t\t\t\tfrontMarkers   = new Array(lpoly.length),\n\t\t\t\t\toutlineMarkers = new Array(lpoly.length);\n\n\t\t\t\tarr.forEach(lpoly, function(c, i){\n\t\t\t\t\tvar value = run.data[i], finalTheme;\n\t\t\t\t\tif(this.opt.styleFunc || typeof value != \"number\"){\n\t\t\t\t\t\tvar tMixin = typeof value != \"number\" ? [value] : [];\n\t\t\t\t\t\tif(this.opt.styleFunc){\n\t\t\t\t\t\t\ttMixin.push(this.opt.styleFunc(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfinalTheme = t.addMixin(theme, \"marker\", tMixin, true);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tfinalTheme = t.post(theme, \"marker\");\n\t\t\t\t\t}\n\t\t\t\t\tvar path = \"M\" + c.x + \" \" + c.y + \" \" + finalTheme.symbol;\n\t\t\t\t\tif(finalTheme.marker.shadow){\n\t\t\t\t\t\tshadowMarkers[i] = s.createPath(\"M\" + (c.x + finalTheme.marker.shadow.dx) + \" \" +\n\t\t\t\t\t\t\t(c.y + finalTheme.marker.shadow.dy) + \" \" + finalTheme.symbol).\n\t\t\t\t\t\t\tsetStroke(finalTheme.marker.shadow).setFill(finalTheme.marker.shadow.color);\n\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\tthis._animateScatter(shadowMarkers[i], dim.height - offsets.b);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(finalTheme.marker.outline){\n\t\t\t\t\t\tvar outline = dc.makeStroke(finalTheme.marker.outline);\n\t\t\t\t\t\toutline.width = 2 * outline.width + (finalTheme.marker.stroke && finalTheme.marker.stroke.width || 0);\n\t\t\t\t\t\toutlineMarkers[i] = s.createPath(path).setStroke(outline);\n\t\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\t\tthis._animateScatter(outlineMarkers[i], dim.height - offsets.b);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar stroke = dc.makeStroke(finalTheme.marker.stroke),\n\t\t\t\t\t\tfill = this._plotFill(finalTheme.marker.fill, dim, offsets);\n\t\t\t\t\tif(fill && (fill.type === \"linear\" || fill.type == \"radial\")){\n\t\t\t\t\t\tvar color = gradutils.getColor(fill, {x: c.x, y: c.y});\n\t\t\t\t\t\tif(stroke){\n\t\t\t\t\t\t\tstroke.color = color;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfrontMarkers[i] = s.createPath(path).setStroke(stroke).setFill(color);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tfrontMarkers[i] = s.createPath(path).setStroke(stroke).setFill(fill);\n\t\t\t\t\t}\n\t\t\t\t\tif(this.opt.labels){\n\t\t\t\t\t\tvar markerBox = frontMarkers[i].getBoundingBox();\n\t\t\t\t\t\tthis.createLabel(s, value, markerBox, finalTheme);\n\t\t\t\t\t}\n\t\t\t\t\tif(this.animate){\n\t\t\t\t\t\tthis._animateScatter(frontMarkers[i], dim.height - offsets.b);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t\tif(frontMarkers.length){\n\t\t\t\t\trun.dyn.marker = theme.symbol;\n\t\t\t\t\trun.dyn.markerStroke = frontMarkers[frontMarkers.length - 1].getStroke();\n\t\t\t\t\trun.dyn.markerFill   = frontMarkers[frontMarkers.length - 1].getFill();\n\t\t\t\t}\n\n\t\t\t\tif(events){\n\t\t\t\t\tvar eventSeries = new Array(frontMarkers.length);\n\t\t\t\t\tarr.forEach(frontMarkers, function(s, i){\n\t\t\t\t\t\tvar o = {\n\t\t\t\t\t\t\telement: \"marker\",\n\t\t\t\t\t\t\tindex:   i,\n\t\t\t\t\t\t\trun:     run,\n\t\t\t\t\t\t\tshape:   s,\n\t\t\t\t\t\t\toutline: outlineMarkers && outlineMarkers[i] || null,\n\t\t\t\t\t\t\tshadow:  shadowMarkers && shadowMarkers[i] || null,\n\t\t\t\t\t\t\tcx:      lpoly[i].x,\n\t\t\t\t\t\t\tcy:      lpoly[i].y\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif(typeof run.data[0] == \"number\"){\n\t\t\t\t\t\t\to.x = i + 1;\n\t\t\t\t\t\t\to.y = run.data[i];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\to.x = run.data[i].x;\n\t\t\t\t\t\t\to.y = run.data[i].y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._connectEvents(o);\n\t\t\t\t\t\teventSeries[i] = o;\n\t\t\t\t\t}, this);\n\t\t\t\t\tthis._eventSeries[run.name] = eventSeries;\n\t\t\t\t}else{\n\t\t\t\t\tdelete this._eventSeries[run.name];\n\t\t\t\t}\n\t\t\t\trun.dirty = false;\n\t\t\t}\n\t\t\tthis.dirty = false;\n\t\t\t// chart mirroring starts\n\t\t\tif(has(\"dojo-bidi\")){\n\t\t\t\tthis._checkOrientation(this.group, dim, offsets);\n\t\t\t}\n\t\t\t// chart mirroring ends\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Scatter\n\t\t},\n\t\t_animateScatter: function(shape, offset){\n\t\t\tfx.animateTransform(lang.delegate({\n\t\t\t\tshape: shape,\n\t\t\t\tduration: 1200,\n\t\t\t\ttransform: [\n\t\t\t\t\t{name: \"translate\", start: [0, offset], end: [0, 0]},\n\t\t\t\t\t{name: \"scale\", start: [0, 0], end: [1, 1]},\n\t\t\t\t\t{name: \"original\"}\n\t\t\t\t]\n\t\t\t}, this.animate)).play();\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/connect\", \"dojo/_base/array\",\n\t\"dojo/dom-geometry\", \"dojo/_base/fx\", \"dojo/fx\", \"dojo/sniff\",\n\t\"./Base\", \"./_PlotEvents\", \"./common\", \"../axis2d/common\",\n\t\"dojox/gfx\", \"dojox/gfx/matrix\", \"dojox/gfx/fx\", \"dojox/lang/functional\",\n\t\"dojox/lang/utils\", \"dojo/fx/easing\"],\n\tfunction(lang, declare, hub, arr, domGeom, baseFx, coreFx, has,\n\t\t\tBase, PlotEvents, dc, da, g, m, gfxfx, df, du, easing){\n\n\tvar FUDGE_FACTOR = 0.2; // use to overlap fans\n\n\tvar Spider = declare(\"dojox.charting.plot2d.Spider\", [Base, PlotEvents], {\n\t\t// summary:\n\t\t//\t\tThe plot that represents a typical Spider chart.\n\t\tdefaultParams: {\n\t\t\tlabels:\t\t\ttrue,\n\t\t\tticks:\t\t\tfalse,\n\t\t\tfixed:\t\t\ttrue,\n\t\t\tprecision:\t\t1,\n\t\t\tlabelOffset:\t-10,\n\t\t\tlabelStyle:\t\t\"default\",\t// default/rows/auto\n\t\t\thtmlLabels:\t\ttrue,\t\t// use HTML to draw labels\n\t\t\tstartAngle:\t\t-90,\t\t// start angle for slices in degrees\n\t\t\tdivisions:\t\t 3,\t\t\t// radius tick count\n\t\t\taxisColor:\t\t \"\",\t\t// spider axis color\n\t\t\taxisWidth:\t\t 0,\t\t\t// spider axis stroke width\n\t\t\tspiderColor:\t \"\",\t\t// spider web color\n\t\t\tspiderWidth:\t 0,\t\t\t// spider web stroke width\n\t\t\tseriesWidth:\t 0,\t\t\t// plot border with\n\t\t\tseriesFillAlpha: 0.2,\t\t// plot fill alpha\n\t\t\tspiderOrigin:\t 0.16,\n\t\t\tmarkerSize:\t\t 3,\t\t\t// radius of plot vertex (px)\n\t\t\tspiderType:\t\t \"polygon\", //\"circle\"\n\t\t\tanimationType:\t easing.backOut,\n\t\t\tanimate: null,\n\t\t\taxisTickFont:\t\t\"\",\n\t\t\taxisTickFontColor:\t\"\",\n\t\t\taxisFont:\t\t\t\"\",\n\t\t\taxisFontColor:\t\t\"\"\n\t\t},\n\t\toptionalParams: {\n\t\t\tradius:\t\t0,\n\t\t\tfont:\t\t\"\",\n\t\t\tfontColor:\t\"\"\n\t\t},\n\n\t\tconstructor: function(chart, kwArgs){\n\t\t\t// summary:\n\t\t\t//\t\tCreate a Spider plot.\n\t\t\t// chart: dojox/charting/Chart\n\t\t\t//\t\tThe chart this plot belongs to.\n\t\t\t// kwArgs: dojox.charting.plot2d.__DefaultCtorArgs?\n\t\t\t//\t\tAn optional keyword arguments object to help define this plot's parameters.\n\t\t\tthis.opt = lang.clone(this.defaultParams);\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\n\t\t\tthis.dyn = [];\n\t\t\tthis.datas = {};\n\t\t\tthis.labelKey = [];\n\t\t\tthis.oldSeriePoints = {};\n\t\t\tthis.animate = this.opt.animate === null ? {} : this.opt.animate;\n\t\t\tthis.animations = {};\n\t\t},\n\t\tclear: function(){\n\t\t\t// summary:\n\t\t\t//\t\tClear out all of the information tied to this plot.\n\t\t\t// returns: dojox/charting/plot2d/Spider\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.inherited(arguments);\n\t\t\tthis.dyn = [];\n\t\t\tthis.axes = [];\n\t\t\tthis.datas = {};\n\t\t\tthis.labelKey = [];\n\t\t\tthis.oldSeriePoints = {};\n\t\t\tthis.animations = {};\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Spider\n\t\t},\n\t\tsetAxis: function(axis){\n\t\t\t// summary:\n\t\t\t//\t\tOptionally set axis min and max property.\n\t\t\t// returns: dojox/charting/plot2d/Spider\n\t\t\t//\t\tThe reference to this plot for functional chaining.\n\n\t\t\t// override the computed min/max with provided values if any\n\t\t\tif(axis){\n\t\t\t\tif(axis.opt.min != undefined){\n\t\t\t\t\tthis.datas[axis.name].min = axis.opt.min;\n\t\t\t\t}\n\t\t\t\tif(axis.opt.max != undefined){\n\t\t\t\t\tthis.datas[axis.name].max = axis.opt.max;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Spider\n\t\t},\n\t\taddSeries: function(run){\n\t\t\t// summary:\n\t\t\t//\t\tAdd a data series to this plot.\n\t\t\t// run: dojox.charting.Series\n\t\t\t//\t\tThe series to be added.\n\t\t\t// returns: dojox/charting/plot2d/Base\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tthis.series.push(run);\n\t\t\tvar key;\n\t\t\tfor(key in run.data){\n\t\t\t\tvar val = run.data[key],\n\t\t\t\t\tdata = this.datas[key];\n\t\t\t\tif(data){\n\t\t\t\t\tdata.vlist.push(val);\n\t\t\t\t\tdata.min = Math.min(data.min, val);\n\t\t\t\t\tdata.max = Math.max(data.max, val);\n\t\t\t\t}else{\n\t\t\t\t\tvar axisKey = \"__\"+key;\n\t\t\t\t\tthis.axes.push(axisKey);\n\t\t\t\t\tthis[axisKey] = key;\n\t\t\t\t\tthis.datas[key] = {min: val, max: val, vlist: [val]};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(this.labelKey.length <= 0){\n\t\t\t\tfor(key in run.data){\n\t\t\t\t\tthis.labelKey.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox.charting.plot2d.Base\n\t\t},\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\treturn dc.collectSimpleStats(this.series, function(v){ return v === null; }); // Object\n\t\t},\n\t\trender: function(dim, offsets){\n\t\t\t// summary:\n\t\t\t//\t\tRender the plot on the chart.\n\t\t\t// dim: Object\n\t\t\t//\t\tAn object of the form { width, height }.\n\t\t\t// offsets: Object\n\t\t\t//\t\tAn object of the form { l, r, t, b }.\n\t\t\t// returns: dojox/charting/plot2d/Spider\n\t\t\t//\t\tA reference to this plot for functional chaining.\n\t\t\tif(!this.dirty){ return this; }\n\t\t\tthis.dirty = false;\n\t\t\tthis.cleanGroup();\n\t\t\tvar s = this.group, t = this.chart.theme;\n\t\t\tthis.resetEvents();\n\n\t\t\tif(!this.series || !this.series.length){\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// calculate the geometry\n\t\t\tvar o = this.opt, ta = t.axis,\n\t\t\t\trx = (dim.width\t - offsets.l - offsets.r) / 2,\n\t\t\t\try = (dim.height - offsets.t - offsets.b) / 2,\n\t\t\t\tr  = Math.min(rx, ry),\n\t\t\t\taxisTickFont = o.font || (ta.majorTick && ta.majorTick.font) || (ta.tick && ta.tick.font) || \"normal normal normal 7pt Tahoma\",\n\t\t\t\taxisFont = o.axisFont || (ta.tick && ta.tick.titleFont) || \"normal normal normal 11pt Tahoma\",\n\t\t\t\taxisTickFontColor = o.axisTickFontColor || (ta.majorTick && ta.majorTick.fontColor) || (ta.tick && ta.tick.fontColor) || \"silver\",\n\t\t\t\taxisFontColor = o.axisFontColor || (ta.tick && ta.tick.titleFontColor) || \"black\",\n\t\t\t\taxisColor = o.axisColor || (ta.tick && ta.tick.axisColor) || \"silver\",\n\t\t\t\tspiderColor = o.spiderColor || (ta.tick && ta.tick.spiderColor) || \"silver\",\n\t\t\t\taxisWidth = o.axisWidth || (ta.stroke && ta.stroke.width) || 2,\n\t\t\t\tspiderWidth = o.spiderWidth || (ta.stroke && ta.stroke.width) || 2,\n\t\t\t\tseriesWidth = o.seriesWidth || (ta.stroke && ta.stroke.width) || 2,\n\t\t\t\tasize = g.normalizedLength(g.splitFontString(axisFont).size),\n\t\t\t\tstartAngle = m._degToRad(o.startAngle),\n\t\t\t\tstart = startAngle, labels, shift, labelR,\n\t\t\t\touterPoints, innerPoints, divisionPoints, divisionRadius, labelPoints,\n\t\t\t\tro = o.spiderOrigin, dv = o.divisions >= 3 ? o.divisions : 3, ms = o.markerSize,\n\t\t\t\tspt = o.spiderType, at = o.animationType, lboffset = o.labelOffset < -10 ? o.labelOffset : -10,\n\t\t\t\taxisExtra = 0.2,\n\t\t\t\ti, j, point, len, fontWidth, render, serieEntry, run, data, min, max, distance;\n\t\t\t\n\t\t\tif(o.labels){\n\t\t\t\tlabels = arr.map(this.series, function(s){\n\t\t\t\t\treturn s.name;\n\t\t\t\t}, this);\n\t\t\t\tshift = df.foldl1(df.map(labels, function(label){\n\t\t\t\t\tvar font = t.series.font;\n\t\t\t\t\treturn g._base._getTextBox(label, {\n\t\t\t\t\t\tfont: font\n\t\t\t\t\t}).w;\n\t\t\t\t}, this), \"Math.max(a, b)\") / 2;\n\t\t\t\tr = Math.min(rx - 2 * shift, ry - asize) + lboffset;\n\t\t\t\tlabelR = r - lboffset;\n\t\t\t}\n\t\t\tif(\"radius\" in o){\n\t\t\t\tr = o.radius;\n\t\t\t\tlabelR = r - lboffset;\n\t\t\t}\n\t\t\tr /= (1+axisExtra);\n\t\t\tvar circle = {\n\t\t\t\tcx: offsets.l + rx,\n\t\t\t\tcy: offsets.t + ry,\n\t\t\t\tr: r\n\t\t\t};\n\n\t\t\tfor(var i = 0; i < this.series.length; i++){\n\t\t\t\tserieEntry = this.series[i];\n\t\t\t\tif(!this.dirty && !serieEntry.dirty){\n\t\t\t\t\tt.skip();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tserieEntry.cleanGroup();\n\t\t\t\trun = serieEntry.data;\n\t\t\t\tif(run !== null){\n\t\t\t\t\tlen = this._getObjectLength(run);\n\t\t\t\t\t//construct connect points\n\t\t\t\t\tif(!outerPoints || outerPoints.length <= 0){\n\t\t\t\t\t\touterPoints = [], innerPoints = [], labelPoints = [];\n\t\t\t\t\t\tthis._buildPoints(outerPoints, len, circle, r, start, true, dim);\n\t\t\t\t\t\tthis._buildPoints(innerPoints, len, circle, r*ro, start, true, dim);\n\t\t\t\t\t\tthis._buildPoints(labelPoints, len, circle, labelR, start, false, dim);\n\t\t\t\t\t\tif(dv > 2){\n\t\t\t\t\t\t\tdivisionPoints = [], divisionRadius = [];\n\t\t\t\t\t\t\tfor (j = 0; j < dv - 2; j++){\n\t\t\t\t\t\t\t\tdivisionPoints[j] = [];\n\t\t\t\t\t\t\t\tthis._buildPoints(divisionPoints[j], len, circle, r*(ro + (1-ro)*(j+1)/(dv-1)), start, true, dim);\n\t\t\t\t\t\t\t\tdivisionRadius[j] = r*(ro + (1-ro)*(j+1)/(dv-1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//draw Spider\n\t\t\t//axis\n\t\t\tvar axisGroup = s.createGroup(), axisStroke = {color: axisColor, width: axisWidth},\n\t\t\t\tspiderStroke = {color: spiderColor, width: spiderWidth};\n\t\t\tfor (j = outerPoints.length - 1; j >= 0; --j){\n\t\t\t\tpoint = outerPoints[j];\n\t\t\t\tvar st = {\n\t\t\t\t\t\tx: point.x + (point.x - circle.cx) * axisExtra,\n\t\t\t\t\t\ty: point.y + (point.y - circle.cy) * axisExtra\n\t\t\t\t\t},\n\t\t\t\t\tnd = {\n\t\t\t\t\t\tx: point.x + (point.x - circle.cx) * axisExtra / 2,\n\t\t\t\t\t\ty: point.y + (point.y - circle.cy) * axisExtra / 2\n\t\t\t\t\t};\n\t\t\t\taxisGroup.createLine({\n\t\t\t\t\tx1: circle.cx,\n\t\t\t\t\ty1: circle.cy,\n\t\t\t\t\tx2: st.x,\n\t\t\t\t\ty2: st.y\n\t\t\t\t}).setStroke(axisStroke);\n\t\t\t\t//arrow\n\t\t\t\tthis._drawArrow(axisGroup, st, nd, axisStroke);\n\t\t\t}\n\t\t\t\n\t\t\t// draw the label\n\t\t\tvar labelGroup = s.createGroup();\n\t\t\tfor (j = labelPoints.length - 1; j >= 0; --j){\n\t\t\t\tpoint = labelPoints[j];\n\t\t\t\tfontWidth = g._base._getTextBox(this.labelKey[j], {font: axisFont}).w || 0;\n\t\t\t\trender = this.opt.htmlLabels && g.renderer != \"vml\" ? \"html\" : \"gfx\";\n\t\t\t\tvar elem = da.createText[render](this.chart, labelGroup, (!domGeom.isBodyLtr() && render == \"html\") ? (point.x + fontWidth - dim.width) : point.x, point.y,\n\t\t\t\t\t\t\t\"middle\", this.labelKey[j], axisFont, axisFontColor);\n\t\t\t\tif(this.opt.htmlLabels){\n\t\t\t\t\tthis.htmlElements.push(elem);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//spider web: polygon or circle\n\t\t\tvar spiderGroup = s.createGroup();\n\t\t\tif(spt == \"polygon\"){\n\t\t\t\tspiderGroup.createPolyline(outerPoints).setStroke(spiderStroke);\n\t\t\t\tspiderGroup.createPolyline(innerPoints).setStroke(spiderStroke);\n\t\t\t\tif(divisionPoints.length > 0){\n\t\t\t\t\tfor (j = divisionPoints.length - 1; j >= 0; --j){\n\t\t\t\t\t\tspiderGroup.createPolyline(divisionPoints[j]).setStroke(spiderStroke);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{//circle\n\t\t\t\tspiderGroup.createCircle({cx: circle.cx, cy: circle.cy, r: r}).setStroke(spiderStroke);\n\t\t\t\tspiderGroup.createCircle({cx: circle.cx, cy: circle.cy, r: r*ro}).setStroke(spiderStroke);\n\t\t\t\tif(divisionRadius.length > 0){\n\t\t\t\t\tfor (j = divisionRadius.length - 1; j >= 0; --j){\n\t\t\t\t\t\tspiderGroup.createCircle({cx: circle.cx, cy: circle.cy, r: divisionRadius[j]}).setStroke(spiderStroke);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//text\n\t\t\tlen = this._getObjectLength(this.datas);\n\t\t\tvar textGroup = s.createGroup(), k = 0;\n\t\t\tfor(var key in this.datas){\n\t\t\t\tdata = this.datas[key];\n\t\t\t\tmin = data.min;\n\t\t\t\tmax = data.max;\n\t\t\t\tdistance = max - min;\n\t\t\t\t\tend = start + 2 * Math.PI * k / len;\n\t\t\t\tfor (i = 0; i < dv; i++){\n\t\t\t\t\tvar text = min + distance*i/(dv-1);\n\t\t\t\t\tpoint = this._getCoordinate(circle, r*(ro + (1-ro)*i/(dv-1)), end, dim);\n\t\t\t\t\ttext = this._getLabel(text);\n\t\t\t\t\tfontWidth = g._base._getTextBox(text, {font: axisTickFont}).w || 0;\n\t\t\t\t\t\trender = this.opt.htmlLabels && g.renderer != \"vml\" ? \"html\" : \"gfx\";\n\t\t\t\t\tif(this.opt.htmlLabels){\n\t\t\t\t\t\tthis.htmlElements.push(da.createText[render]\n\t\t\t\t\t\t\t(this.chart, textGroup, (!domGeom.isBodyLtr() && render == \"html\") ? (point.x + fontWidth - dim.width) : point.x, point.y,\n\t\t\t\t\t\t\t\t\"start\", text, axisTickFont, axisTickFontColor));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tk++;\n\t\t\t}\n\t\t\t\n\t\t\t//draw series (animation)\n\t\t\tthis.chart.seriesShapes = {};\n\t\t\tfor (i = this.series.length - 1; i >= 0; i--){\n\t\t\t\tserieEntry = this.series[i];\n\t\t\t\trun = serieEntry.data;\n\t\t\t\tif(run !== null){\n\t\t\t\t\tvar theme = t.next(\"spider\", [o, serieEntry]),\n\t\t\t\t\t\tf = g.normalizeColor(theme.series.fill), \n\t\t\t\t\t\tsk = {color: theme.series.fill, width: seriesWidth};\n\t\t\t\t\tf.a = o.seriesFillAlpha;\n\t\t\t\t\tserieEntry.dyn = {fill: f, stroke: sk};\n\t\t\t\t\tif(serieEntry.hidden){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t//series polygon\n\t\t\t\t\tvar seriePoints = [], tipData = [];\n\t\t\t\t\tk = 0;\n\t\t\t\t\tfor(key in run){\n\t\t\t\t\t\tdata = this.datas[key];\n\t\t\t\t\t\tmin = data.min;\n\t\t\t\t\t\tmax = data.max;\n\t\t\t\t\t\tdistance = max - min;\n\t\t\t\t\t\tvar entry = run[key], end = start + 2 * Math.PI * k / len;\n\t\t\t\t\t\t\tpoint = this._getCoordinate(circle, r*(ro + (1-ro)*(entry-min)/distance), end, dim);\n\t\t\t\t\t\tseriePoints.push(point);\n\t\t\t\t\t\ttipData.push({sname: serieEntry.name, key: key, data: entry});\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t\tseriePoints[seriePoints.length] = seriePoints[0];\n\t\t\t\t\ttipData[tipData.length] = tipData[0];\n\t\t\t\t\tvar polygonBoundRect = this._getBoundary(seriePoints),\n\t\t\t\t\t\tts = serieEntry.group;\n\t\t\t         \n\t\t\t\t\t\n\t\t\t\t\tvar osps = this.oldSeriePoints[serieEntry.name];\n\t\t\t\t\tvar cs = this._createSeriesEntry(ts, (osps || innerPoints), seriePoints, f, sk, r, ro, ms, at);\n\t\t\t\t\tthis.chart.seriesShapes[serieEntry.name] = cs;\n\t\t\t\t\tthis.oldSeriePoints[serieEntry.name] = seriePoints;\n\t\t\t\t\t\n\t\t\t\t\tvar po = {\n\t\t\t\t\t\telement: \"spider_poly\",\n\t\t\t\t\t\tindex:\t i,\n\t\t\t\t\t\tid:\t\t \"spider_poly_\"+serieEntry.name,\n\t\t\t\t\t\trun:\t serieEntry,\n\t\t\t\t\t\tplot:\t this,\n\t\t\t\t\t\tshape:\t cs.poly,\n\t\t\t\t\t\tparent:\t ts,\n\t\t\t\t\t\tbrect:\t polygonBoundRect,\n\t\t\t\t\t\tcx:\t\t circle.cx,\n\t\t\t\t\t\tcy:\t\t circle.cy,\n\t\t\t\t\t\tcr:\t\t r,\n\t\t\t\t\t\tf:\t\t f,\n\t\t\t\t\t\ts:\t\t s\n\t\t\t\t\t};\n\t\t\t\t\tthis._connectEvents(po);\n\t\t\t\t\t\n\t\t\t\t\tvar so = {\n\t\t\t\t\t\telement: \"spider_plot\",\n\t\t\t\t\t\tindex:\t i,\n\t\t\t\t\t\tid:\t\t \"spider_plot_\"+serieEntry.name,\n\t\t\t\t\t\trun:\t serieEntry,\n\t\t\t\t\t\tplot:\t this,\n\t\t\t\t\t\tshape:\t serieEntry.group\n\t\t\t\t\t};\n\t\t\t\t\tthis._connectEvents(so);\n\t\t\t\t\t\n\t\t\t\t\tarr.forEach(cs.circles, function(c, i){\n\t\t\t\t\t\tvar co = {\n\t\t\t\t\t\t\t\telement: \"spider_circle\",\n\t\t\t\t\t\t\t\tindex:\t i,\n\t\t\t\t\t\t\t\tid:\t\t \"spider_circle_\"+serieEntry.name+i,\n\t\t\t\t\t\t\t\trun:\t serieEntry,\n\t\t\t\t\t\t\t\tplot:\t this,\n\t\t\t\t\t\t\t\tshape:\t c,\n\t\t\t\t\t\t\t\tparent:\t ts,\n\t\t\t\t\t\t\t\ttdata:\t tipData[i],\n\t\t\t\t\t\t\t\tcx:\t\t seriePoints[i].x,\n\t\t\t\t\t\t\t\tcy:\t\t seriePoints[i].y,\n\t\t\t\t\t\t\t\tf:\t\t f,\n\t\t\t\t\t\t\t\ts:\t\t s\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tthis._connectEvents(co);\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t//\tdojox/charting/plot2d/Spider\n\t\t},\n\t\t_createSeriesEntry: function(ts, osps, sps, f, sk, r, ro, ms, at){\n\t\t\t//polygon\n\t\t\tvar initpoints = this.animate?osps:sps;\n\t\t\tvar spoly = ts.createPolyline(initpoints).setFill(f).setStroke(sk), scircle = [];\n\t\t\tfor (var j = 0; j < initpoints.length; j++){\n\t\t\t\tvar point = initpoints[j], cr = ms;\n\t\t\t\tvar circle = ts.createCircle({cx: point.x, cy: point.y, r: cr}).setFill(f).setStroke(sk);\n\t\t\t\tscircle.push(circle);\n\t\t\t}\n\t\t\tif(this.animate) {\n\t\t\t\tvar anims = arr.map(sps, function (np, j) {\n\t\t\t\t\t// create animation\n\t\t\t\t\tvar sp = osps[j],\n\t\t\t\t\t\tanim = new baseFx.Animation(lang.delegate({\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\teasing: at,\n\t\t\t\t\t\t\tcurve: [sp.y, np.y]\n\t\t\t\t\t\t}, this.animate));\n\t\t\t\t\tvar spl = spoly, sc = scircle[j];\n\t\t\t\t\thub.connect(anim, \"onAnimate\", function (y) {\n\t\t\t\t\t\t//apply poly\n\t\t\t\t\t\tvar pshape = spl.getShape();\n\t\t\t\t\t\tpshape.points[j].y = y;\n\t\t\t\t\t\tspl.setShape(pshape);\n\t\t\t\t\t\t//apply circle\n\t\t\t\t\t\tvar cshape = sc.getShape();\n\t\t\t\t\t\tcshape.cy = y;\n\t\t\t\t\t\tsc.setShape(cshape);\n\t\t\t\t\t});\n\t\t\t\t\treturn anim;\n\t\t\t\t}, this);\n\n\t\t\t\tvar anims1 = arr.map(sps, function (np, j) {\n\t\t\t\t\t// create animation\n\t\t\t\t\tvar sp = osps[j],\n\t\t\t\t\t\tanim = new baseFx.Animation(lang.delegate({\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\teasing: at,\n\t\t\t\t\t\t\tcurve: [sp.x, np.x]\n\t\t\t\t\t\t}, this.animate));\n\t\t\t\t\tvar spl = spoly, sc = scircle[j];\n\t\t\t\t\thub.connect(anim, \"onAnimate\", function (x) {\n\t\t\t\t\t\t//apply poly\n\t\t\t\t\t\tvar pshape = spl.getShape();\n\t\t\t\t\t\tpshape.points[j].x = x;\n\t\t\t\t\t\tspl.setShape(pshape);\n\t\t\t\t\t\t//apply circle\n\t\t\t\t\t\tvar cshape = sc.getShape();\n\t\t\t\t\t\tcshape.cx = x;\n\t\t\t\t\t\tsc.setShape(cshape);\n\t\t\t\t\t});\n\t\t\t\t\treturn anim;\n\t\t\t\t}, this);\n\t\t\t\tvar masterAnimation = coreFx.combine(anims.concat(anims1)); //dojo.fx.chain(anims);\n\t\t\t\tmasterAnimation.play();\n\t\t\t}\n\t\t\treturn {group :ts, poly: spoly, circles: scircle};\n\t\t},\n\t\tplotEvent: function(o){\n\t\t\t// summary:\n\t\t\t//\t\tStub function for use by specific plots.\n\t\t\t// o: Object\n\t\t\t//\t\tAn object intended to represent event parameters.\n\t\t\tif(o.element == \"spider_plot\"){\n\t\t\t\t//dojo gfx function \"moveToFront\" not work in IE\n\t\t\t\tif(o.type == \"onmouseover\" && !has(\"ie\")){\n\t\t\t\t\to.shape.moveToFront();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttooltipFunc: function(o){\n\t\t\tif(o.element == \"spider_circle\"){\n\t\t\t\treturn o.tdata.sname + \"<br/>\" + o.tdata.key + \"<br/>\" + o.tdata.data;\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\t_getBoundary: function(points){\n\t\t\tvar xmax = points[0].x,\n\t\t\t\txmin = points[0].x,\n\t\t\t\tymax = points[0].y,\n\t\t\t\tymin = points[0].y;\n\t\t\tfor(var i = 0; i < points.length; i++){\n\t\t\t\tvar point = points[i];\n\t\t\t\txmax = Math.max(point.x, xmax);\n\t\t\t\tymax = Math.max(point.y, ymax);\n\t\t\t\txmin = Math.min(point.x, xmin);\n\t\t\t\tymin = Math.min(point.y, ymin);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: xmin,\n\t\t\t\ty: ymin,\n\t\t\t\twidth: xmax - xmin,\n\t\t\t\theight: ymax - ymin\n\t\t\t};\n\t\t},\n\t\t\n\t\t_drawArrow: function(s, start, end, stroke){\n\t\t\tvar len = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2)),\n\t\t\t\tsin = (end.y - start.y)/len, cos = (end.x - start.x)/len,\n\t\t\t\tpoint2 = {x: end.x + (len/3)*(-sin), y: end.y + (len/3)*cos},\n\t\t\t\tpoint3 = {x: end.x + (len/3)*sin, y: end.y + (len/3)*(-cos)};\n\t\t\ts.createPolyline([start, point2, point3]).setFill(stroke.color).setStroke(stroke);\n\t\t},\n\t\t\n\t\t_buildPoints: function(points, count, circle, radius, angle, recursive, dim){\n\t\t\tfor(var i = 0; i < count; i++){\n\t\t\t\tvar end = angle + 2 * Math.PI * i / count;\n\t\t\t\tpoints.push(this._getCoordinate(circle, radius, end, dim));\n\t\t\t}\n\t\t\tif(recursive){\n\t\t\t\tpoints.push(this._getCoordinate(circle, radius, angle + 2 * Math.PI, dim));\n\t\t\t}\n\t\t},\n\t\t\n\t\t_getCoordinate: function(circle, radius, angle, dim){\n\t\t\tvar x = circle.cx + radius * Math.cos(angle);\n\t\t\tif(has(\"dojo-bidi\") && this.chart.isRightToLeft() && dim){\n\t\t\t\tx = dim.width - x;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: circle.cy + radius * Math.sin(angle)\n\t\t\t}\n\t\t},\n\t\t\n\t\t_getObjectLength: function(obj){\n\t\t\tvar count = 0;\n\t\t\tif(lang.isObject(obj)){\n\t\t\t\tfor(var key in obj){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\t// utilities\n\t\t_getLabel: function(number){\n\t\t\treturn dc.getLabel(number, this.opt.fixed, this.opt.precision);\n\t\t}\n\t});\n\n\treturn Spider; // dojox/plot2d/Spider\n});\n","define([\"dojo/_base/declare\", \"dojo/_base/lang\", \"./Default\", \"./commonStacked\"], \n\tfunction(declare, lang, Default, commonStacked){\n\n\treturn declare(\"dojox.charting.plot2d.Stacked\", Default, {\n\t\t// summary:\n\t\t//\t\tLike the default plot, Stacked sets up lines, areas and markers\n\t\t//\t\tin a stacked fashion (values on the y axis added to each other)\n\t\t//\t\tas opposed to a direct one.\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = commonStacked.collectStats(this.series, lang.hitch(this, \"isNullValue\"));\n\t\t\treturn stats; // Object\n\t\t},\n\t\t\n\t\tbuildSegments: function(i, indexed){\n\t\t\tvar run = this.series[i],\n\t\t\t\tmin = indexed?Math.max(0, Math.floor(this._hScaler.bounds.from - 1)):0,\n\t\t\t\tmax = indexed?Math.min(run.data.length-1, Math.ceil(this._hScaler.bounds.to)):run.data.length-1,\n\t\t\t\trseg = null, segments = [], isNullValue = lang.hitch(this, \"isNullValue\");\n\t\t\t// split the run data into dense segments (each containing no nulls)\n\t\t\t// except if interpolates is false in which case ignore null between valid data\n\t\t\tfor(var j = min; j <= max; j++){\n\t\t\t\tvar value = indexed ? commonStacked.getIndexValue(this.series, i, j, isNullValue) : commonStacked.getValue(this.series, i, run.data[j] ?run.data[j].x: null, isNullValue);\n\t\t\t\tif(!isNullValue(value[0]) && (indexed || value[0].y != null)){\n\t\t\t\t\tif(!rseg){\n\t\t\t\t\t\trseg = [];\n\t\t\t\t\t\tsegments.push({index: j, rseg: rseg});\n\t\t\t\t\t}\n\t\t\t\t\trseg.push(value[0]);\n\t\t\t\t}else{\n\t\t\t\t\tif(!this.opt.interpolate || indexed){\n\t\t\t\t\t\t// we break the line only if not interpolating or if we have indexed data\n\t\t\t\t\t\trseg = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn segments;\n\t\t}\n\t\t\n\t});\n});\n","define([\"dojo/_base/declare\", \"./Stacked\"], function(declare, Stacked){\n\n\treturn declare(\"dojox.charting.plot2d.StackedAreas\", Stacked, {\n\t\t// summary:\n\t\t//\t\tA convenience object to set up a stacked area plot.\n\t\tconstructor: function(){\n\t\t\t// summary:\n\t\t\t//\t\tForce our Stacked plotter to include both lines and areas.\n\t\t\tthis.opt.lines = true;\n\t\t\tthis.opt.areas = true;\n\t\t}\n\t});\n});\n\n","define([\"dojo/_base/declare\", \"dojo/_base/lang\", \"./Bars\", \"./commonStacked\"], \n\tfunction(declare, lang, Bars, commonStacked){\n\n\treturn declare(\"dojox.charting.plot2d.StackedBars\", Bars, {\n\t\t// summary:\n\t\t//\t\tThe plot object representing a stacked bar chart (horizontal bars).\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = commonStacked.collectStats(this.series, lang.hitch(this, \"isNullValue\")), t;\n\t\t\tstats.hmin -= 0.5;\n\t\t\tstats.hmax += 0.5;\n\t\t\tt = stats.hmin, stats.hmin = stats.vmin, stats.vmin = t;\n\t\t\tt = stats.hmax, stats.hmax = stats.vmax, stats.vmax = t;\n\t\t\treturn stats; // Object\n\t\t},\n\t\trearrangeValues: function(values, transform, baseline){\n\t\t\treturn commonStacked.rearrangeValues.call(this, values, transform, baseline);\n\t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"dojo/_base/lang\", \"./Columns\", \"./commonStacked\"], \n\tfunction(declare, lang, Columns, commonStacked){\n\n\treturn declare(\"dojox.charting.plot2d.StackedColumns\", Columns, {\n\t\t// summary:\n\t\t//\t\tThe plot object representing a stacked column chart (vertical bars).\n\t\tgetSeriesStats: function(){\n\t\t\t// summary:\n\t\t\t//\t\tCalculate the min/max on all attached series in both directions.\n\t\t\t// returns: Object\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\n\t\t\tvar stats = commonStacked.collectStats(this.series, lang.hitch(this, \"isNullValue\"));\n\t\t\tstats.hmin -= 0.5;\n\t\t\tstats.hmax += 0.5;\n\t\t\treturn stats; // Object\n\t\t},\n\n\t\trearrangeValues: function(values, transform, baseline){\n\t\t\treturn commonStacked.rearrangeValues.call(this, values, transform, baseline);\n \t\t}\n\t});\n});\n","define([\"dojo/_base/declare\", \"./Stacked\"], function(declare, Stacked){\n\n\treturn declare(\"dojox.charting.plot2d.StackedLines\", Stacked, {\n\t\t// summary:\n\t\t//\t\tA convenience object to create a stacked line chart.\n\t\tconstructor: function(){\n\t\t\t// summary:\n\t\t\t//\t\tForce our Stacked base to be lines only.\n\t\t\tthis.opt.lines = true;\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/_base/connect\"], \n\tfunction(lang, arr, declare, hub){\n\n\treturn declare(\"dojox.charting.plot2d._PlotEvents\", null, {\n\t\tconstructor: function(){\n\t\t\tthis._shapeEvents = [];\n\t\t\tthis._eventSeries = {};\n\t\t},\n\t\tdestroy: function(){\n\t\t\t// summary:\n\t\t\t//\t\tDestroy any internal elements and event handlers.\n\t\t\tthis.resetEvents();\n\t\t\tthis.inherited(arguments);\n\t\t},\n\t\tplotEvent: function(o){\n\t\t\t// summary:\n\t\t\t//\t\tStub function for use by specific plots.\n\t\t\t// o: Object\n\t\t\t//\t\tAn object intended to represent event parameters.\n\t\t},\n\t\traiseEvent: function(o){\n\t\t\t// summary:\n\t\t\t//\t\tRaises events in predefined order\n\t\t\t// o: Object\n\t\t\t//\t\tAn object intended to represent event parameters.\n\t\t\tthis.plotEvent(o);\n\t\t\tvar t = lang.delegate(o);\n\t\t\tt.originalEvent = o.type;\n\t\t\tt.originalPlot  = o.plot;\n\t\t\tt.type = \"onindirect\";\n\t\t\tarr.forEach(this.chart.stack, function(plot){\n\t\t\t\tif(plot !== this && plot.plotEvent){\n\t\t\t\t\tt.plot = plot;\n\t\t\t\t\tplot.plotEvent(t);\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tconnect: function(object, method){\n\t\t\t// summary:\n\t\t\t//\t\tHelper function to connect any object's method to our plotEvent.\n\t\t\t// object: Object\n\t\t\t//\t\tThe object to connect to.\n\t\t\t// method: String|Function\n\t\t\t//\t\tThe method to fire when our plotEvent is fired.\n\t\t\t// returns: Array\n\t\t\t//\t\tThe handle as returned from dojo.connect (see dojo.connect).\n\t\t\tthis.dirty = true;\n\t\t\treturn hub.connect(this, \"plotEvent\", object, method);\t//\tArray\n\t\t},\n\t\tevents: function(){\n\t\t\t// summary:\n\t\t\t//\t\tFind out if any event handlers have been connected to our plotEvent.\n\t\t\t// returns: Boolean\n\t\t\t//\t\tA flag indicating that there are handlers attached.\n\t\t\treturn !!this.plotEvent.after;\n\t\t},\n\t\tresetEvents: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReset all events attached to our plotEvent (i.e. disconnect).\n\t\t\tif(this._shapeEvents.length){\n\t\t\t\tarr.forEach(this._shapeEvents, function(item){\n\t\t\t\t\titem.shape.disconnect(item.handle);\n\t\t\t\t});\n\t\t\t\tthis._shapeEvents = [];\n\t\t\t}\n\t\t\tthis.raiseEvent({type: \"onplotreset\", plot: this});\n\t\t},\n\t\t_connectSingleEvent: function(o, eventName){\n\t\t\tthis._shapeEvents.push({\n\t\t\t\tshape:  o.eventMask,\n\t\t\t\thandle: o.eventMask.connect(eventName, this, function(e){\n\t\t\t\t\to.type  = eventName;\n\t\t\t\t\to.event = e;\n\t\t\t\t\tthis.raiseEvent(o);\n\t\t\t\t\to.event = null;\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t_connectEvents: function(o){\n\t\t\tif(o){\n\t\t\t\to.chart = this.chart;\n\t\t\t\to.plot  = this;\n\t\t\t\to.hAxis = this.hAxis || null;\n\t\t\t\to.vAxis = this.vAxis || null;\n\t\t\t\to.eventMask = o.eventMask || o.shape;\n\t\t\t\tthis._connectSingleEvent(o, \"onmouseover\");\n\t\t\t\tthis._connectSingleEvent(o, \"onmouseout\");\n\t\t\t\tthis._connectSingleEvent(o, \"onclick\");\n\t\t\t}\n\t\t},\n\t\t_reconnectEvents: function(seriesName){\n\t\t\tvar a = this._eventSeries[seriesName];\n\t\t\tif(a){\n\t\t\t\tarr.forEach(a, this._connectEvents, this);\n\t\t\t}\n\t\t},\n\t\tfireEvent: function(seriesName, eventName, index, eventObject){\n\t\t\t// summary:\n\t\t\t//\t\tEmulates firing an event for a given data value (specified by\n\t\t\t//\t\tan index) of a given series.\n\t\t\t// seriesName: String\n\t\t\t//\t\tSeries name.\n\t\t\t// eventName: String\n\t\t\t//\t\tEvent name to emulate.\n\t\t\t// index: Number\n\t\t\t//\t\tValid data value index used to raise an event.\n\t\t\t// eventObject: Object?\n\t\t\t//\t\tOptional event object. Especially useful for synthetic events.\n\t\t\t//\t\tDefault: null.\n\t\t\tvar s = this._eventSeries[seriesName];\n\t\t\tif(s && s.length && index < s.length){\n\t\t\t\tvar o = s[index];\n\t\t\t\to.type  = eventName;\n\t\t\t\to.event = eventObject || null;\n\t\t\t\tthis.raiseEvent(o);\n\t\t\t\to.event = null;\n\t\t\t}\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/Color\",\n\t\t\"dojox/gfx\", \"dojox/lang/functional\", \"../scaler/common\"],\n\tfunction(lang, arr, Color, g, df, sc){\n\n\tvar common = lang.getObject(\"dojox.charting.plot2d.common\", true);\n\n\treturn lang.mixin(common, {\n\t\tdoIfLoaded: sc.doIfLoaded,\n\t\tmakeStroke: function(stroke){\n\t\t\tif(!stroke){ return stroke; }\n\t\t\tif(typeof stroke == \"string\" || stroke instanceof Color){\n\t\t\t\tstroke = {color: stroke};\n\t\t\t}\n\t\t\treturn g.makeParameters(g.defaultStroke, stroke);\n\t\t},\n\t\taugmentColor: function(target, color){\n\t\t\tvar t = new Color(target),\n\t\t\t\tc = new Color(color);\n\t\t\tc.a = t.a;\n\t\t\treturn c;\n\t\t},\n\t\taugmentStroke: function(stroke, color){\n\t\t\tvar s = common.makeStroke(stroke);\n\t\t\tif(s){\n\t\t\t\ts.color = common.augmentColor(s.color, color);\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\taugmentFill: function(fill, color){\n\t\t\tvar fc, c = new Color(color);\n\t\t\tif(typeof fill == \"string\" || fill instanceof Color){\n\t\t\t\treturn common.augmentColor(fill, color);\n\t\t\t}\n\t\t\treturn fill;\n\t\t},\n\n\t\tdefaultStats: {\n\t\t\tvmin: Number.POSITIVE_INFINITY, vmax: Number.NEGATIVE_INFINITY,\n\t\t\thmin: Number.POSITIVE_INFINITY, hmax: Number.NEGATIVE_INFINITY\n\t\t},\n\n\t\tcollectSimpleStats: function(series, isNullValue){\n\t\t\tvar stats = lang.delegate(common.defaultStats);\n\t\t\tfor(var i = 0; i < series.length; ++i){\n\t\t\t\tvar run = series[i];\n\t\t\t\tfor(var j = 0; j < run.data.length; j++){\n\t\t\t\t\tif(!isNullValue(run.data[j])){\n\t\t\t\t\t\tif(typeof run.data[j] == \"number\"){\n\t\t\t\t\t\t\t// 1D case\n\t\t\t\t\t\t\tvar old_vmin = stats.vmin, old_vmax = stats.vmax;\n\t\t\t\t\t\t\tarr.forEach(run.data, function(val, i){\n\t\t\t\t\t\t\t\tif(!isNullValue(val)){\n\t\t\t\t\t\t\t\t\tvar x = i + 1, y = val;\n\t\t\t\t\t\t\t\t\tif(isNaN(y)){ y = 0; }\n\t\t\t\t\t\t\t\t\tstats.hmin = Math.min(stats.hmin, x);\n\t\t\t\t\t\t\t\t\tstats.hmax = Math.max(stats.hmax, x);\n\t\t\t\t\t\t\t\t\tstats.vmin = Math.min(stats.vmin, y);\n\t\t\t\t\t\t\t\t\tstats.vmax = Math.max(stats.vmax, y);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif(\"ymin\" in run){ stats.vmin = Math.min(old_vmin, run.ymin); }\n\t\t\t\t\t\t\tif(\"ymax\" in run){ stats.vmax = Math.max(old_vmax, run.ymax); }\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t// 2D case\n\t\t\t\t\t\t\tvar old_hmin = stats.hmin, old_hmax = stats.hmax,\n\t\t\t\t\t\t\t\told_vmin = stats.vmin, old_vmax = stats.vmax;\n\t\t\t\t\t\t\tif(!(\"xmin\" in run) || !(\"xmax\" in run) || !(\"ymin\" in run) || !(\"ymax\" in run)){\n\t\t\t\t\t\t\t\tarr.forEach(run.data, function(val, i){\n\t\t\t\t\t\t\t\t\tif(!isNullValue(val)){\n\t\t\t\t\t\t\t\t\t\tvar x = \"x\" in val ? val.x : i + 1, y = val.y;\n\t\t\t\t\t\t\t\t\t\tif(isNaN(x)){ x = 0; }\n\t\t\t\t\t\t\t\t\t\tif(isNaN(y)){ y = 0; }\n\t\t\t\t\t\t\t\t\t\tstats.hmin = Math.min(stats.hmin, x);\n\t\t\t\t\t\t\t\t\t\tstats.hmax = Math.max(stats.hmax, x);\n\t\t\t\t\t\t\t\t\t\tstats.vmin = Math.min(stats.vmin, y);\n\t\t\t\t\t\t\t\t\t\tstats.vmax = Math.max(stats.vmax, y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(\"xmin\" in run){ stats.hmin = Math.min(old_hmin, run.xmin); }\n\t\t\t\t\t\t\tif(\"xmax\" in run){ stats.hmax = Math.max(old_hmax, run.xmax); }\n\t\t\t\t\t\t\tif(\"ymin\" in run){ stats.vmin = Math.min(old_vmin, run.ymin); }\n\t\t\t\t\t\t\tif(\"ymax\" in run){ stats.vmax = Math.max(old_vmax, run.ymax); }\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stats;\n\t\t},\n\n\t\tcalculateBarSize: function(/* Number */ availableSize, /* Object */ opt, /* Number? */ clusterSize){\n\t\t\tif(!clusterSize){\n\t\t\t\tclusterSize = 1;\n\t\t\t}\n\t\t\tvar gap = opt.gap, size = (availableSize - 2 * gap) / clusterSize;\n\t\t\tif(\"minBarSize\" in opt){\n\t\t\t\tsize = Math.max(size, opt.minBarSize);\n\t\t\t}\n\t\t\tif(\"maxBarSize\" in opt){\n\t\t\t\tsize = Math.min(size, opt.maxBarSize);\n\t\t\t}\n\t\t\tsize = Math.max(size, 1);\n\t\t\tgap = (availableSize - size * clusterSize) / 2;\n\t\t\treturn {size: size, gap: gap};\t// Object\n\t\t},\n\n\t\tcollectStackedStats: function(series){\n\t\t\t// collect statistics\n\t\t\tvar stats = lang.clone(common.defaultStats);\n\t\t\tif(series.length){\n\t\t\t\t// 1st pass: find the maximal length of runs\n\t\t\t\tstats.hmin = Math.min(stats.hmin, 1);\n\t\t\t\tstats.hmax = df.foldl(series, \"seed, run -> Math.max(seed, run.data.length)\", stats.hmax);\n\t\t\t\t// 2nd pass: stack values\n\t\t\t\tfor(var i = 0; i < stats.hmax; ++i){\n\t\t\t\t\tvar v = series[0].data[i];\n\t\t\t\t\tv = v && (typeof v == \"number\" ? v : v.y);\n\t\t\t\t\tif(isNaN(v)){ v = 0; }\n\t\t\t\t\tstats.vmin = Math.min(stats.vmin, v);\n\t\t\t\t\tfor(var j = 1; j < series.length; ++j){\n\t\t\t\t\t\tvar t = series[j].data[i];\n\t\t\t\t\t\tt = t && (typeof t == \"number\" ? t : t.y);\n\t\t\t\t\t\tif(isNaN(t)){ t = 0; }\n\t\t\t\t\t\tv += t;\n\t\t\t\t\t}\n\t\t\t\t\tstats.vmax = Math.max(stats.vmax, v);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stats;\n\t\t},\n\n\t\tcurve: function(/* Number[] */a, /* Number|String */tension){\n\t\t\t//\tFIX for #7235, submitted by Enzo Michelangeli.\n\t\t\t//\tEmulates the smoothing algorithms used in a famous, unnamed spreadsheet\n\t\t\t//\t\tprogram ;)\n\t\t\tvar array = a.slice(0);\n\t\t\tif(tension == \"x\") {\n\t\t\t\tarray[array.length] = array[0];   // add a last element equal to the first, closing the loop\n\t\t\t}\n\t\t\tvar p=arr.map(array, function(item, i){\n\t\t\t\tif(i==0){ return \"M\" + item.x + \",\" + item.y; }\n\t\t\t\tif(!isNaN(tension)) { // use standard Dojo smoothing in tension is numeric\n\t\t\t\t\tvar dx=item.x-array[i-1].x, dy=array[i-1].y;\n\t\t\t\t\treturn \"C\"+(item.x-(tension-1)*(dx/tension))+\",\"+dy+\" \"+(item.x-(dx/tension))+\",\"+item.y+\" \"+item.x+\",\"+item.y;\n\t\t\t\t} else if(tension == \"X\" || tension == \"x\" || tension == \"S\") {\n\t\t\t\t\t// use Excel \"line smoothing\" algorithm (http://xlrotor.com/resources/files.shtml)\n\t\t\t\t\tvar p0, p1 = array[i-1], p2 = array[i], p3;\n\t\t\t\t\tvar bz1x, bz1y, bz2x, bz2y;\n\t\t\t\t\tvar f = 1/6;\n\t\t\t\t\tif(i==1) {\n\t\t\t\t\t\tif(tension == \"x\") {\n\t\t\t\t\t\t\tp0 = array[array.length-2];\n\t\t\t\t\t\t} else { // \"tension == X || tension == \"S\"\n\t\t\t\t\t\t\tp0 = p1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf = 1/3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp0 = array[i-2];\n\t\t\t\t\t}\n\t\t\t\t\tif(i==(array.length-1)) {\n\t\t\t\t\t\tif(tension == \"x\") {\n\t\t\t\t\t\t\tp3 = array[1];\n\t\t\t\t\t\t} else { // \"tension == X || tension == \"S\"\n\t\t\t\t\t\t\tp3 = p2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf = 1/3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp3 = array[i+1];\n\t\t\t\t\t}\n\t\t\t\t\tvar p1p2 = Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));\n\t\t\t\t\tvar p0p2 = Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));\n\t\t\t\t\tvar p1p3 = Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));\n\n\t\t\t\t\tvar p0p2f = p0p2 * f;\n\t\t\t\t\tvar p1p3f = p1p3 * f;\n\n\t\t\t\t\tif(p0p2f > p1p2/2 && p1p3f > p1p2/2) {\n\t\t\t\t\t\tp0p2f = p1p2/2;\n\t\t\t\t\t\tp1p3f = p1p2/2;\n\t\t\t\t\t} else if(p0p2f > p1p2/2) {\n\t\t\t\t\t\tp0p2f = p1p2/2;\n\t\t\t\t\t\tp1p3f = p1p2/2 * p1p3/p0p2;\n\t\t\t\t\t} else if(p1p3f > p1p2/2) {\n\t\t\t\t\t\tp1p3f = p1p2/2;\n\t\t\t\t\t\tp0p2f = p1p2/2 * p0p2/p1p3;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(tension == \"S\") {\n\t\t\t\t\t\tif(p0 == p1) { p0p2f = 0; }\n\t\t\t\t\t\tif(p2 == p3) { p1p3f = 0; }\n\t\t\t\t\t}\n\n\t\t\t\t\tbz1x = p1.x + p0p2f*(p2.x - p0.x)/p0p2;\n\t\t\t\t\tbz1y = p1.y + p0p2f*(p2.y - p0.y)/p0p2;\n\t\t\t\t\tbz2x = p2.x - p1p3f*(p3.x - p1.x)/p1p3;\n\t\t\t\t\tbz2y = p2.y - p1p3f*(p3.y - p1.y)/p1p3;\n\t\t\t\t}\n\t\t\t\treturn \"C\"+(bz1x+\",\"+bz1y+\" \"+bz2x+\",\"+bz2y+\" \"+p2.x+\",\"+p2.y);\n\t\t\t});\n\t\t\treturn p.join(\" \");\n\t\t},\n\n\t\tgetLabel: function(/*Number*/number, /*Boolean*/fixed, /*Number*/precision){\n\t\t\treturn sc.doIfLoaded(\"dojo/number\", function(numberLib){\n\t\t\t\treturn (fixed ? numberLib.format(number, {places : precision}) :\n\t\t\t\t\tnumberLib.format(number)) || \"\";\n\t\t\t}, function(){\n\t\t\t\treturn fixed ? number.toFixed(precision) : number.toString();\n\t\t\t});\n\t\t},\n\n\t\tpurgeGroup: function (item) {\n\t\t\treturn item.purgeGroup();\n\t\t}\n\t});\n});\n","define([\n\t\"dojo/_base/lang\",\n\t\"dojox/lang/functional\",\n\t\"./common\"\n], function(lang, df, common){\n\t\n\tvar commonStacked = lang.getObject(\"dojox.charting.plot2d.commonStacked\", true);\n\treturn lang.mixin(commonStacked, {\n\t\tcollectStats: function(series, isNullValue){\n\t\t\tvar stats = lang.delegate(common.defaultStats);\n\t\t\tfor(var i = 0; i < series.length; ++i){\n\t\t\t\tvar run = series[i];\n\t\t\t\tfor(var j = 0; j < run.data.length; j++){\n\t\t\t\t\tvar x, y;\n\t\t\t\t\tif(run.data[j] !== null){\n\t\t\t\t\t\tif(typeof run.data[j] == \"number\" || !run.data[j].hasOwnProperty(\"x\")){\n\t\t\t\t\t\t\ty = commonStacked.getIndexValue(series, i, j, isNullValue)[0];\n\t\t\t\t\t\t\tx = j+1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tx = run.data[j].x;\n\t\t\t\t\t\t\tif(x !== null){\n\t\t\t\t\t\t\t\ty = commonStacked.getValue(series, i, x, isNullValue)[0];\n\t\t\t\t\t\t\t\ty = y != null && y.y ? y.y:null; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstats.hmin = Math.min(stats.hmin, x);\n\t\t\t\t\t\tstats.hmax = Math.max(stats.hmax, x);\n\t\t\t\t\t\tstats.vmin = Math.min(stats.vmin, y);\n\t\t\t\t\t\tstats.vmax = Math.max(stats.vmax, y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stats;\n\t\t},\n\t\t\n\t\trearrangeValues: function(values, transform, baseline){\n\t\t\t// collect references to non-empty sets\n\t\t\tvar sets = df.filter(values, \"x\"), n = sets.length;\n\t\t\tif(!n){\n\t\t\t\t// nothing to do at all\n\t\t\t\treturn values;\n\t\t\t}\n\n\t\t\t// stack values\n\t\t\tvar previousSet = {};\n\t\t\tfor(var i = 0; i < n; ++i){\n\t\t\t\tvar extractedSet = sets[i];\n\t\t\t\tfor(var j = extractedSet.min, k = extractedSet.max; j < k; ++j){\n\t\t\t\t\textractedSet[j] = (extractedSet[j] || 0) + (previousSet[j] || 0);\n\t\t\t\t}\n\t\t\t\tpreviousSet = extractedSet;\n\t\t\t}\n\n\t\t\t// transform to pixels\n\t\t\tfor(i = 0; i < n; ++i){\n\t\t\t\textractedSet = sets[i];\n\t\t\t\tfor(j = extractedSet.min, k = extractedSet.max; j < k; ++j){\n\t\t\t\t\textractedSet[j] = this.isNullValue(extractedSet[j]) ? 0 :\n\t\t\t\t\t\ttransform(extractedSet[j]) - baseline;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// correct the minimal width\n\t\t\tif(this.opt.minWidth){\n\t\t\t\tvar minWidth = this.opt.minWidth;\n\n\t\t\t\t// unstack\n\t\t\t\tfor(i = n - 1; i; --i){\n\t\t\t\t\textractedSet = sets[i];\n\t\t\t\t\tpreviousSet  = sets[i - 1];\n\t\t\t\t\tfor(j = extractedSet.min, k = extractedSet.max; j < k; ++j){\n\t\t\t\t\t\textractedSet[j] = extractedSet[j] - previousSet[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// now let's go over all values and correct them, if needed\n\t\t\t\tvar min = extractedSet.min, max = extractedSet.max;\n\t\t\t\tfor(var j = min; j < max; ++j){\n\n\t\t\t\t\t// find a total length of stack\n\t\t\t\t\tvar sum = 0, counter = 0;\n\t\t\t\t\tfor(i = 0; i < n; ++i){\n\t\t\t\t\t\tvar value = sets[i][j];\n\t\t\t\t\t\tif(value > 0){\n\t\t\t\t\t\t\tsum += value;\n\t\t\t\t\t\t\t++counter;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sum <= counter * minWidth){\n\t\t\t\t\t\t// the corner case: all values are very small\n\t\t\t\t\t\tfor(i = 0; i < n; ++i){\n\t\t\t\t\t\t\tvalue = sets[i][j];\n\t\t\t\t\t\t\tif(value > 0){\n\t\t\t\t\t\t\t\tsets[i][j] = minWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\t// next stack\n\t\t\t\t\t}\n\n\t\t\t\t\t// distributing overflow up\n\t\t\t\t\tvar overflow = 0;\n\t\t\t\t\tfor(i = 0; i < n; ++i){\n\t\t\t\t\t\textractedSet = sets[i];\n\t\t\t\t\t\tvalue = extractedSet[j];\n\t\t\t\t\t\tif(value > 0){\n\t\t\t\t\t\t\tif(value < minWidth){\n\t\t\t\t\t\t\t\toverflow += minWidth - value;\n\t\t\t\t\t\t\t\textractedSet[j] = minWidth;\n\t\t\t\t\t\t\t}else if(overflow > 0){\n\t\t\t\t\t\t\t\t// calculate available space\n\t\t\t\t\t\t\t\tvar available = extractedSet[j] - minWidth;\n\t\t\t\t\t\t\t\tif(available >= overflow){\n\t\t\t\t\t\t\t\t\textractedSet[j] -= overflow;\n\t\t\t\t\t\t\t\t\toverflow = 0;\n\t\t\t\t\t\t\t\t}else if(available > 0){\n\t\t\t\t\t\t\t\t\textractedSet[j] = minWidth;\n\t\t\t\t\t\t\t\t\toverflow -= available;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// distributing overflow down, if any\n\t\t\t\t\tif(overflow > 0){\n\t\t\t\t\t\tfor(i = n - 1; i >= 0; --i){\n\t\t\t\t\t\t\textractedSet = sets[i];\n\t\t\t\t\t\t\tvalue = extractedSet[j];\n\t\t\t\t\t\t\tif(value > 0){\n\t\t\t\t\t\t\t\t// calculate available space\n\t\t\t\t\t\t\t\tavailable = extractedSet[j] - minWidth;\n\t\t\t\t\t\t\t\tif(available >= overflow){\n\t\t\t\t\t\t\t\t\textractedSet[j] -= overflow;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}else if(available > 0){\n\t\t\t\t\t\t\t\t\textractedSet[j] = minWidth;\n\t\t\t\t\t\t\t\t\toverflow -= available;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// stack\n\t\t\t\tfor(i = 1; i < n; ++i){\n\t\t\t\t\textractedSet = sets[i];\n\t\t\t\t\tpreviousSet  = sets[i - 1];\n\t\t\t\t\tfor(j = extractedSet.min, k = extractedSet.max; j < k; ++j){\n\t\t\t\t\t\textractedSet[j] = extractedSet[j] + previousSet[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn values;\n\t\t},\n\t\t\n\t\tgetIndexValue: function(series, i, index, isNullValue){\n\t\t\tvar value = 0, v, j, pvalue;\n\t\t\tfor(j = 0; j <= i; ++j){\n\t\t\t\tif(series[j].hidden){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tpvalue = value;\n\t\t\t\tv = series[j].data[index];\n\t\t\t\tif(!isNullValue(v)){\n\t\t\t\t\tif(isNaN(v)){ v = v.y || 0; }\n\t\t\t\t\tvalue += v;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [value , pvalue];\n\t\t},\n\t\t\n\t\tgetValue: function(series, i, x, isNullValue){\n\t\t\tvar value = null, j, z, v, pvalue;\n\t\t\tfor(j = 0; j <= i; ++j){\n\t\t\t\tif(series[j].hidden){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfor(z = 0; z < series[j].data.length; z++){\n\t\t\t\t\tpvalue = value;\n\t\t\t\t\tv = series[j].data[z];\n\t\t\t\t\tif(!isNullValue(v)){\n\t\t\t\t\t\tif(v.x == x){\n\t\t\t\t\t\t\tif(!value){\n\t\t\t\t\t\t\t\tvalue = {x: x};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(v.y != null){\n\t\t\t\t\t\t\t\tif(value.y == null){\n\t\t\t\t\t\t\t\t\tvalue.y = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue.y += v.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else if(v.x > x){break;}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [value, pvalue];\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\"], function(lang){\n\n\tvar eq = function(/*Number*/ a, /*Number*/ b){\n\t\t// summary:\n\t\t//\t\tcompare two FP numbers for equality\n\t\treturn Math.abs(a - b) <= 1e-6 * (Math.abs(a) + Math.abs(b));\t// Boolean\n\t};\n\n\tvar common = lang.getObject(\"dojox.charting.scaler.common\", true);\n\n\tvar testedModules = {};\n\n\treturn lang.mixin(common, {\n\t\tdoIfLoaded: function(moduleName, ifloaded, ifnotloaded){\n\t\t\tif(testedModules[moduleName] === undefined){\n\t\t\t\ttry{\n\t\t\t\t\ttestedModules[moduleName] = require(moduleName);\n\t\t\t\t}catch(e){\n\t\t\t\t\ttestedModules[moduleName] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(testedModules[moduleName]){\n\t\t\t\treturn ifloaded(testedModules[moduleName]);\n\t\t\t}else{\n\t\t\t\treturn ifnotloaded();\n\t\t\t}\n\t\t},\n\t\tgetNumericLabel: function(/*Number*/ number, /*Number*/ precision, /*Object*/ kwArgs){\n\t\t\tvar def = \"\";\n\t\t\tcommon.doIfLoaded(\"dojo/number\", function(numberLib){\n\t\t\t\tdef = (kwArgs.fixed ? numberLib.format(number, {places : precision < 0 ? -precision : 0}) :\n\t\t\t\t\tnumberLib.format(number)) || \"\";\n\t\t\t}, function(){\n\t\t\t\tdef = kwArgs.fixed ? number.toFixed(precision < 0 ? -precision : 0) : number.toString();\n\t\t\t});\n\t\t\tif(kwArgs.labelFunc){\n\t\t\t\tvar r = kwArgs.labelFunc(def, number, precision);\n\t\t\t\tif(r){ return r; }\n\t\t\t\t// else fall through to the regular labels search\n\t\t\t}\n\t\t\tif(kwArgs.labels){\n\t\t\t\t// classic binary search\n\t\t\t\t// TODO: working only if the array is sorted per value should be better documented or sorted automatically\n\t\t\t\tvar l = kwArgs.labels, lo = 0, hi = l.length;\n\t\t\t\twhile(lo < hi){\n\t\t\t\t\tvar mid = Math.floor((lo + hi) / 2), val = l[mid].value;\n\t\t\t\t\tif(val < number){\n\t\t\t\t\t\tlo = mid + 1;\n\t\t\t\t\t}else{\n\t\t\t\t\t\thi = mid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// lets take into account FP errors\n\t\t\t\tif(lo < l.length && eq(l[lo].value, number)){\n\t\t\t\t\treturn l[lo].text;\n\t\t\t\t}\n\t\t\t\t--lo;\n\t\t\t\tif(lo >= 0 && lo < l.length && eq(l[lo].value, number)){\n\t\t\t\t\treturn l[lo].text;\n\t\t\t\t}\n\t\t\t\tlo += 2;\n\t\t\t\tif(lo < l.length && eq(l[lo].value, number)){\n\t\t\t\t\treturn l[lo].text;\n\t\t\t\t}\n\t\t\t\t// otherwise we will produce a number\n\t\t\t}\n\t\t\treturn def;\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\", \"./common\"], \n\tfunction(lang, common){\n\tvar linear = lang.getObject(\"dojox.charting.scaler.linear\", true);\n\t\n\tvar deltaLimit = 3,\t// pixels\n\t\tgetLabel = common.getNumericLabel;\n\n\t\tfunction findString(/*String*/ val, /*Array*/ text){\n\t\t\tval = val.toLowerCase();\n\t\t\tfor(var i = text.length - 1; i >= 0; --i){\n\t\t\t\tif(val === text[i]){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\n\tvar calcTicks = function(min, max, kwArgs, majorTick, minorTick, microTick, span){\n\t\tkwArgs = lang.delegate(kwArgs);\n\t\tif(!majorTick){\n\t\t\tif(kwArgs.fixUpper == \"major\"){ kwArgs.fixUpper = \"minor\"; }\n\t\t\tif(kwArgs.fixLower == \"major\"){ kwArgs.fixLower = \"minor\"; }\n\t\t}\n\t\tif(!minorTick){\n\t\t\tif(kwArgs.fixUpper == \"minor\"){ kwArgs.fixUpper = \"micro\"; }\n\t\t\tif(kwArgs.fixLower == \"minor\"){ kwArgs.fixLower = \"micro\"; }\n\t\t}\n\t\tif(!microTick){\n\t\t\tif(kwArgs.fixUpper == \"micro\"){ kwArgs.fixUpper = \"none\"; }\n\t\t\tif(kwArgs.fixLower == \"micro\"){ kwArgs.fixLower = \"none\"; }\n\t\t}\n\t\tvar lowerBound = findString(kwArgs.fixLower, [\"major\"]) ?\n\t\t\t\tMath.floor(kwArgs.min / majorTick) * majorTick :\n\t\t\t\t\tfindString(kwArgs.fixLower, [\"minor\"]) ?\n\t\t\t\t\t\tMath.floor(kwArgs.min / minorTick) * minorTick :\n\t\t\t\t\t\t\tfindString(kwArgs.fixLower, [\"micro\"]) ?\n\t\t\t\t\t\t\t\tMath.floor(kwArgs.min / microTick) * microTick : kwArgs.min,\n\t\t\tupperBound = findString(kwArgs.fixUpper, [\"major\"]) ?\n\t\t\t\tMath.ceil(kwArgs.max / majorTick) * majorTick :\n\t\t\t\t\tfindString(kwArgs.fixUpper, [\"minor\"]) ?\n\t\t\t\t\t\tMath.ceil(kwArgs.max / minorTick) * minorTick :\n\t\t\t\t\t\t\tfindString(kwArgs.fixUpper, [\"micro\"]) ?\n\t\t\t\t\t\t\t\tMath.ceil(kwArgs.max / microTick) * microTick : kwArgs.max;\n\t\t\t\t\t\t\t\t\n\t\tif(kwArgs.useMin){ min = lowerBound; }\n\t\tif(kwArgs.useMax){ max = upperBound; }\n\t\t\n\t\tvar majorStart = (!majorTick || kwArgs.useMin && findString(kwArgs.fixLower, [\"major\"])) ?\n\t\t\t\tmin : Math.ceil(min / majorTick) * majorTick,\n\t\t\tminorStart = (!minorTick || kwArgs.useMin && findString(kwArgs.fixLower, [\"major\", \"minor\"])) ?\n\t\t\t\tmin : Math.ceil(min / minorTick) * minorTick,\n\t\t\tmicroStart = (! microTick || kwArgs.useMin && findString(kwArgs.fixLower, [\"major\", \"minor\", \"micro\"])) ?\n\t\t\t\tmin : Math.ceil(min / microTick) * microTick,\n\t\t\tmajorCount = !majorTick ? 0 : (kwArgs.useMax && findString(kwArgs.fixUpper, [\"major\"]) ?\n\t\t\t\tMath.round((max - majorStart) / majorTick) :\n\t\t\t\tMath.floor((max - majorStart) / majorTick)) + 1,\n\t\t\tminorCount = !minorTick ? 0 : (kwArgs.useMax && findString(kwArgs.fixUpper, [\"major\", \"minor\"]) ?\n\t\t\t\tMath.round((max - minorStart) / minorTick) :\n\t\t\t\tMath.floor((max - minorStart) / minorTick)) + 1,\n\t\t\tmicroCount = !microTick ? 0 : (kwArgs.useMax && findString(kwArgs.fixUpper, [\"major\", \"minor\", \"micro\"]) ?\n\t\t\t\tMath.round((max - microStart) / microTick) :\n\t\t\t\tMath.floor((max - microStart) / microTick)) + 1,\n\t\t\tminorPerMajor  = minorTick ? Math.round(majorTick / minorTick) : 0,\n\t\t\tmicroPerMinor  = microTick ? Math.round(minorTick / microTick) : 0,\n\t\t\tmajorPrecision = majorTick ? Math.floor(Math.log(majorTick) / Math.LN10) : 0,\n\t\t\tminorPrecision = minorTick ? Math.floor(Math.log(minorTick) / Math.LN10) : 0,\n\t\t\tscale = span / (max - min);\n\t\tif(!isFinite(scale)){ scale = 1; }\n\t\t\n\t\treturn {\n\t\t\tbounds: {\n\t\t\t\tlower:\tlowerBound,\n\t\t\t\tupper:\tupperBound,\n\t\t\t\tfrom:\tmin,\n\t\t\t\tto:\t\tmax,\n\t\t\t\tscale:\tscale,\n\t\t\t\tspan:\tspan\n\t\t\t},\n\t\t\tmajor: {\n\t\t\t\ttick:\tmajorTick,\n\t\t\t\tstart:\tmajorStart,\n\t\t\t\tcount:\tmajorCount,\n\t\t\t\tprec:\tmajorPrecision\n\t\t\t},\n\t\t\tminor: {\n\t\t\t\ttick:\tminorTick,\n\t\t\t\tstart:\tminorStart,\n\t\t\t\tcount:\tminorCount,\n\t\t\t\tprec:\tminorPrecision\n\t\t\t},\n\t\t\tmicro: {\n\t\t\t\ttick:\tmicroTick,\n\t\t\t\tstart:\tmicroStart,\n\t\t\t\tcount:\tmicroCount,\n\t\t\t\tprec:\t0\n\t\t\t},\n\t\t\tminorPerMajor:\tminorPerMajor,\n\t\t\tmicroPerMinor:\tmicroPerMinor,\n\t\t\tscaler:\t\t\tlinear\n\t\t};\n\t};\n\t\n\treturn lang.mixin(linear, {\n\t\tbuildScaler: function(/*Number*/ min, /*Number*/ max, /*Number*/ span, /*Object*/ kwArgs, /*Number?*/ delta, /*Number?*/ minorDelta){\n\t\t\tvar h = {fixUpper: \"none\", fixLower: \"none\", natural: false};\n\t\t\tif(kwArgs){\n\t\t\t\tif(\"fixUpper\" in kwArgs){ h.fixUpper = String(kwArgs.fixUpper); }\n\t\t\t\tif(\"fixLower\" in kwArgs){ h.fixLower = String(kwArgs.fixLower); }\n\t\t\t\tif(\"natural\"  in kwArgs){ h.natural  = Boolean(kwArgs.natural); }\n\t\t\t}\n\t\t\tminorDelta = !minorDelta || minorDelta < deltaLimit ? deltaLimit : minorDelta;\n\t\t\t\n\t\t\t// update bounds\n\t\t\tif(\"min\" in kwArgs){ min = kwArgs.min; }\n\t\t\tif(\"max\" in kwArgs){ max = kwArgs.max; }\n\t\t\tif(kwArgs.includeZero){\n\t\t\t\tif(min > 0){ min = 0; }\n\t\t\t\tif(max < 0){ max = 0; }\n\t\t\t}\n\t\t\th.min = min;\n\t\t\th.useMin = true;\n\t\t\th.max = max;\n\t\t\th.useMax = true;\n\t\t\t\n\t\t\tif(\"from\" in kwArgs){\n\t\t\t\tmin = kwArgs.from;\n\t\t\t\th.useMin = false;\n\t\t\t}\n\t\t\tif(\"to\" in kwArgs){\n\t\t\t\tmax = kwArgs.to;\n\t\t\t\th.useMax = false;\n\t\t\t}\n\t\t\t\n\t\t\t// check for erroneous condition\n\t\t\tif(max <= min){\n\t\t\t\treturn calcTicks(min, max, h, 0, 0, 0, span);\t// Object\n\t\t\t}\n\t\t\tif(!delta){\n\t\t\t\tdelta = max - min;\n\t\t\t}\n\t\t\tvar mag = Math.floor(Math.log(delta) / Math.LN10),\n\t\t\t\tmajor = kwArgs && (\"majorTickStep\" in kwArgs) ? kwArgs.majorTickStep : Math.pow(10, mag),\n\t\t\t\tminor = 0, micro = 0, ticks;\n\t\t\t\t\n\t\t\t// calculate minor ticks\n\t\t\tif(kwArgs && (\"minorTickStep\" in kwArgs)){\n\t\t\t\tminor = kwArgs.minorTickStep;\n\t\t\t}else{\n\t\t\t\tdo{\n\t\t\t\t\tminor = major / 10;\n\t\t\t\t\tif(!h.natural || minor > 0.9){\n\t\t\t\t\t\tticks = calcTicks(min, max, h, major, minor, 0, span);\n\t\t\t\t\t\tif(ticks.bounds.scale * ticks.minor.tick > minorDelta){ break; }\n\t\t\t\t\t}\n\t\t\t\t\tminor = major / 5;\n\t\t\t\t\tif(!h.natural || minor > 0.9){\n\t\t\t\t\t\tticks = calcTicks(min, max, h, major, minor, 0, span);\n\t\t\t\t\t\tif(ticks.bounds.scale * ticks.minor.tick > minorDelta){ break; }\n\t\t\t\t\t}\n\t\t\t\t\tminor = major / 2;\n\t\t\t\t\tif(!h.natural || minor > 0.9){\n\t\t\t\t\t\tticks = calcTicks(min, max, h, major, minor, 0, span);\n\t\t\t\t\t\tif(ticks.bounds.scale * ticks.minor.tick > minorDelta){ break; }\n\t\t\t\t\t}\n\t\t\t\t\treturn calcTicks(min, max, h, major, 0, 0, span);\t// Object\n\t\t\t\t}while(false);\n\t\t\t}\n\t\n\t\t\t// calculate micro ticks\n\t\t\tif(kwArgs && (\"microTickStep\" in kwArgs)){\n\t\t\t\tmicro = kwArgs.microTickStep;\n\t\t\t\tticks = calcTicks(min, max, h, major, minor, micro, span);\n\t\t\t}else{\n\t\t\t\tdo{\n\t\t\t\t\tmicro = minor / 10;\n\t\t\t\t\tif(!h.natural || micro > 0.9){\n\t\t\t\t\t\tticks = calcTicks(min, max, h, major, minor, micro, span);\n\t\t\t\t\t\tif(ticks.bounds.scale * ticks.micro.tick > deltaLimit){ break; }\n\t\t\t\t\t}\n\t\t\t\t\tmicro = minor / 5;\n\t\t\t\t\tif(!h.natural || micro > 0.9){\n\t\t\t\t\t\tticks = calcTicks(min, max, h, major, minor, micro, span);\n\t\t\t\t\t\tif(ticks.bounds.scale * ticks.micro.tick > deltaLimit){ break; }\n\t\t\t\t\t}\n\t\t\t\t\tmicro = minor / 2;\n\t\t\t\t\tif(!h.natural || micro > 0.9){\n\t\t\t\t\t\tticks = calcTicks(min, max, h, major, minor, micro, span);\n\t\t\t\t\t\tif(ticks.bounds.scale * ticks.micro.tick > deltaLimit){ break; }\n\t\t\t\t\t}\n\t\t\t\t\tmicro = 0;\n\t\t\t\t}while(false);\n\t\t\t}\n\t\n\t\t\treturn micro ? ticks : calcTicks(min, max, h, major, minor, 0, span);\t// Object\n\t\t},\n\t\tbuildTicks: function(/*Object*/ scaler, /*Object*/ kwArgs){\n\t\t\tvar step, next, tick,\n\t\t\t\tnextMajor = scaler.major.start,\n\t\t\t\tnextMinor = scaler.minor.start,\n\t\t\t\tnextMicro = scaler.micro.start;\n\t\t\tif(kwArgs.microTicks && scaler.micro.tick){\n\t\t\t\tstep = scaler.micro.tick, next = nextMicro;\n\t\t\t}else if(kwArgs.minorTicks && scaler.minor.tick){\n\t\t\t\tstep = scaler.minor.tick, next = nextMinor;\n\t\t\t}else if(scaler.major.tick){\n\t\t\t\tstep = scaler.major.tick, next = nextMajor;\n\t\t\t}else{\n\t\t\t\t// no ticks\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t// make sure that we have finite bounds\n\t\t\tvar revScale = 1 / scaler.bounds.scale;\n\t\t\tif(scaler.bounds.to <= scaler.bounds.from || isNaN(revScale) || !isFinite(revScale) ||\n\t\t\t\t\tstep <= 0 || isNaN(step) || !isFinite(step)){\n\t\t\t\t// no ticks\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t// loop over all ticks\n\t\t\tvar majorTicks = [], minorTicks = [], microTicks = [];\n\t\t\twhile(next <= scaler.bounds.to + revScale){\n\t\t\t\tif(Math.abs(nextMajor - next) < step / 2){\n\t\t\t\t\t// major tick\n\t\t\t\t\ttick = {value: nextMajor};\n\t\t\t\t\tif(kwArgs.majorLabels){\n\t\t\t\t\t\ttick.label = getLabel(nextMajor, scaler.major.prec, kwArgs);\n\t\t\t\t\t}\n\t\t\t\t\tmajorTicks.push(tick);\n\t\t\t\t\tnextMajor += scaler.major.tick;\n\t\t\t\t\tnextMinor += scaler.minor.tick;\n\t\t\t\t\tnextMicro += scaler.micro.tick;\n\t\t\t\t}else if(Math.abs(nextMinor - next) < step / 2){\n\t\t\t\t\t// minor tick\n\t\t\t\t\tif(kwArgs.minorTicks){\n\t\t\t\t\t\ttick = {value: nextMinor};\n\t\t\t\t\t\tif(kwArgs.minorLabels && (scaler.minMinorStep <= scaler.minor.tick * scaler.bounds.scale)){\n\t\t\t\t\t\t\ttick.label = getLabel(nextMinor, scaler.minor.prec, kwArgs);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminorTicks.push(tick);\n\t\t\t\t\t}\n\t\t\t\t\tnextMinor += scaler.minor.tick;\n\t\t\t\t\tnextMicro += scaler.micro.tick;\n\t\t\t\t}else{\n\t\t\t\t\t// micro tick\n\t\t\t\t\tif(kwArgs.microTicks){\n\t\t\t\t\t\tmicroTicks.push({value: nextMicro});\n\t\t\t\t\t}\n\t\t\t\t\tnextMicro += scaler.micro.tick;\n\t\t\t\t}\n\t\t\t\tnext += step;\n\t\t\t}\n\t\t\treturn {major: majorTicks, minor: minorTicks, micro: microTicks};\t// Object\n\t\t},\n\t\tgetTransformerFromModel: function(/*Object*/ scaler){\n\t\t\tvar offset = scaler.bounds.from, scale = scaler.bounds.scale;\n\t\t\treturn function(x){ return (x - offset) * scale; };\t// Function\n\t\t},\n\t\tgetTransformerFromPlot: function(/*Object*/ scaler){\n\t\t\tvar offset = scaler.bounds.from, scale = scaler.bounds.scale;\n\t\t\treturn function(x){ return x / scale + offset; };\t// Function\n\t\t}\n\t});\n});\n","define([\"dojo/_base/lang\"], \n  function(lang){\n\tvar primitive = lang.getObject(\"dojox.charting.scaler.primitive\", true);\n\treturn lang.mixin(primitive, {\n\t\tbuildScaler: function(/*Number*/ min, /*Number*/ max, /*Number*/ span, /*Object*/ kwArgs){\n\t\t\tif(min == max){\n\t\t\t\t// artificially extend bounds\n\t\t\t\tmin -= 0.5;\n\t\t\t\tmax += 0.5;\n\t\t\t\t// now the line will be centered\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tbounds: {\n\t\t\t\t\tlower: min,\n\t\t\t\t\tupper: max,\n\t\t\t\t\tfrom:  min,\n\t\t\t\t\tto:    max,\n\t\t\t\t\tscale: span / (max - min),\n\t\t\t\t\tspan:  span\n\t\t\t\t},\n\t\t\t\tscaler: primitive\n\t\t\t};\n\t\t},\n\t\tbuildTicks: function(/*Object*/ scaler, /*Object*/ kwArgs){\n\t\t\treturn {major: [], minor: [], micro: []};\t// Object\n\t\t},\n\t\tgetTransformerFromModel: function(/*Object*/ scaler){\n\t\t\tvar offset = scaler.bounds.from, scale = scaler.bounds.scale;\n\t\t\treturn function(x){ return (x - offset) * scale; };\t// Function\n\t\t},\n\t\tgetTransformerFromPlot: function(/*Object*/ scaler){\n\t\t\tvar offset = scaler.bounds.from, scale = scaler.bounds.scale;\n\t\t\treturn function(x){ return x / scale + offset; };\t// Function\n\t\t}\n\t});\n});\n","define([\"../SimpleTheme\", \"./common\"], function(SimpleTheme, themes){\n\tthemes.Wetland = new SimpleTheme({\n\t\tcolors: [\n\t\t\t\"#bfbc64\",\n\t\t\t\"#737130\",\n\t\t\t\"#73373b\",\n\t\t\t\"#7dafca\",\n\t\t\t\"#8d3c42\"\n\t\t]\n\t});\n\treturn themes.Wetland;\n});\n","define([\"dojo/_base/lang\"], function(lang){\n\treturn lang.getObject(\"dojox.charting.themes\", true);\n});\n","define([\"dojo/_base/lang\", \"./gfx/_base\", \"./gfx/renderer!\"], \n  function(lang, gfxBase, renderer){\n\t// module:\n\t//\t\tdojox/gfx\n\t// summary:\n\t//\t\tThis the root of the Dojo Graphics package\n\tgfxBase.switchTo(renderer);\n\treturn gfxBase;\n});\n","define([\"dojo/_base/kernel\", \"dojo/_base/lang\", \"dojo/_base/Color\", \"dojo/_base/sniff\", \"dojo/_base/window\",\n\t    \"dojo/_base/array\",\"dojo/dom\", \"dojo/dom-construct\",\"dojo/dom-geometry\"],\nfunction(kernel, lang, Color, has, win, arr, dom, domConstruct, domGeom){\n\t// module:\n\t//\t\tdojox/gfx\n\t// summary:\n\t//\t\tThis module contains common core Graphics API used by different graphics renderers.\n\n\tvar g = lang.getObject(\"dojox.gfx\", true),\n\t\tb = g._base = {};\n\n\t// candidates for dojox.style (work on VML and SVG nodes)\n\tg._hasClass = function(/*DomNode*/node, /*String*/classStr){\n\t\t// summary:\n\t\t//\t\tReturns whether or not the specified classes are a portion of the\n\t\t//\t\tclass list currently applied to the node.\n\n\t\t// return (new RegExp('(^|\\\\s+)'+classStr+'(\\\\s+|$)')).test(node.className)\t// Boolean\n\t\tvar cls = node.getAttribute(\"className\");\n\t\treturn cls && (\" \" + cls + \" \").indexOf(\" \" + classStr + \" \") >= 0;  // Boolean\n\t};\n\tg._addClass = function(/*DomNode*/node, /*String*/classStr){\n\t\t// summary:\n\t\t//\t\tAdds the specified classes to the end of the class list on the\n\t\t//\t\tpassed node.\n\t\tvar cls = node.getAttribute(\"className\") || \"\";\n\t\tif(!cls || (\" \" + cls + \" \").indexOf(\" \" + classStr + \" \") < 0){\n\t\t\tnode.setAttribute(\"className\", cls + (cls ? \" \" : \"\") + classStr);\n\t\t}\n\t};\n\tg._removeClass = function(/*DomNode*/node, /*String*/classStr){\n\t\t// summary:\n\t\t//\t\tRemoves classes from node.\n\t\tvar cls = node.getAttribute(\"className\");\n\t\tif(cls){\n\t\t\tnode.setAttribute(\n\t\t\t\t\"className\",\n\t\t\t\tcls.replace(new RegExp('(^|\\\\s+)' + classStr + '(\\\\s+|$)'), \"$1$2\")\n\t\t\t);\n\t\t}\n\t};\n\n\t// candidate for dojox.html.metrics (dynamic font resize handler is not implemented here)\n\n\t//\t\tderived from Morris John's emResized measurer\n\tb._getFontMeasurements = function(){\n\t\t// summary:\n\t\t//\t\tReturns an object that has pixel equivilents of standard font\n\t\t//\t\tsize values.\n\t\tvar heights = {\n\t\t\t'1em': 0, '1ex': 0, '100%': 0, '12pt': 0, '16px': 0, 'xx-small': 0,\n\t\t\t'x-small': 0, 'small': 0, 'medium': 0, 'large': 0, 'x-large': 0,\n\t\t\t'xx-large': 0\n\t\t};\n\t\tvar p, oldStyle;\n\t\tif(has(\"ie\")){\n\t\t\t//\tWe do a font-size fix if and only if one isn't applied already.\n\t\t\t// NOTE: If someone set the fontSize on the HTML Element, this will kill it.\n\t\t\toldStyle = win.doc.documentElement.style.fontSize || \"\";\n\t\t\tif(!oldStyle){\n\t\t\t\twin.doc.documentElement.style.fontSize=\"100%\";\n\t\t\t}\n\t\t}\n\n\t\t//\t\tset up the measuring node.\n\t\tvar div = domConstruct.create(\"div\", {style: {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tleft: \"0\",\n\t\t\t\ttop: \"-100px\",\n\t\t\t\twidth: \"30px\",\n\t\t\t\theight: \"1000em\",\n\t\t\t\tborderWidth: \"0\",\n\t\t\t\tmargin: \"0\",\n\t\t\t\tpadding: \"0\",\n\t\t\t\toutline: \"none\",\n\t\t\t\tlineHeight: \"1\",\n\t\t\t\toverflow: \"hidden\"\n\t\t\t}}, win.body());\n\n\t\t//\t\tdo the measurements.\n\t\tfor(p in heights){\n\t\t\tdiv.style.fontSize = p;\n\t\t\theights[p] = Math.round(div.offsetHeight * 12/16) * 16/12 / 1000;\n\t\t}\n\n\t\tif(has(\"ie\")){\n\t\t\t// Restore the font to its old style.\n\t\t\twin.doc.documentElement.style.fontSize = oldStyle;\n\t\t}\n\t\twin.body().removeChild(div);\n\t\treturn heights; //object\n\t};\n\n\tvar fontMeasurements = null;\n\n\tb._getCachedFontMeasurements = function(recalculate){\n\t\tif(recalculate || !fontMeasurements){\n\t\t\tfontMeasurements = b._getFontMeasurements();\n\t\t}\n\t\treturn fontMeasurements;\n\t};\n\n\t// candidate for dojox.html.metrics\n\n\tvar measuringNode = null, empty = {};\n\tb._getTextBox = function(\t/*String*/ text,\n\t\t\t\t\t\t\t\t/*Object*/ style,\n\t\t\t\t\t\t\t\t/*String?*/ className){\n\t\tvar m, s, al = arguments.length;\n\t\tvar i, box;\n\t\tif(!measuringNode){\n\t\t\tmeasuringNode = domConstruct.create(\"div\", {style: {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: \"-10000px\",\n\t\t\t\tleft: \"0\",\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t}}, win.body());\n\t\t}\n\t\tm = measuringNode;\n\t\t// reset styles\n\t\tm.className = \"\";\n\t\ts = m.style;\n\t\ts.borderWidth = \"0\";\n\t\ts.margin = \"0\";\n\t\ts.padding = \"0\";\n\t\ts.outline = \"0\";\n\t\t// set new style\n\t\tif(al > 1 && style){\n\t\t\tfor(i in style){\n\t\t\t\tif(i in empty){ continue; }\n\t\t\t\ts[i] = style[i];\n\t\t\t}\n\t\t}\n\t\t// set classes\n\t\tif(al > 2 && className){\n\t\t\tm.className = className;\n\t\t}\n\t\t// take a measure\n\t\tm.innerHTML = text;\n\n\t\tif(m.getBoundingClientRect){\n\t\t\tvar bcr = m.getBoundingClientRect();\n\t\t\tbox = {l: bcr.left, t: bcr.top, w: bcr.width || (bcr.right - bcr.left), h: bcr.height || (bcr.bottom - bcr.top)};\n\t\t}else{\n\t\t\tbox = domGeom.getMarginBox(m);\n\t\t}\n\t\tm.innerHTML = \"\";\n\t\treturn box;\n\t};\n\n\tb._computeTextLocation = function(/*g.defaultTextShape*/textShape, /*Number*/width, /*Number*/height, /*Boolean*/fixHeight) {\n\t\tvar loc = {}, align = textShape.align;\n\t\tswitch (align) {\n\t\t\tcase 'end':\n\t\t\t\tloc.x = textShape.x - width;\n\t\t\t\tbreak;\n\t\t\tcase 'middle':\n\t\t\t\tloc.x = textShape.x - width / 2;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tloc.x = textShape.x;\n\t\t\t\tbreak;\n\t\t}\n\t\tvar c = fixHeight ? 0.75 : 1;\n\t\tloc.y = textShape.y - height*c; // **rough** approximation of the ascent...\n\t\treturn loc;\n\t};\n\tb._computeTextBoundingBox = function(/*shape.Text*/s){\n\t\t// summary:\n\t\t//\t\tCompute the bbox of the given shape.Text instance. Note that this method returns an\n\t\t//\t\tapproximation of the bbox, and should be used when the underlying renderer cannot provide precise metrics.\n\t\tif(!g._base._isRendered(s)){\n\t\t\treturn {x:0, y:0, width:0, height:0};\n\t\t}\n\t\tvar loc, textShape = s.getShape(),\n\t\t\tfont = s.getFont() || g.defaultFont,\n\t\t\tw = s.getTextWidth(),\n\t\t\th = g.normalizedLength(font.size);\n\t\tloc = b._computeTextLocation(textShape, w, h, true);\n\t\treturn {\n\t\t\tx: loc.x,\n\t\t\ty: loc.y,\n\t\t\twidth: w,\n\t\t\theight: h\n\t\t};\n\t};\n\tb._isRendered = function(/*Shape*/s){\n\t\tvar p = s.parent;\n\t\twhile(p && p.getParent){\n\t\t\tp = p.parent;\n\t\t}\n\t\treturn p !== null;\n\t};\n\n\t// candidate for dojo.dom\n\n\tvar uniqueId = 0;\n\tb._getUniqueId = function(){\n\t\t// summary:\n\t\t//\t\treturns a unique string for use with any DOM element\n\t\tvar id;\n\t\tdo{\n\t\t\tid = kernel._scopeName + \"xUnique\" + (++uniqueId);\n\t\t}while(dom.byId(id));\n\t\treturn id;\n\t};\n\n\t// IE10\n\n\tvar touchActionProp = has(\"pointer-events\") ? \"touchAction\" : has(\"MSPointer\") ? \"msTouchAction\" : null;\n\tb._fixMsTouchAction = touchActionProp ? function(/*dojox/gfx/shape.Surface*/surface){\n\t\tsurface.rawNode.style[touchActionProp] = \"none\";\n\t} : function() {};\n\n\t/*=====\n\tg.Stroke = {\n\t\t// summary:\n\t\t//\t\tA stroke defines stylistic properties that are used when drawing a path.\n\n\t\t// color: String\n\t\t//\t\tThe color of the stroke, default value 'black'.\n\t\tcolor: \"black\",\n\n\t\t// style: String\n\t\t//\t\tThe style of the stroke, one of 'solid', ... . Default value 'solid'.\n\t\tstyle: \"solid\",\n\n\t\t// width: Number\n\t\t//\t\tThe width of a stroke, default value 1.\n\t\twidth: 1,\n\n\t\t// cap: String\n\t\t//\t\tThe endcap style of the path. One of 'butt', 'round', ... . Default value 'butt'.\n\t\tcap: \"butt\",\n\n\t\t// join: Number\n\t\t//\t\tThe join style to use when combining path segments. Default value 4.\n\t\tjoin: 4\n\t};\n\n\tg.Fill = {\n\t\t// summary:\n\t\t//\t\tDefines how to fill a shape. Four types of fills can be used: solid, linear gradient, radial gradient and pattern.\n\t\t//\t\tSee dojox/gfx.LinearGradient, dojox/gfx.RadialGradient and dojox/gfx.Pattern respectively for more information about the properties supported by each type.\n\n\t\t// type: String?\n\t\t//\t\tThe type of fill. One of 'linear', 'radial', 'pattern' or undefined. If not specified, a solid fill is assumed.\n\t\ttype:\"\",\n\n\t\t// color: String|dojo/Color?\n\t\t//\t\tThe color of a solid fill type.\n\t\tcolor:null,\n\n\t};\n\n\tg.LinearGradient = {\n\t\t// summary:\n\t\t//\t\tAn object defining the default stylistic properties used for Linear Gradient fills.\n\t\t//\t\tLinear gradients are drawn along a virtual line, which results in appearance of a rotated pattern in a given direction/orientation.\n\n\t\t// type: String\n\t\t//\t\tSpecifies this object is a Linear Gradient, value 'linear'\n\t\ttype: \"linear\",\n\n\t\t// x1: Number\n\t\t//\t\tThe X coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\n\t\tx1: 0,\n\n\t\t// y1: Number\n\t\t//\t\tThe Y coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\n\t\ty1: 0,\n\n\t\t// x2: Number\n\t\t//\t\tThe X coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\n\t\tx2: 100,\n\n\t\t// y2: Number\n\t\t//\t\tThe Y coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\n\t\ty2: 100,\n\n\t\t// colors: Array\n\t\t//\t\tAn array of colors at given offsets (from the start of the line).  The start of the line is\n\t\t//\t\tdefined at offest 0 with the end of the line at offset 1.\n\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\n\t\tcolors: []\n\t};\n\n\tg.RadialGradient = {\n\t\t// summary:\n\t\t//\t\tSpecifies the properties for RadialGradients using in fills patterns.\n\n\t\t// type: String\n\t\t//\t\tSpecifies this is a RadialGradient, value 'radial'\n\t\ttype: \"radial\",\n\n\t\t// cx: Number\n\t\t//\t\tThe X coordinate of the center of the radial gradient, default value 0.\n\t\tcx: 0,\n\n\t\t// cy: Number\n\t\t//\t\tThe Y coordinate of the center of the radial gradient, default value 0.\n\t\tcy: 0,\n\n\t\t// r: Number\n\t\t//\t\tThe radius to the end of the radial gradient, default value 100.\n\t\tr: 100,\n\n\t\t// colors: Array\n\t\t//\t\tAn array of colors at given offsets (from the center of the radial gradient).\n\t\t//\t\tThe center is defined at offest 0 with the outer edge of the gradient at offset 1.\n\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\n\t\tcolors: []\n\t};\n\n\tg.Pattern = {\n\t\t// summary:\n\t\t//\t\tAn object specifying the default properties for a Pattern using in fill operations.\n\n\t\t// type: String\n\t\t//\t\tSpecifies this object is a Pattern, value 'pattern'.\n\t\ttype: \"pattern\",\n\n\t\t// x: Number\n\t\t//\t\tThe X coordinate of the position of the pattern, default value is 0.\n\t\tx: 0,\n\n\t\t// y: Number\n\t\t//\t\tThe Y coordinate of the position of the pattern, default value is 0.\n\t\ty: 0,\n\n\t\t// width: Number\n\t\t//\t\tThe width of the pattern image, default value is 0.\n\t\twidth: 0,\n\n\t\t// height: Number\n\t\t//\t\tThe height of the pattern image, default value is 0.\n\t\theight: 0,\n\n\t\t// src: String\n\t\t//\t\tA url specifying the image to use for the pattern.\n\t\tsrc: \"\"\n\t};\n\n\tg.Text = {\n\t\t//\tsummary:\n\t\t//\t\tA keyword argument object defining both the text to be rendered in a VectorText shape,\n\t\t//\t\tand specifying position, alignment, and fitting.\n\t\t//\ttext: String\n\t\t//\t\tThe text to be rendered.\n\t\t//\tx: Number?\n\t\t//\t\tThe left coordinate for the text's bounding box.\n\t\t//\ty: Number?\n\t\t//\t\tThe top coordinate for the text's bounding box.\n\t\t//\twidth: Number?\n\t\t//\t\tThe width of the text's bounding box.\n\t\t//\theight: Number?\n\t\t//\t\tThe height of the text's bounding box.\n\t\t//\talign: String?\n\t\t//\t\tThe alignment of the text, as defined in SVG. Can be \"start\", \"end\" or \"middle\".\n\t\t//\tfitting: Number?\n\t\t//\t\tHow the text is to be fitted to the bounding box. Can be 0 (no fitting), 1 (fitting based on\n\t\t//\t\tpassed width of the bounding box and the size of the font), or 2 (fit text to the bounding box,\n\t\t//\t\tand ignore any size parameters).\n\t\t//\tleading: Number?\n\t\t//\t\tThe leading to be used between lines in the text.\n\t\t//\tdecoration: String?\n\t\t//\t\tAny text decoration to be used.\n\t};\n\n\tg.Font = {\n\t\t// summary:\n\t\t//\t\tAn object specifying the properties for a Font used in text operations.\n\n\t\t// type: String\n\t\t//\t\tSpecifies this object is a Font, value 'font'.\n\t\ttype: \"font\",\n\n\t\t// style: String\n\t\t//\t\tThe font style, one of 'normal', 'bold', default value 'normal'.\n\t\tstyle: \"normal\",\n\n\t\t// variant: String\n\t\t//\t\tThe font variant, one of 'normal', ... , default value 'normal'.\n\t\tvariant: \"normal\",\n\n\t\t// weight: String\n\t\t//\t\tThe font weight, one of 'normal', ..., default value 'normal'.\n\t\tweight: \"normal\",\n\n\t\t// size: String\n\t\t//\t\tThe font size (including units), default value '10pt'.\n\t\tsize: \"10pt\",\n\n\t\t// family: String\n\t\t//\t\tThe font family, one of 'serif', 'sanserif', ..., default value 'serif'.\n\t\tfamily: \"serif\"\n\t};\n\n\t=====*/\n\n\tlang.mixin(g, {\n\t\t// summary:\n\t\t//\t\tdefines constants, prototypes, and utility functions for the core Graphics API\n\n\t\t// default shapes, which are used to fill in missing parameters\n\t\tdefaultPath: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default Path prototype object.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a Path, default value 'path'.\n\t\t\ttype: \"path\",\n\n\t\t\t// path: String\n\t\t\t//\t\tThe path commands. See W32C SVG 1.0 specification.\n\t\t\t//\t\tDefaults to empty string value.\n\t\t\tpath: \"\"\n\t\t},\n\t\tdefaultPolyline: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default PolyLine prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a PolyLine, default value 'polyline'.\n\t\t\ttype: \"polyline\",\n\n\t\t\t// points: Array\n\t\t\t//\t\tAn array of point objects [{x:0,y:0},...] defining the default polyline's line segments. Value is an empty array [].\n\t\t\tpoints: []\n\t\t},\n\t\tdefaultRect: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default Rect prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this default object is a type of Rect. Value is 'rect'\n\t\t\ttype: \"rect\",\n\n\t\t\t// x: Number\n\t\t\t//\t\tThe X coordinate of the default rectangles position, value 0.\n\t\t\tx: 0,\n\n\t\t\t// y: Number\n\t\t\t//\t\tThe Y coordinate of the default rectangle's position, value 0.\n\t\t\ty: 0,\n\n\t\t\t// width: Number\n\t\t\t//\t\tThe width of the default rectangle, value 100.\n\t\t\twidth: 100,\n\n\t\t\t// height: Number\n\t\t\t//\t\tThe height of the default rectangle, value 100.\n\t\t\theight: 100,\n\n\t\t\t// r: Number\n\t\t\t//\t\tThe corner radius for the default rectangle, value 0.\n\t\t\tr: 0\n\t\t},\n\t\tdefaultEllipse: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default Ellipse prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies that this object is a type of Ellipse, value is 'ellipse'\n\t\t\ttype: \"ellipse\",\n\n\t\t\t// cx: Number\n\t\t\t//\t\tThe X coordinate of the center of the ellipse, default value 0.\n\t\t\tcx: 0,\n\n\t\t\t// cy: Number\n\t\t\t//\t\tThe Y coordinate of the center of the ellipse, default value 0.\n\t\t\tcy: 0,\n\n\t\t\t// rx: Number\n\t\t\t//\t\tThe radius of the ellipse in the X direction, default value 200.\n\t\t\trx: 200,\n\n\t\t\t// ry: Number\n\t\t\t//\t\tThe radius of the ellipse in the Y direction, default value 200.\n\t\t\try: 100\n\t\t},\n\t\tdefaultCircle: {\n\t\t\t// summary:\n\t\t\t//\t\tAn object defining the default Circle prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a circle, value 'circle'\n\t\t\ttype: \"circle\",\n\n\t\t\t// cx: Number\n\t\t\t//\t\tThe X coordinate of the center of the circle, default value 0.\n\t\t\tcx: 0,\n\t\t\t// cy: Number\n\t\t\t//\t\tThe Y coordinate of the center of the circle, default value 0.\n\t\t\tcy: 0,\n\n\t\t\t// r: Number\n\t\t\t//\t\tThe radius, default value 100.\n\t\t\tr: 100\n\t\t},\n\t\tdefaultLine: {\n\t\t\t// summary:\n\t\t\t//\t\tAn object defining the default Line prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this is a Line, value 'line'\n\t\t\ttype: \"line\",\n\n\t\t\t// x1: Number\n\t\t\t//\t\tThe X coordinate of the start of the line, default value 0.\n\t\t\tx1: 0,\n\n\t\t\t// y1: Number\n\t\t\t//\t\tThe Y coordinate of the start of the line, default value 0.\n\t\t\ty1: 0,\n\n\t\t\t// x2: Number\n\t\t\t//\t\tThe X coordinate of the end of the line, default value 100.\n\t\t\tx2: 100,\n\n\t\t\t// y2: Number\n\t\t\t//\t\tThe Y coordinate of the end of the line, default value 100.\n\t\t\ty2: 100\n\t\t},\n\t\tdefaultImage: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default Image prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is an image, value 'image'.\n\t\t\ttype: \"image\",\n\n\t\t\t// x: Number\n\t\t\t//\t\tThe X coordinate of the image's position, default value 0.\n\t\t\tx: 0,\n\n\t\t\t// y: Number\n\t\t\t//\t\tThe Y coordinate of the image's position, default value 0.\n\t\t\ty: 0,\n\n\t\t\t// width: Number\n\t\t\t//\t\tThe width of the image, default value 0.\n\t\t\twidth: 0,\n\n\t\t\t// height: Number\n\t\t\t//\t\tThe height of the image, default value 0.\n\t\t\theight: 0,\n\n\t\t\t// src: String\n\t\t\t//\t\tThe src url of the image, defaults to empty string.\n\t\t\tsrc: \"\"\n\t\t},\n\t\tdefaultText: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default Text prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this is a Text shape, value 'text'.\n\t\t\ttype: \"text\",\n\n\t\t\t// x: Number\n\t\t\t//\t\tThe X coordinate of the text position, default value 0.\n\t\t\tx: 0,\n\n\t\t\t// y: Number\n\t\t\t//\t\tThe Y coordinate of the text position, default value 0.\n\t\t\ty: 0,\n\n\t\t\t// text: String\n\t\t\t//\t\tThe text to be displayed, default value empty string.\n\t\t\ttext: \"\",\n\n\t\t\t// align:\tString\n\t\t\t//\t\tThe horizontal text alignment, one of 'start', 'end', 'center'. Default value 'start'.\n\t\t\talign: \"start\",\n\n\t\t\t// decoration: String\n\t\t\t//\t\tThe text decoration , one of 'none', ... . Default value 'none'.\n\t\t\tdecoration: \"none\",\n\n\t\t\t// rotated: Boolean\n\t\t\t//\t\tWhether the text is rotated, boolean default value false.\n\t\t\trotated: false,\n\n\t\t\t// kerning: Boolean\n\t\t\t//\t\tWhether kerning is used on the text, boolean default value true.\n\t\t\tkerning: true\n\t\t},\n\t\tdefaultTextPath: {\n\t\t\t// summary:\n\t\t\t//\t\tDefines the default TextPath prototype.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this is a TextPath, value 'textpath'.\n\t\t\ttype: \"textpath\",\n\n\t\t\t// text: String\n\t\t\t//\t\tThe text to be displayed, default value empty string.\n\t\t\ttext: \"\",\n\n\t\t\t// align: String\n\t\t\t//\t\tThe horizontal text alignment, one of 'start', 'end', 'center'. Default value 'start'.\n\t\t\talign: \"start\",\n\n\t\t\t// decoration: String\n\t\t\t//\t\tThe text decoration , one of 'none', ... . Default value 'none'.\n\t\t\tdecoration: \"none\",\n\n\t\t\t// rotated: Boolean\n\t\t\t//\t\tWhether the text is rotated, boolean default value false.\n\t\t\trotated: false,\n\n\t\t\t// kerning: Boolean\n\t\t\t//\t\tWhether kerning is used on the text, boolean default value true.\n\t\t\tkerning: true\n\t\t},\n\n\t\t// default stylistic attributes\n\t\tdefaultStroke: {\n\t\t\t// summary:\n\t\t\t//\t\tA stroke defines stylistic properties that are used when drawing a path.\n\t\t\t//\t\tThis object defines the default Stroke prototype.\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a type of Stroke, value 'stroke'.\n\t\t\ttype: \"stroke\",\n\n\t\t\t// color: String\n\t\t\t//\t\tThe color of the stroke, default value 'black'.\n\t\t\tcolor: \"black\",\n\n\t\t\t// style: String\n\t\t\t//\t\tThe style of the stroke, one of 'solid', ... . Default value 'solid'.\n\t\t\tstyle: \"solid\",\n\n\t\t\t// width: Number\n\t\t\t//\t\tThe width of a stroke, default value 1.\n\t\t\twidth: 1,\n\n\t\t\t// cap: String\n\t\t\t//\t\tThe endcap style of the path. One of 'butt', 'round', ... . Default value 'butt'.\n\t\t\tcap: \"butt\",\n\n\t\t\t// join: Number\n\t\t\t//\t\tThe join style to use when combining path segments. Default value 4.\n\t\t\tjoin: 4\n\t\t},\n\t\tdefaultLinearGradient: {\n\t\t\t// summary:\n\t\t\t//\t\tAn object defining the default stylistic properties used for Linear Gradient fills.\n\t\t\t//\t\tLinear gradients are drawn along a virtual line, which results in appearance of a rotated pattern in a given direction/orientation.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a Linear Gradient, value 'linear'\n\t\t\ttype: \"linear\",\n\n\t\t\t// x1: Number\n\t\t\t//\t\tThe X coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\n\t\t\tx1: 0,\n\n\t\t\t// y1: Number\n\t\t\t//\t\tThe Y coordinate of the start of the virtual line along which the gradient is drawn, default value 0.\n\t\t\ty1: 0,\n\n\t\t\t// x2: Number\n\t\t\t//\t\tThe X coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\n\t\t\tx2: 100,\n\n\t\t\t// y2: Number\n\t\t\t//\t\tThe Y coordinate of the end of the virtual line along which the gradient is drawn, default value 100.\n\t\t\ty2: 100,\n\n\t\t\t// colors: Array\n\t\t\t//\t\tAn array of colors at given offsets (from the start of the line).  The start of the line is\n\t\t\t//\t\tdefined at offest 0 with the end of the line at offset 1.\n\t\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\n\t\t\tcolors: [\n\t\t\t\t{ offset: 0, color: \"black\" }, { offset: 1, color: \"white\" }\n\t\t\t]\n\t\t},\n\t\tdefaultRadialGradient: {\n\t\t\t// summary:\n\t\t\t//\t\tAn object specifying the default properties for RadialGradients using in fills patterns.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this is a RadialGradient, value 'radial'\n\t\t\ttype: \"radial\",\n\n\t\t\t// cx: Number\n\t\t\t//\t\tThe X coordinate of the center of the radial gradient, default value 0.\n\t\t\tcx: 0,\n\n\t\t\t// cy: Number\n\t\t\t//\t\tThe Y coordinate of the center of the radial gradient, default value 0.\n\t\t\tcy: 0,\n\n\t\t\t// r: Number\n\t\t\t//\t\tThe radius to the end of the radial gradient, default value 100.\n\t\t\tr: 100,\n\n\t\t\t// colors: Array\n\t\t\t//\t\tAn array of colors at given offsets (from the center of the radial gradient).\n\t\t\t//\t\tThe center is defined at offest 0 with the outer edge of the gradient at offset 1.\n\t\t\t//\t\tDefault value, [{ offset: 0, color: 'black'},{offset: 1, color: 'white'}], is a gradient from black to white.\n\t\t\tcolors: [\n\t\t\t\t{ offset: 0, color: \"black\" }, { offset: 1, color: \"white\" }\n\t\t\t]\n\t\t},\n\t\tdefaultPattern: {\n\t\t\t// summary:\n\t\t\t//\t\tAn object specifying the default properties for a Pattern using in fill operations.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a Pattern, value 'pattern'.\n\t\t\ttype: \"pattern\",\n\n\t\t\t// x: Number\n\t\t\t//\t\tThe X coordinate of the position of the pattern, default value is 0.\n\t\t\tx: 0,\n\n\t\t\t// y: Number\n\t\t\t//\t\tThe Y coordinate of the position of the pattern, default value is 0.\n\t\t\ty: 0,\n\n\t\t\t// width: Number\n\t\t\t//\t\tThe width of the pattern image, default value is 0.\n\t\t\twidth: 0,\n\n\t\t\t// height: Number\n\t\t\t//\t\tThe height of the pattern image, default value is 0.\n\t\t\theight: 0,\n\n\t\t\t// src: String\n\t\t\t//\t\tA url specifying the image to use for the pattern.\n\t\t\tsrc: \"\"\n\t\t},\n\t\tdefaultFont: {\n\t\t\t// summary:\n\t\t\t//\t\tAn object specifying the default properties for a Font used in text operations.\n\n\t\t\t// type: String\n\t\t\t//\t\tSpecifies this object is a Font, value 'font'.\n\t\t\ttype: \"font\",\n\n\t\t\t// style: String\n\t\t\t//\t\tThe font style, one of 'normal', 'bold', default value 'normal'.\n\t\t\tstyle: \"normal\",\n\n\t\t\t// variant: String\n\t\t\t//\t\tThe font variant, one of 'normal', ... , default value 'normal'.\n\t\t\tvariant: \"normal\",\n\n\t\t\t// weight: String\n\t\t\t//\t\tThe font weight, one of 'normal', ..., default value 'normal'.\n\t\t\tweight: \"normal\",\n\n\t\t\t// size: String\n\t\t\t//\t\tThe font size (including units), default value '10pt'.\n\t\t\tsize: \"10pt\",\n\n\t\t\t// family: String\n\t\t\t//\t\tThe font family, one of 'serif', 'sanserif', ..., default value 'serif'.\n\t\t\tfamily: \"serif\"\n\t\t},\n\n\t\tgetDefault: (function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns a function used to access default memoized prototype objects (see them defined above).\n\t\t\tvar typeCtorCache = {};\n\t\t\t// a memoized delegate()\n\t\t\treturn function(/*String*/ type){\n\t\t\t\tvar t = typeCtorCache[type];\n\t\t\t\tif(t){\n\t\t\t\t\treturn new t();\n\t\t\t\t}\n\t\t\t\tt = typeCtorCache[type] = function () {};\n\t\t\t\tt.prototype = g[ \"default\" + type ];\n\t\t\t\treturn new t();\n\t\t\t}\n\t\t})(),\n\n\t\tnormalizeColor: function(/*dojo/Color|Array|string|Object*/ color){\n\t\t\t// summary:\n\t\t\t//\t\tconverts any legal color representation to normalized\n\t\t\t//\t\tdojo/Color object\n\t\t\t// color:\n\t\t\t//\t\tA color representation.\n\t\t\treturn (color instanceof Color) ? color : new Color(color); // dojo/Color\n\t\t},\n\t\tnormalizeParameters: function(existed, update){\n\t\t\t// summary:\n\t\t\t//\t\tupdates an existing object with properties from an 'update'\n\t\t\t//\t\tobject\n\t\t\t// existed: Object\n\t\t\t//\t\tthe target object to be updated\n\t\t\t// update: Object\n\t\t\t//\t\tthe 'update' object, whose properties will be used to update\n\t\t\t//\t\tthe existed object\n\t\t\tvar x;\n\t\t\tif(update){\n\t\t\t\tvar empty = {};\n\t\t\t\tfor(x in existed){\n\t\t\t\t\tif(x in update && !(x in empty)){\n\t\t\t\t\t\texisted[x] = update[x];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn existed;\t// Object\n\t\t},\n\t\tmakeParameters: function(defaults, update){\n\t\t\t// summary:\n\t\t\t//\t\tcopies the original object, and all copied properties from the\n\t\t\t//\t\t'update' object\n\t\t\t// defaults: Object\n\t\t\t//\t\tthe object to be cloned before updating\n\t\t\t// update: Object\n\t\t\t//\t\tthe object, which properties are to be cloned during updating\n\t\t\t// returns: Object\n\t\t\t//      new object with new and default properties\n\t\t\tvar i = null;\n\t\t\tif(!update){\n\t\t\t\t// return dojo.clone(defaults);\n\t\t\t\treturn lang.delegate(defaults);\n\t\t\t}\n\t\t\tvar result = {};\n\t\t\tfor(i in defaults){\n\t\t\t\tif(!(i in result)){\n\t\t\t\t\tresult[i] = lang.clone((i in update) ? update[i] : defaults[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result; // Object\n\t\t},\n\t\tformatNumber: function(x, addSpace){\n\t\t\t// summary:\n\t\t\t//\t\tconverts a number to a string using a fixed notation\n\t\t\t// x: Number\n\t\t\t//\t\tnumber to be converted\n\t\t\t// addSpace: Boolean\n\t\t\t//\t\twhether to add a space before a positive number\n\t\t\t// returns: String\n\t\t\t//      the formatted value\n\t\t\tvar val = x.toString();\n\t\t\tif(val.indexOf(\"e\") >= 0){\n\t\t\t\tval = x.toFixed(4);\n\t\t\t}else{\n\t\t\t\tvar point = val.indexOf(\".\");\n\t\t\t\tif(point >= 0 && val.length - point > 5){\n\t\t\t\t\tval = x.toFixed(4);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(x < 0){\n\t\t\t\treturn val; // String\n\t\t\t}\n\t\t\treturn addSpace ? \" \" + val : val; // String\n\t\t},\n\t\t// font operations\n\t\tmakeFontString: function(font){\n\t\t\t// summary:\n\t\t\t//\t\tconverts a font object to a CSS font string\n\t\t\t// font: Object\n\t\t\t//\t\tfont object (see dojox/gfx.defaultFont)\n\t\t\treturn font.style + \" \" + font.variant + \" \" + font.weight + \" \" + font.size + \" \" + font.family; // Object\n\t\t},\n\t\tsplitFontString: function(str){\n\t\t\t// summary:\n\t\t\t//\t\tconverts a CSS font string to a font object\n\t\t\t// description:\n\t\t\t//\t\tConverts a CSS font string to a gfx font object. The CSS font\n\t\t\t//\t\tstring components should follow the W3C specified order\n\t\t\t//\t\t(see http://www.w3.org/TR/CSS2/fonts.html#font-shorthand):\n\t\t\t//\t\tstyle, variant, weight, size, optional line height (will be\n\t\t\t//\t\tignored), and family. Note that the Font.size attribute is limited to numeric CSS length.\n\t\t\t// str: String\n\t\t\t//\t\ta CSS font string.\n\t\t\t// returns: Object\n\t\t\t//      object in dojox/gfx.defaultFont format\n\t\t\tvar font = g.getDefault(\"Font\");\n\t\t\tvar t = str.split(/\\s+/);\n\t\t\tdo{\n\t\t\t\tif(t.length < 5){ break; }\n\t\t\t\tfont.style   = t[0];\n\t\t\t\tfont.variant = t[1];\n\t\t\t\tfont.weight  = t[2];\n\t\t\t\tvar i = t[3].indexOf(\"/\");\n\t\t\t\tfont.size = i < 0 ? t[3] : t[3].substring(0, i);\n\t\t\t\tvar j = 4;\n\t\t\t\tif(i < 0){\n\t\t\t\t\tif(t[4] == \"/\"){\n\t\t\t\t\t\tj = 6;\n\t\t\t\t\t}else if(t[4].charAt(0) == \"/\"){\n\t\t\t\t\t\tj = 5;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(j < t.length){\n\t\t\t\t\tfont.family = t.slice(j).join(\" \");\n\t\t\t\t}\n\t\t\t}while(false);\n\t\t\treturn font;\t// Object\n\t\t},\n\t\t// length operations\n\n\t\t// cm_in_pt: Number\n\t\t//\t\tpoints per centimeter (constant)\n\t\tcm_in_pt: 72 / 2.54,\n\n\t\t// mm_in_pt: Number\n\t\t//\t\tpoints per millimeter (constant)\n\t\tmm_in_pt: 7.2 / 2.54,\n\n\t\tpx_in_pt: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the current number of pixels per point.\n\t\t\treturn g._base._getCachedFontMeasurements()[\"12pt\"] / 12;\t// Number\n\t\t},\n\n\t\tpt2px: function(len){\n\t\t\t// summary:\n\t\t\t//\t\tconverts points to pixels\n\t\t\t// len: Number\n\t\t\t//\t\ta value in points\n\t\t\treturn len * g.px_in_pt();\t// Number\n\t\t},\n\n\t\tpx2pt: function(len){\n\t\t\t// summary:\n\t\t\t//\t\tconverts pixels to points\n\t\t\t// len: Number\n\t\t\t//\t\ta value in pixels\n\t\t\treturn len / g.px_in_pt();\t// Number\n\t\t},\n\n\t\tnormalizedLength: function(len) {\n\t\t\t// summary:\n\t\t\t//\t\tconverts any length value to pixels\n\t\t\t// len: String\n\t\t\t//\t\ta length, e.g., '12pc'\n\t\t\t// returns: Number\n\t\t\t//      pixels\n\t\t\tif(len.length === 0){ return 0; }\n\t\t\tif(len.length > 2){\n\t\t\t\tvar px_in_pt = g.px_in_pt();\n\t\t\t\tvar val = parseFloat(len);\n\t\t\t\tswitch(len.slice(-2)){\n\t\t\t\t\tcase \"px\": return val;\n\t\t\t\t\tcase \"pt\": return val * px_in_pt;\n\t\t\t\t\tcase \"in\": return val * 72 * px_in_pt;\n\t\t\t\t\tcase \"pc\": return val * 12 * px_in_pt;\n\t\t\t\t\tcase \"mm\": return val * g.mm_in_pt * px_in_pt;\n\t\t\t\t\tcase \"cm\": return val * g.cm_in_pt * px_in_pt;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn parseFloat(len);\t// Number\n\t\t},\n\n\t\t// pathVmlRegExp: RegExp\n\t\t//\t\ta constant regular expression used to split a SVG/VML path into primitive components\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tpathVmlRegExp: /([A-Za-z]+)|(\\d+(\\.\\d+)?)|(\\.\\d+)|(-\\d+(\\.\\d+)?)|(-\\.\\d+)/g,\n\n\t\t// pathVmlRegExp: RegExp\n\t\t//\t\ta constant regular expression used to split a SVG/VML path into primitive components\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tpathSvgRegExp: /([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g,\n\n\t\tequalSources: function(a, b){\n\t\t\t// summary:\n\t\t\t//\t\tcompares event sources, returns true if they are equal\n\t\t\t// a: Object\n\t\t\t//\t\tfirst event source\n\t\t\t// b: Object\n\t\t\t//\t\tevent source to compare against a\n\t\t\t// returns: Boolean\n\t\t\t//      true, if objects are truthy and the same\n\t\t\treturn a && b && a === b;\n\t\t},\n\n\t\tswitchTo: function(/*String|Object*/ renderer){\n\t\t\t// summary:\n\t\t\t//\t\tswitch the graphics implementation to the specified renderer.\n\t\t\t// renderer:\n\t\t\t//\t\tEither the string name of a renderer (eg. 'canvas', 'svg, ...) or the renderer\n\t\t\t//\t\tobject to switch to.\n\t\t\tvar ns = typeof renderer == \"string\" ? g[renderer] : renderer;\n\t\t\tif(ns){\n\t\t\t\t// If more options are added, update the docblock at the end of shape.js!\n\t\t\t\tarr.forEach([\"Group\", \"Rect\", \"Ellipse\", \"Circle\", \"Line\",\n\t\t\t\t\t\t\"Polyline\", \"Image\", \"Text\", \"Path\", \"TextPath\",\n\t\t\t\t\t\t\"Surface\", \"createSurface\", \"fixTarget\"], function(name){\n\t\t\t\t\tg[name] = ns[name];\n\t\t\t\t});\n\t\t\t\tif(typeof renderer == \"string\"){\n\t\t\t\t\tg.renderer = renderer;\n\t\t\t\t}else{\n\t\t\t\t\tarr.some([\"svg\",\"vml\",\"canvas\",\"canvasWithEvents\",\"silverlight\"], function(r){\n\t\t\t\t\t\treturn (g.renderer = g[r] && g[r].Surface === g.Surface ? r : null);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t/*=====\n\t\tg.createSurface = function(parentNode, width, height){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a surface\n\t\t\t// parentNode: Node\n\t\t\t//\t\ta parent node\n\t\t\t// width: String|Number\n\t\t\t//\t\twidth of surface, e.g., \"100px\" or 100\n\t\t\t// height: String|Number\n\t\t\t//\t\theight of surface, e.g., \"100px\" or 100\n\t\t\t// returns: dojox/gfx.Surface\n\t\t\t//     newly created surface\n\t\t};\n\t\tg.fixTarget = function(){\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t};\n\t=====*/\n\n\treturn g; // defaults object api\n});\n","define([\"./_base\", \"dojo/_base/lang\",\"dojo/_base/sniff\", \"dojo/dom\", \"dojo/_base/html\", \"dojo/_base/array\",\n\t\t\"./utils\", \"./shape\", \"./path\", \"dojox/string/BidiEngine\"],\nfunction(g, lang, has, dom, html, arr, utils, shapeLib, pathLib, BidiEngine){\n\tlang.getObject(\"dojox.gfx._gfxBidiSupport\", true);\n\n\t/*=====\n\t// Prevent changes here from masking the definitions in _base.js from the doc parser\n\tvar origG = g;\n\tg = {};\n\t=====*/\n\n\tswitch (g.renderer){\n\t\tcase 'vml':\n\t\t\tg.isVml = true;\n\t\t\tbreak;\n\t\tcase 'svg':\n\t\t\tg.isSvg = true;\n\t\t\tif(g.svg.useSvgWeb){\n\t\t\t\tg.isSvgWeb = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'silverlight':\n\t\t\tg.isSilverlight = true;\n\t\t\tbreak;\n\t\tcase 'canvas':\n\t\tcase 'canvasWithEvents':\n\t\t\tg.isCanvas = true;\n\t\t\tbreak;\n\t}\n\n\tvar bidi_const = {\n\t\tLRM : '\\u200E',\n\t\tLRE : '\\u202A',\n\t\tPDF : '\\u202C',\n\t\tRLM : '\\u200f',\n\t\tRLE : '\\u202B'\n\t};\n\n\t/*===== g = origG; =====*/\n\n\t// the object that performs text transformations.\n\tvar bidiEngine = new BidiEngine();\n\n\tlang.extend(g.shape.Surface, {\n\t\t// textDir: String\n\t\t//\t\tWill be used as default for Text/TextPath/Group objects that created by this surface\n\t\t//\t\tand textDir wasn't directly specified for them, though the bidi support was loaded.\n\t\t//\t\tCan be set in two ways:\n\t\t//\n\t\t//\t\t1. When the surface is created and textDir value passed to it as fourth\n\t\t//\t\tparameter.\n\t\t//\t\t2. Using the setTextDir(String) function, when this function is used the value\n\t\t//\t\tof textDir propagates to all of it's children and the children of children (for Groups) etc.\n\t\ttextDir: \"\",\n\n\t\tsetTextDir: function(/*String*/newTextDir){\n\t\t\t// summary:\n\t\t\t//\t\tUsed for propagation and change of textDir.\n\t\t\t//\t\tnewTextDir will be forced as textDir for all of it's children (Group/Text/TextPath).\n\t\t\tsetTextDir(this, newTextDir);\n\t\t},\n\n\t\tgetTextDir: function(){\n\t\t\treturn this.textDir;\n\t\t}\n\t});\n\n\tlang.extend(g.Group, {                          \n\t\t// textDir: String\n\t\t//\t\tWill be used for inheritance, or as default for text objects\n\t\t//\t\tthat textDir wasn't directly specified for them but the bidi support was required.\n\t\ttextDir: \"\",\n\n\t\tsetTextDir: function(/*String*/newTextDir){\n\t\t\t// summary:\n\t\t\t//\t\tUsed for propagation and change of textDir.\n\t\t\t//\t\tnewTextDir will be forced as textDir for all of it's children (Group/Text/TextPath).\n\t\t\tsetTextDir(this, newTextDir);\n\t\t},\n\n\t\tgetTextDir: function(){\n\t\t\treturn this.textDir;\n\t\t}\t\n\t});\n\t\n\tlang.extend(g.Text, {  \n\t\t// summary:\n\t\t//\t\tOverrides some of dojox/gfx.Text properties, and adds some\n\t\t//\t\tfor bidi support.\n\t\t\n\t\t// textDir: String\n\t\t//\t\tUsed for displaying bidi scripts in right layout.\n\t\t//\t\tDefines the base direction of text that displayed, can have 3 values:\n\t\t//\n\t\t//\t\t1. \"ltr\" - base direction is left to right.\n\t\t//\t\t2. \"rtl\" - base direction is right to left.\n\t\t//\t\t3. \"auto\" - base direction is contextual (defined by first strong character).\n\t\ttextDir: \"\",\n\n\t\tformatText: function (/*String*/ text, /*String*/ textDir){\n\t\t\t// summary:\n\t\t\t//\t\tApplies the right transform on text, according to renderer.\n\t\t\t// text:\t\n\t\t\t//\t\tthe string for manipulation, by default return value.\n\t\t\t// textDir:\t\n\t\t\t//\t\tText direction.\n\t\t\t//\t\tCan be:\n\t\t\t//\n\t\t\t//\t\t1. \"ltr\" - for left to right layout.\n\t\t\t//\t\t2. \"rtl\" - for right to left layout\n\t\t\t//\t\t3. \"auto\" - for contextual layout: the first strong letter decides the direction.\n\t\t\t// description:\n\t\t\t//\t\tFinds the right transformation that should be applied on the text, according to renderer.\n\t\t\t//\t\tWas tested in:\n\t\t\t//\n\t\t\t//\t\tRenderers (browser for testing):\n\t\t\t//\n\t\t\t//\t\t- canvas (FF, Chrome, Safari),\n\t\t\t//\t\t- vml (IE),\n\t\t\t//\t\t- svg (FF, Chrome, Safari, Opera),\n\t\t\t//\t\t- silverlight (IE, Chrome, Safari, Opera),\n\t\t\t//\t\t- svgWeb(FF, Chrome, Safari, Opera, IE).\n\t\t\t//\n\t\t\t//\t\tBrowsers [browser version that was tested]:\n\t\t\t//\n\t\t\t//\t\t- IE [6,7,8], FF [3.6],\n\t\t\t//\t\t- Chrome (latest for March 2011),\n\t\t\t//\t\t- Safari [5.0.3],\n\t\t\t//\t\t- Opera [11.01].\n\n\t\t\tif(textDir && text && text.length > 1){\n\t\t\t\tvar sourceDir = \"ltr\", targetDir = textDir;\n\t\n\t\t\t\tif(targetDir == \"auto\"){\n\t\t\t\t\t//is auto by default\n\t\t\t\t\tif(g.isVml){\n\t\t\t\t\t\treturn text;\n\t\t\t\t\t}\n\t\t\t\t\ttargetDir = bidiEngine.checkContextual(text);\n\t\t\t\t}\n\t\n\t\t\t\tif(g.isVml){\n\t\t\t\t\tsourceDir = bidiEngine.checkContextual(text);\n\t\t\t\t\tif(targetDir != sourceDir){\n\t\t\t\t\t\tif(targetDir == \"rtl\"){\n\t\t\t\t\t\t\treturn !bidiEngine.hasBidiChar(text) ? bidiEngine.bidiTransform(text,\"IRNNN\",\"ILNNN\") : bidi_const.RLM + bidi_const.RLM + text;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn bidi_const.LRM + text;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\n\t\t\t\tif(g.isSvgWeb){\n\t\t\t\t\tif(targetDir == \"rtl\"){\n\t\t\t\t\t\treturn bidiEngine.bidiTransform(text,\"IRNNN\",\"ILNNN\");\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\n\t\t\t\tif(g.isSilverlight){\n\t\t\t\t\treturn (targetDir == \"rtl\") ? bidiEngine.bidiTransform(text,\"IRNNN\",\"VLYNN\") : bidiEngine.bidiTransform(text,\"ILNNN\",\"VLYNN\");\n\t\t\t\t}\n\t\n\t\t\t\tif(g.isCanvas){\n\t\t\t\t\treturn (targetDir == \"rtl\") ? bidi_const.RLE + text + bidi_const.PDF : bidi_const.LRE + text + bidi_const.PDF;\n\t\t\t\t}\n\t\n\t\t\t\tif(g.isSvg){\n\t\t\t\t\tif(has(\"ff\") < 4){\n\t\t\t\t\t\treturn (targetDir == \"rtl\") ? bidiEngine.bidiTransform(text,\"IRYNN\",\"VLNNN\") : bidiEngine.bidiTransform(text,\"ILYNN\",\"VLNNN\");\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn bidi_const.LRM + (targetDir == \"rtl\" ? bidi_const.RLE : bidi_const.LRE) + text + bidi_const.PDF;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\t\t\t\t\t\n\t\t\t}\n\t\t\treturn text;\n\t\t},\t\n\n\t\tbidiPreprocess: function(newShape){     \n\t\t\treturn newShape;\n\t\t}\n\t});\n\n\tlang.extend(g.TextPath, {\n\t\t// textDir: String\n\t\t//\t\tUsed for displaying bidi scripts in right layout.\n\t\t//\t\tDefines the base direction of text that displayed, can have 3 values:\n\t\t//\n\t\t//\t\t1. \"ltr\" - base direction is left to right.\n\t\t//\t\t2. \"rtl\" - base direction is right to left.\n\t\t//\t\t3. \"auto\" - base direction is contextual (defined by first strong character).\n\t\ttextDir: \"\",\n\n\t\tformatText: function (/*String*/text, /*String*/textDir){\n\t\t\t// summary:\n\t\t\t//\t\tApplies the right transform on text, according to renderer.\n\t\t\t// text:\n\t\t\t//\t\tthe string for manipulation, by default return value.\n\t\t\t// textDir:\n\t\t\t//\t\ttext direction direction.\n\t\t\t//\t\tCan be:\n\t\t\t//\n\t\t\t//\t\t1. \"ltr\" - for left to right layout.\n\t\t\t//\t\t2. \"rtl\" - for right to left layout\n\t\t\t//\t\t3. \"auto\" - for contextual layout: the first strong letter decides the direction.\n\t\t\t// description:\n\t\t\t//\t\tFinds the right transformation that should be applied on the text, according to renderer.\n\t\t\t//\t\tWas tested in:\n\t\t\t//\n\t\t\t//\t\tRenderers:\n\t\t\t//\t\tcanvas (FF, Chrome, Safari), vml (IE), svg (FF, Chrome, Safari, Opera), silverlight (IE8), svgWeb(FF, Chrome, Safari, Opera, IE).\n\t\t\t//\n\t\t\t//\t\tBrowsers:\n\t\t\t//\t\tIE [6,7,8], FF [3.6], Chrome (latest for February 2011), Safari [5.0.3], Opera [11.01].\n\n\t\t\tif(textDir && text && text.length > 1){\n\t\t\t\tvar sourceDir = \"ltr\", targetDir = textDir;\n\n\t\t\t\tif(targetDir == \"auto\"){\n\t\t\t\t\t//is auto by default\n\t\t\t\t\tif(g.isVml){\n\t\t\t\t\t\treturn text;\n\t\t\t\t\t}\n\t\t\t\t\ttargetDir = bidiEngine.checkContextual(text);\n\t\t\t\t}\n\n\t\t\t\tif(g.isVml){\n\t\t\t\t\tsourceDir = bidiEngine.checkContextual(text);\n\t\t\t\t\tif(targetDir != sourceDir){\n\t\t\t\t\t\tif(targetDir == \"rtl\"){\n\t\t\t\t\t\t\treturn !bidiEngine.hasBidiChar(text) ? bidiEngine.bidiTransform(text,\"IRNNN\",\"ILNNN\") : bidi_const.RLM + bidi_const.RLM + text;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn bidi_const.LRM + text;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\tif(g.isSvgWeb){\n\t\t\t\t\tif(targetDir == \"rtl\"){\n\t\t\t\t\t\treturn bidiEngine.bidiTransform(text,\"IRNNN\",\"ILNNN\");\n\t\t\t\t\t}\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\t//unlike the g.Text that is rendered in logical layout for Bidi scripts.\n\t\t\t\t//for g.TextPath in svg always visual -> bidi script is unreadable (except Opera and FF start from version 4)\n\t\t\t\tif(g.isSvg){\n\t\t\t\t\tif(has(\"opera\") || has(\"ff\") >= 4){\n\t\t\t\t\t\ttext = bidi_const.LRM + (targetDir == \"rtl\"? bidi_const.RLE : bidi_const.LRE) + text + bidi_const.PDF;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttext = (targetDir == \"rtl\") ? bidiEngine.bidiTransform(text,\"IRYNN\",\"VLNNN\") : bidiEngine.bidiTransform(text,\"ILYNN\",\"VLNNN\");\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\t\n\t\t\t}\t\n\t\t\treturn text;\n\t\t},\n\t\tbidiPreprocess: function(newText){\n\t\t\tif(newText && (typeof newText == \"string\")){\n\t\t\t\tthis.origText = newText;\n\t\t\t\tnewText = this.formatText(newText,this.textDir);\n\t\t\t}\n\t\t\treturn newText;\n\t\t}\n\t});\t\n\t\t\n\tvar extendMethod = function(shape, method, before, after){\n\t\t// summary:\n\t\t//\t\tSome helper function. Used for extending methods of shape.\n\t\t// shape: Object\n\t\t//\t\tThe shape we overriding it's method.\n\t\t// method: String\n\t\t//\t\tThe method that is extended, the original method is called before or after\n\t\t//\t\tfunctions that passed to extendMethod.\n\t\t// before: function\n\t\t//\t\tIf defined this function will be executed before the original method.\n\t\t// after: function\n\t\t//\t\tIf defined this function will be executed after the original method.\n\t\tvar old = shape.prototype[method];\n\t\tshape.prototype[method] = \n\t\t\tfunction(){\n\t\t\t\tvar rBefore;\n\t\t\t\tif (before){\n\t\t\t\t\trBefore = before.apply(this, arguments);\n\t\t\t\t}\n\t\t\t\tvar r = old.call(this, rBefore);\n\t\t\t\tif (after){\n\t\t\t\t\tr = after.call(this, r, arguments);\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t};\n\t};\n\n\tvar bidiPreprocess = function(newText){\n\t\tif (newText){  \n\t\t\tif (newText.textDir){\n\t\t\t\tnewText.textDir = validateTextDir(newText.textDir);\n\t\t\t}\n\t\t\tif (newText.text && (newText.text instanceof Array)){\n\t\t\t\tnewText.text = newText.text.join(\",\");\n\t\t\t}\n\t\t}\n\t\tif(newText && (newText.text != undefined || newText.textDir) && (this.textDir != newText.textDir || newText.text != this.origText)){\n\t\t\t// store the original text. \n\t\t\tthis.origText = (newText.text != undefined) ? newText.text : this.origText;\n\t\t\tif(newText.textDir){\n\t\t\t\tthis.textDir = newText.textDir;\n\t\t\t}\n\t\t\tnewText.text = this.formatText(this.origText,this.textDir);\n\t\t}\n\t\treturn this.bidiPreprocess(newText);\n\n\t};\n\n\t// Instead of adding bidiPreprocess to all renders one by one\n\t// use the extendMethod, at first there's a need for bidi transformation \n\t// on text then call to original setShape.\n\textendMethod(g.Text,\"setShape\", bidiPreprocess, null);\n\textendMethod(g.TextPath,\"setText\", bidiPreprocess, null);\n\t\n\tvar restoreText = function(origObj){\n\t\tvar obj = lang.clone(origObj);\n\t\tif (obj && this.origText){\n\t\t\tobj.text = this.origText;\n\t\t}\n\t\treturn obj;\n\t};\n\n\t// Instead of adding restoreText to all renders one by one\n\t// use the extendMethod, at first get the shape by calling the original getShape,\n\t// than resrore original text (without the text transformations).\n\textendMethod(g.Text, \"getShape\", null, restoreText);\n\textendMethod(g.TextPath, \"getText\", null, restoreText);\n\n\tvar groupTextDir = function(group, args){\n\t\tvar textDir;\n\t\tif (args && args[0]){\n\t\t\ttextDir = validateTextDir(args[0]);\n\t\t}\n\t\tgroup.setTextDir(textDir ? textDir : this.textDir);\n\t\treturn group;\t// dojox/gfx.Group\n\t};\n\n\t// In creation of Group there's a need to update it's textDir,\n\t// so instead of doing it in renders one by one (vml vs others)\n\t// use the extendMethod, at first the original createGroup is applied, the\n\t// groupTextDir which is setts Group's textDir as it's father's or if was defined\n\t// by user by this value.\n\textendMethod(g.Surface, \"createGroup\", null, groupTextDir);\n\textendMethod(g.Group, \"createGroup\", null, groupTextDir);\n\n\tvar textDirPreprocess =  function(text){\n\t\t// inherit from surface / group  if textDir is defined there\n\t\tif(text){\n\t\t\tvar textDir = text.textDir ? validateTextDir(text.textDir) : this.textDir;\n\t\t\tif(textDir){\n\t\t\t\ttext.textDir = textDir;\n\t\t\t}\n\t\t}\n\t\treturn text;\n\t};\n\n\t// In creation there's a need to some preprocess,\n\t// so instead of doing it in renders one by one (vml vs others)\n\t// use the extendMethod, at first the textDirPreprocess function handles the input\n\t// then the original createXXXXXX is applied.\n\textendMethod(g.Surface,\"createText\", textDirPreprocess, null);\n\textendMethod(g.Surface,\"createTextPath\", textDirPreprocess, null);\n\textendMethod(g.Group,\"createText\", textDirPreprocess, null);\n\textendMethod(g.Group,\"createTextPath\", textDirPreprocess, null);\n\n\t/*=====\n\t// don't mask definition of original createSurface() function from doc parser\n\tg = {};\n\t=====*/\n\n\tg.createSurface = function(parentNode, width, height, textDir) {\n\t\tvar s = g[g.renderer].createSurface(parentNode, width, height);\n\t\tvar tDir = validateTextDir(textDir);\n\t\t\n\t\tif(g.isSvgWeb){\n\t\t\ts.textDir = tDir ? tDir : html.style(dom.byId(parentNode),\"direction\");\n\t\t\treturn s;\n\t\t}\n\t\t// if textDir was defined use it, else get default value.\n\t\t//s.textDir = tDir ? tDir : html.style(s.rawNode,\"direction\");\n\t\tif(g.isVml || g.isSvg || g.isCanvas){\n\t\t\ts.textDir = tDir ? tDir : html.style(s.rawNode,\"direction\");\n\t\t}\n\t\tif(g.isSilverlight){\n\t\t\t// allow this once rawNode will be able for the silverlight\n\t\t\t//s.textDir = tDir ? tDir : dojo.style(s.rawNode,\"direction\");\n\t\t\ts.textDir = tDir ? tDir : html.style(s._nodes[1],\"direction\");\n\t\t}\n\t\t\n\t\treturn s;\n\t};\n\t/*===== g = origG; =====*/\n\n\t// some helper functions\n\t\n\tfunction setTextDir(/*Object*/ obj, /*String*/ newTextDir){\n\t\tvar tDir = validateTextDir(newTextDir);\n\t\tif (tDir){\n\t\t\tg.utils.forEach(obj,function(e){\n\t\t\t\tif(e instanceof g.Surface || e instanceof g.Group){\n\t\t\t\t\te.textDir = tDir;\n\t\t\t\t}\t\t\n\t\t\t\tif(e instanceof g.Text){\n\t\t\t\t\te.setShape({textDir: tDir});\n\t\t\t\t}\n\t\t\t\tif(e instanceof g.TextPath){\n\t\t\t\t\te.setText({textDir: tDir})\n\t\t\t\t}\n\t\t\t}, obj);\n\t\t}\n\t\treturn obj;\n\t}\n\n\tfunction validateTextDir(textDir){\n\t\tvar validValues = [\"ltr\",\"rtl\",\"auto\"]; \n\t\tif (textDir){\n\t\t\ttextDir = textDir.toLowerCase();\n\t\t\tif (arr.indexOf(validValues, textDir) < 0){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\treturn textDir;\n\t}\n\n\treturn g; // return gfx api augmented with bidi support\t\n});\n\n","define([\"./_base\", \"dojo/_base/lang\", \"./matrix\"], \n  function(g, lang, m){\n\tvar twoPI = 2 * Math.PI, pi4 = Math.PI / 4, pi8 = Math.PI / 8,\n\t\tpi48 = pi4 + pi8, curvePI4 = unitArcAsBezier(pi8);\n\n\tfunction unitArcAsBezier(alpha){\n\t\t// summary:\n\t\t//\t\treturn a start point, 1st and 2nd control points, and an end point of\n\t\t//\t\ta an arc, which is reflected on the x axis\n\t\t// alpha: Number\n\t\t//\t\tangle in radians, the arc will be 2 * angle size\n\t\tvar cosa  = Math.cos(alpha), sina  = Math.sin(alpha),\n\t\t\tp2 = {x: cosa + (4 / 3) * (1 - cosa), y: sina - (4 / 3) * cosa * (1 - cosa) / sina};\n\t\treturn {\t// Object\n\t\t\ts:  {x: cosa, y: -sina},\n\t\t\tc1: {x: p2.x, y: -p2.y},\n\t\t\tc2: p2,\n\t\t\te:  {x: cosa, y: sina}\n\t\t};\n\t}\n\n\tvar arc = g.arc = {\n\t\t// summary:\n\t\t//\t\tThis module contains the core graphics Arc functions.\n\t\t\n\t\tunitArcAsBezier: unitArcAsBezier,\n\t\t/*===== \n\t\tunitArcAsBezier: function(alpha) {\n\t\t\t// summary:\n\t\t\t//\t\treturn a start point, 1st and 2nd control points, and an end point of\n\t\t\t//\t\ta an arc, which is reflected on the x axis\n\t\t\t// alpha: Number\n\t\t\t//\t\tangle in radians, the arc will be 2 * angle size\n\t\t},\n\t\t=====*/\n\n\t\t// curvePI4: Object\n\t\t//\t\tan object with properties of an arc around a unit circle from 0 to pi/4\n\t\tcurvePI4: curvePI4,\n\n\t\tarcAsBezier: function(last, rx, ry, xRotg, large, sweep, x, y){\n\t\t\t// summary:\n\t\t\t//\t\tcalculates an arc as a series of Bezier curves\n\t\t\t//\t\tgiven the last point and a standard set of SVG arc parameters,\n\t\t\t//\t\tit returns an array of arrays of parameters to form a series of\n\t\t\t//\t\tabsolute Bezier curves.\n\t\t\t// last: Object\n\t\t\t//\t\ta point-like object as a start of the arc\n\t\t\t// rx: Number\n\t\t\t//\t\ta horizontal radius for the virtual ellipse\n\t\t\t// ry: Number\n\t\t\t//\t\ta vertical radius for the virtual ellipse\n\t\t\t// xRotg: Number\n\t\t\t//\t\ta rotation of an x axis of the virtual ellipse in degrees\n\t\t\t// large: Boolean\n\t\t\t//\t\twhich part of the ellipse will be used (the larger arc if true)\n\t\t\t// sweep: Boolean\n\t\t\t//\t\tdirection of the arc (CW if true)\n\t\t\t// x: Number\n\t\t\t//\t\tthe x coordinate of the end point of the arc\n\t\t\t// y: Number\n\t\t\t//\t\tthe y coordinate of the end point of the arc\n\n\t\t\t// calculate parameters\n\t\t\tlarge = Boolean(large);\n\t\t\tsweep = Boolean(sweep);\n\t\t\tvar xRot = m._degToRad(xRotg),\n\t\t\t\trx2 = rx * rx, ry2 = ry * ry,\n\t\t\t\tpa = m.multiplyPoint(\n\t\t\t\t\tm.rotate(-xRot),\n\t\t\t\t\t{x: (last.x - x) / 2, y: (last.y - y) / 2}\n\t\t\t\t),\n\t\t\t\tpax2 = pa.x * pa.x, pay2 = pa.y * pa.y,\n\t\t\t\tc1 = Math.sqrt((rx2 * ry2 - rx2 * pay2 - ry2 * pax2) / (rx2 * pay2 + ry2 * pax2));\n\t\t\tif(isNaN(c1)){ c1 = 0; }\n\t\t\tvar\tca = {\n\t\t\t\t\tx:  c1 * rx * pa.y / ry,\n\t\t\t\t\ty: -c1 * ry * pa.x / rx\n\t\t\t\t};\n\t\t\tif(large == sweep){\n\t\t\t\tca = {x: -ca.x, y: -ca.y};\n\t\t\t}\n\t\t\t// the center\n\t\t\tvar c = m.multiplyPoint(\n\t\t\t\t[\n\t\t\t\t\tm.translate(\n\t\t\t\t\t\t(last.x + x) / 2,\n\t\t\t\t\t\t(last.y + y) / 2\n\t\t\t\t\t),\n\t\t\t\t\tm.rotate(xRot)\n\t\t\t\t],\n\t\t\t\tca\n\t\t\t);\n\t\t\t// calculate the elliptic transformation\n\t\t\tvar elliptic_transform = m.normalize([\n\t\t\t\tm.translate(c.x, c.y),\n\t\t\t\tm.rotate(xRot),\n\t\t\t\tm.scale(rx, ry)\n\t\t\t]);\n\t\t\t// start, end, and size of our arc\n\t\t\tvar inversed = m.invert(elliptic_transform),\n\t\t\t\tsp = m.multiplyPoint(inversed, last),\n\t\t\t\tep = m.multiplyPoint(inversed, x, y),\n\t\t\t\tstartAngle = Math.atan2(sp.y, sp.x),\n\t\t\t\tendAngle   = Math.atan2(ep.y, ep.x),\n\t\t\t\ttheta = startAngle - endAngle;\t// size of our arc in radians\n\t\t\tif(sweep){ theta = -theta; }\n\t\t\tif(theta < 0){\n\t\t\t\ttheta += twoPI;\n\t\t\t}else if(theta > twoPI){\n\t\t\t\ttheta -= twoPI;\n\t\t\t}\n\n\t\t\t// draw curve chunks\n\t\t\tvar alpha = pi8, curve = curvePI4, step  = sweep ? alpha : -alpha,\n\t\t\t\tresult = [];\n\t\t\tfor(var angle = theta; angle > 0; angle -= pi4){\n\t\t\t\tif(angle < pi48){\n\t\t\t\t\talpha = angle / 2;\n\t\t\t\t\tcurve = unitArcAsBezier(alpha);\n\t\t\t\t\tstep  = sweep ? alpha : -alpha;\n\t\t\t\t\tangle = 0;\t// stop the loop\n\t\t\t\t}\n\t\t\t\tvar c2, e, M = m.normalize([elliptic_transform, m.rotate(startAngle + step)]);\n\t\t\t\tif(sweep){\n\t\t\t\t\tc1 = m.multiplyPoint(M, curve.c1);\n\t\t\t\t\tc2 = m.multiplyPoint(M, curve.c2);\n\t\t\t\t\te  = m.multiplyPoint(M, curve.e );\n\t\t\t\t}else{\n\t\t\t\t\tc1 = m.multiplyPoint(M, curve.c2);\n\t\t\t\t\tc2 = m.multiplyPoint(M, curve.c1);\n\t\t\t\t\te  = m.multiplyPoint(M, curve.s );\n\t\t\t\t}\n\t\t\t\t// draw the curve\n\t\t\t\tresult.push([c1.x, c1.y, c2.x, c2.y, e.x, e.y]);\n\t\t\t\tstartAngle += 2 * step;\n\t\t\t}\n\t\t\treturn result;\t// Array\n\t\t}\n\t};\n\t\n\treturn arc;\n});\n","define([\n\t\"./_base\"\n], function(gfx){\n\n\tvar bu = gfx.bezierutils = {},\n\t\terror = 0.1;\n\n\tvar tAtLength = bu.tAtLength = function(points, length){\n\t\t// summary:\n\t\t//\t\tReturns the t corresponding to the given length for the specified bezier curve.\n\t\t// points: Number[]\n\t\t//\t\tThe bezier points. Should be [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y] for a cubic\n\t\t//\t\tbezier curve or [p1x, p1y, cx, cy, p2x, p2y] for a quadratic bezier curve.\n\t\t// length: Number\n\t\t//\t\tThe length.\n\t\tvar t = 0,\n\t\t\tquadratic = points.length == 6,\n\t\t\tcurrentLen = 0,\n\t\t\tsplitCount = 0,\n\t\t\tsplitFunc = quadratic ? splitQBezierAtT : splitBezierAtT;\n\t\tvar _compute = function(p, error){\n\t\t\t// control points polygon length\n\t\t\tvar pLen = 0;\n\t\t\tfor(var i = 0; i < p.length-2; i+=2)\n\t\t\t\tpLen += distance(p[i],p[i+1],p[i+2],p[i+3]);\n\t\t\t// chord length\n\t\t\tvar chord = quadratic ?\n\t\t\t\tdistance(points[0],points[1],points[4],points[5]) :\n\t\t\t\tdistance(points[0],points[1],points[6],points[7]);\n\t\t\t// if needs more approx. or if currentLen is greater than the target length,\n\t\t\t// split the curve one more time\n\t\t\tif(pLen - chord > error || currentLen + pLen > length + error){\n\t\t\t\t++splitCount;\n\t\t\t\tvar newbezier = splitFunc(p, .5);\n\t\t\t\t// check 1st subpath\n\t\t\t\t_compute(newbezier[0], error);\n\t\t\t\t// the 1st subcurve was the good one, we stop\n\t\t\t\tif(Math.abs(currentLen - length) <= error){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// need to continue with the 2nde subcurve\n\t\t\t\t_compute(newbezier[1], error);\n\t\t\t\treturn ;\n\t\t\t}\n\t\t\tcurrentLen += pLen;\n\t\t\tt += 1.0 / (1 << splitCount);\n\t\t};\n\t\tif(length)\n\t\t\t_compute(points, 0.5);\n\t\treturn t;\n\t};\n\n\tvar computeLength = bu.computeLength = function(/*Array*/points){\n\t\t// summary:\n\t\t//\t\tReturns the length of the given bezier curve.\n\t\t// points: Number[]\n\t\t//\t\tThe bezier points. Should be [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y] for a cubic\n\t\t//\t\tbezier curve or [p1x, p1y, cx, cy, p2x, p2y] for a quadratic bezier curve.\n\n\t\tvar quadratic = points.length == 6, pLen=0;\n\t\t// control points polygon length\n\t\tfor(var i = 0; i < points.length-2; i+=2)\n\t\t\tpLen += distance(points[i],points[i+1],points[i+2],points[i+3]);\n\t\t// chord length\n\t\tvar chord = quadratic ?\n\t\t\tdistance(points[0],points[1],points[4],points[5]) :\n\t\t\tdistance(points[0],points[1],points[6],points[7]);\n\t\t// split polygons until the polygon and the chord are \"the same\"\n\t\tif(pLen-chord>error){\n\t\t\tvar newBeziers = quadratic ? splitQBezierAtT(points,.5) : splitCBezierAtT(points,.5);\n\t\t\tvar length = computeLength(newBeziers[0], quadratic);\n\t\t\tlength += computeLength(newBeziers[1], quadratic);\n\t\t\treturn length;\n\t\t}\n\t\t// pLen is close enough, done.\n\t\treturn pLen;\n\t};\n\n\tvar distance = bu.distance = function(x1, y1, x2, y2){\n\t\t// summary:\n\t\t//\t\tReturns the distance between the specified points.\n\t\treturn Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));\n\t};\n\n\tvar splitQBezierAtT = function(points, t){\n\t\t// summary:\n\t\t//\t\tSplit a quadratic bezier curve into 2 sub-quadratic beziers at the specified t.\n\n\t\t// de Casteljau\n\t\tvar r = 1-t,\n\t\t\tr2 = r*r,\n\t\t\tt2 = t*t,\n\t\t\tp1x = points[0],\n\t\t\tp1y = points[1],\n\t\t\tcx = points[2],\n\t\t\tcy = points[3],\n\t\t\tp2x = points[4],\n\t\t\tp2y = points[5],\n\n\t\t\tax = r*p1x + t*cx,\n\t\t\tay = r*p1y + t*cy,\n\t\t\tbx = r*cx + t*p2x,\n\t\t\tby = r*cy + t*p2y,\n\t\t\tpx = r2*p1x + 2*r*t*cx + t2*p2x,\n\t\t\tpy = r2*p1y + 2*r*t*cy + t2*p2y;\n\n\t\treturn [\n\t\t\t[\n\t\t\t\tp1x, p1y,\n\t\t\t\tax, ay,\n\t\t\t\tpx, py\n\t\t\t],\n\t\t\t[\n\t\t\t\tpx, py,\n\t\t\t\tbx, by,\n\t\t\t\tp2x, p2y\n\t\t\t]\n\t\t];\n\t};\n\n\tvar splitCBezierAtT = function(points, t){\n\t\t// summary:\n\t\t//\t\tSplit a cubic bezier curve into 2 sub-cubic beziers at the specified t.\n\n\t\t// de Casteljau\n\t\tvar r = 1-t,\n\t\t\tr2 = r*r,\n\t\t\tr3 = r2*r,\n\t\t\tt2 = t*t,\n\t\t\tt3 = t2*t,\n\t\t\tp1x = points[0],\n\t\t\tp1y = points[1],\n\t\t\tc1x = points[2],\n\t\t\tc1y = points[3],\n\t\t\tc2x = points[4],\n\t\t\tc2y = points[5],\n\t\t\tp2x = points[6],\n\t\t\tp2y = points[7],\n\n\t\t\tax = r*p1x + t*c1x,\n\t\t\tay = r*p1y + t*c1y,\n\t\t\tcx = r*c2x + t*p2x,\n\t\t\tcy = r*c2y + t*p2y,\n\t\t\tmx = r2*p1x + 2*r*t*c1x + t2*c2x,\n\t\t\tmy = r2*p1y + 2*r*t*c1y + t2*c2y,\n\t\t\tnx = r2*c1x + 2*r*t*c2x + t2*p2x,\n\t\t\tny = r2*c1y + 2*r*t*c2y + t2*p2y,\n\t\t\tpx = r3*p1x + 3*r2*t*c1x + 3*r*t2*c2x+t3*p2x,\n\t\t\tpy = r3*p1y + 3*r2*t*c1y + 3*r*t2*c2y+t3*p2y;\n\n\t\treturn [\n\t\t\t[\n\t\t\t\tp1x, p1y,\n\t\t\t\tax, ay,\n\t\t\t\tmx, my,\n\t\t\t\tpx, py\n\t\t\t],\n\t\t\t[\n\t\t\t\tpx, py,\n\t\t\t\tnx, ny,\n\t\t\t\tcx, cy,\n\t\t\t\tp2x, p2y\n\t\t\t]\n\t\t];\n\t};\n\n\tvar splitBezierAtT = bu.splitBezierAtT = function(points, t){\n\t\treturn points.length == 6 ? splitQBezierAtT(points, t) : splitCBezierAtT(points, t);\n\t};\n\treturn bu;\n});","define([\"./_base\", \"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/_base/window\", \"dojo/dom-geometry\",\n\t\t\"dojo/dom\", \"./shape\", \"./path\", \"./arc\", \"./matrix\", \"./decompose\", \"./bezierutils\"],\nfunction(g, lang, arr, declare, win, domGeom, dom, gs, pathLib, ga, m, decompose, bezierUtils ){\n\tvar canvas = g.canvas = {\n\t\t// summary:\n\t\t//\t\tThis the graphics rendering bridge for W3C Canvas compliant browsers.\n\t\t//\t\tSince Canvas is an immediate mode graphics api, with no object graph or\n\t\t//\t\teventing capabilities, use of this module alone will only add in drawing support.\n\t\t//\t\tThe additional module, canvasWithEvents extends this module with additional support\n\t\t//\t\tfor handling events on Canvas.  By default, the support for events is now included\n\t\t//\t\thowever, if only drawing capabilities are needed, canvas event module can be disabled\n\t\t//\t\tusing the dojoConfig option, canvasEvents:true|false.\n\t\t//\t\tThe id of the Canvas renderer is 'canvas'.  This id can be used when switch Dojo's\n\t\t//\t\tgraphics context between renderer implementations.  See dojox/gfx/_base.switchRenderer\n\t\t//\t\tAPI.\n\t};\n\tvar pattrnbuffer = null,\n\t\tmp = m.multiplyPoint,\n\t\tpi = Math.PI,\n\t\ttwoPI = 2 * pi,\n\t\thalfPI = pi /2,\n\t\textend = lang.extend;\n\n\tif(win.global.CanvasRenderingContext2D){\n\t\tvar ctx2d = win.doc.createElement(\"canvas\").getContext(\"2d\");\n\t\tvar hasNativeDash = typeof ctx2d.setLineDash == \"function\";\n\t\tvar hasFillText = typeof ctx2d.fillText == \"function\";\n\t}\n\n\tvar dasharray = {\n\t\tsolid:\t\t\t\t\"none\",\n\t\tshortdash:\t\t\t[4, 1],\n\t\tshortdot:\t\t\t[1, 1],\n\t\tshortdashdot:\t\t[4, 1, 1, 1],\n\t\tshortdashdotdot:\t[4, 1, 1, 1, 1, 1],\n\t\tdot:\t\t\t\t[1, 3],\n\t\tdash:\t\t\t\t[4, 3],\n\t\tlongdash:\t\t\t[8, 3],\n\t\tdashdot:\t\t\t[4, 3, 1, 3],\n\t\tlongdashdot:\t\t[8, 3, 1, 3],\n\t\tlongdashdotdot:\t\t[8, 3, 1, 3, 1, 3]\n\t};\n\n\tfunction drawDashedArc(/*CanvasRenderingContext2D*/ctx, /*Number[]*/dash,  /*int*/cx,  /*int*/cy,  /*int*/r, /*Number*/sa, /*Number*/ea, /*Boolean*/ccw, /*Boolean?*/apply, prevResidue){\n\t\tvar residue, angle, l = dash.length, i= 0;\n\t\t// if there's a previous dash residue from the previous arc, start with it.\n\t\tif(prevResidue){\n\t\t\tangle = prevResidue.l/r;\n\t\t\ti = prevResidue.i;\n\t\t}else{\n\t\t\tangle = dash[0]/r;\n\t\t}\n\t\twhile(sa < ea){\n\t\t\t// if the dash segment length is longer than what remains to stroke, keep it for next arc. (aka residue)\n\t\t\tif(sa+angle > ea){\n\t\t\t\tresidue = {l: (sa+angle-ea)*r, i: i};\n\t\t\t\tangle = ea-sa;\n\t\t\t}\n\t\t\tif(!(i%2)){\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(cx, cy, r, sa, sa+angle, ccw);\n\t\t\t\tif(apply) ctx.stroke();\n\t\t\t}\n\t\t\tsa += angle;\n\t\t\t++i;\n\t\t\tangle = dash[i%l]/r;\n\t\t}\n\t\treturn residue;\n\t}\n\n\tfunction splitToDashedBezier(/*Number[]*/points, /*Number[]*/dashArray, /*Number[]*/newPoints, /*Object*/prevResidue){\n\t\tvar residue = 0, t = 0, dash, i = 0;\n\t\tif(prevResidue){\n\t\t\tdash = prevResidue.l;\n\t\t\ti = prevResidue.i;\n\t\t}else{\n\t\t\tdash = dashArray[0];\n\t\t}\n\t\twhile(t<1){\n\t\t\t// get the 't' corresponding to the given dash value.\n\t\t\tt = bezierUtils.tAtLength(points, dash);\n\t\t\tif(t==1){\n\t\t\t\tvar rl = bezierUtils.computeLength(points);\n\t\t\t\tresidue = {l: dash-rl, i: i};\n\t\t\t}\n\t\t\t// split bezier at t: left part is the \"dash\" curve, right part is the remaining bezier points\n\t\t\tvar curves = bezierUtils.splitBezierAtT(points, t);\n\t\t\tif(!(i%2)){\n\t\t\t\t// only keep the \"dash\" curve\n\t\t\t\tnewPoints.push(curves[0]);\n\t\t\t}\n\t\t\tpoints = curves[1];\n\t\t\t++i;\n\t\t\tdash = dashArray[i%dashArray.length];\n\t\t}\n\t\treturn residue;\n\t}\n\n\tfunction toDashedCurveTo(/*Array||CanvasRenderingContext2D*/ctx, /*shape.Path*/shape, /*Number[]*/points, /*Object*/prevResidue){\n\t\t// summary:\n\t\t//\t\tBuilds a set of bezier (cubic || quadratic)curveTo' canvas instructions that represents a dashed stroke of the specified bezier geometry.\n\n\t\tvar pts = [shape.last.x, shape.last.y].concat(points),\n\t\t\tquadratic = points.length === 4, ctx2d = !(ctx instanceof Array),\n\t\t\tapi = quadratic ? \"quadraticCurveTo\" : \"bezierCurveTo\",\n\t\t\tcurves = [];\n\t\tvar residue = splitToDashedBezier(pts, shape.canvasDash, curves, prevResidue);\n\t\tfor(var c=0; c<curves.length;++c){\n\t\t\tvar curve = curves[c];\n\t\t\tif(ctx2d){\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\t\tctx[api].apply(ctx, curve.slice(2));\n\t\t\t}else{\n\t\t\t\tctx.push(\"moveTo\", [curve[0], curve[1]]);\n\t\t\t\tctx.push(api, curve.slice(2));\n\t\t\t}\n\t\t}\n\t\treturn residue;\n\t}\n\n\tfunction toDashedLineTo(/*Array||CanvasRenderingContext2D*/ctx, /*shape.Shape*/shape, /*int*/x1, /*int*/y1, /*int*/x2, /*int*/y2, /*Object*/prevResidue){\n\t\t// summary:\n\t\t//\t\tBuilds a set of moveTo/lineTo' canvas instructions that represents a dashed stroke of the specified line geometry.\n\n\t\tvar residue = 0, r = 0, dal = 0, tlength = bezierUtils.distance(x1, y1, x2, y2), i = 0, dash = shape.canvasDash,\n\t\t\tprevx = x1, prevy = y1, x, y, ctx2d = !(ctx instanceof Array);\n\t\tif(prevResidue){\n\t\t\tdal=prevResidue.l;\n\t\t\ti = prevResidue.i;\n\t\t}else{\n\t\t\tdal += dash[0];\n\t\t}\n\t\twhile(Math.abs(1-r)>0.01){\n\t\t\tif(dal>tlength){\n\t\t\t\tresidue = {l:dal-tlength,i:i};\n\t\t\t\tdal=tlength;\n\t\t\t}\n\t\t\tr = dal/tlength;\n\t\t\tx = x1 + (x2-x1)*r;\n\t\t\ty = y1 + (y2-y1)*r;\n\t\t\tif(!(i++%2)){\n\t\t\t\tif(ctx2d){\n\t\t\t\t\tctx.moveTo(prevx, prevy);\n\t\t\t\t\tctx.lineTo(x, y);\n\t\t\t\t}else{\n\t\t\t\t\tctx.push(\"moveTo\", [prevx, prevy]);\n\t\t\t\t\tctx.push(\"lineTo\", [x, y]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevx = x;\n\t\t\tprevy = y;\n\t\t\tdal += dash[i%dash.length];\n\t\t}\n\t\treturn residue;\n\t}\n\n\tcanvas.Shape = declare(\"dojox.gfx.canvas.Shape\", gs.Shape, {\n\t\t_render: function(/* Object */ ctx){\n\t\t\t// summary:\n\t\t\t//\t\trender the shape\n\t\t\tctx.save();\n\t\t\tthis._renderTransform(ctx);\n\t\t\tthis._renderClip(ctx);\n\t\t\tthis._renderShape(ctx);\n\t\t\tthis._renderFill(ctx, true);\n\t\t\tthis._renderStroke(ctx, true);\n\t\t\tctx.restore();\n\t\t},\n\t\t_renderClip: function(ctx){\n\t\t\tif (this.canvasClip){\n\t\t\t\tthis.canvasClip.render(ctx);\n\t\t\t\tctx.clip();\n\t\t\t}\n\t\t},\n\t\t_renderTransform: function(/* Object */ ctx){\n\t\t\tif(\"canvasTransform\" in this){\n\t\t\t\tvar t = this.canvasTransform;\n\t\t\t\tctx.translate(t.dx, t.dy);\n\t\t\t\tctx.rotate(t.angle2);\n\t\t\t\tctx.scale(t.sx, t.sy);\n\t\t\t\tctx.rotate(t.angle1);\n\t\t\t\t// The future implementation when vendors catch up with the spec:\n\t\t\t\t// var t = this.matrix;\n\t\t\t\t// ctx.transform(t.xx, t.yx, t.xy, t.yy, t.dx, t.dy);\n\t\t\t}\n\t\t},\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\t// nothing\n\t\t},\n\t\t_renderFill: function(/* Object */ ctx, /* Boolean */ apply){\n\t\t\tif(\"canvasFill\" in this){\n\t\t\t\tvar fs = this.fillStyle;\n\t\t\t\tif(\"canvasFillImage\" in this){\n\t\t\t\t\tvar w = fs.width, h = fs.height,\n\t\t\t\t\t\tiw = this.canvasFillImage.width, ih = this.canvasFillImage.height,\n\t\t\t\t\t\t// let's match the svg default behavior wrt. aspect ratio: xMidYMid meet\n\t\t\t\t\t\tsx = w == iw ? 1 : w / iw,\n\t\t\t\t\t\tsy = h == ih ? 1 : h / ih,\n\t\t\t\t\t\ts = Math.min(sx,sy), //meet->math.min , slice->math.max\n\t\t\t\t\t\tdx = (w - s * iw)/2,\n\t\t\t\t\t\tdy = (h - s * ih)/2;\n\t\t\t\t\t// the buffer used to scaled the image\n\t\t\t\t\tpattrnbuffer.width = w; pattrnbuffer.height = h;\n\t\t\t\t\tvar copyctx = pattrnbuffer.getContext(\"2d\");\n\t\t\t\t\tcopyctx.clearRect(0, 0, w, h);\n\t\t\t\t\tcopyctx.drawImage(this.canvasFillImage, 0, 0, iw, ih, dx, dy, s*iw, s*ih);\n\t\t\t\t\tthis.canvasFill = ctx.createPattern(pattrnbuffer, \"repeat\");\n\t\t\t\t\tdelete this.canvasFillImage;\n\t\t\t\t}\n\t\t\t\tctx.fillStyle = this.canvasFill;\n\t\t\t\tif(apply){\n\t\t\t\t\t// offset the pattern\n\t\t\t\t\tif (fs.type===\"pattern\" && (fs.x !== 0 || fs.y !== 0)) {\n\t\t\t\t\t\tctx.translate(fs.x,fs.y);\n\t\t\t\t\t}\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tctx.fillStyle = \"rgba(0,0,0,0.0)\";\n\t\t\t}\n\t\t},\n\t\t_renderStroke: function(/* Object */ ctx, /* Boolean */ apply){\n\t\t\tvar s = this.strokeStyle;\n\t\t\tif(s){\n\t\t\t\tctx.strokeStyle = s.color.toString();\n\t\t\t\tctx.lineWidth = s.width;\n\t\t\t\tctx.lineCap = s.cap;\n\t\t\t\tif(typeof s.join == \"number\"){\n\t\t\t\t\tctx.lineJoin = \"miter\";\n\t\t\t\t\tctx.miterLimit = s.join;\n\t\t\t\t}else{\n\t\t\t\t\tctx.lineJoin = s.join;\n\t\t\t\t}\n\t\t\t\tif(this.canvasDash){\n\t\t\t\t\tif(hasNativeDash){\n\t\t\t\t\t\tctx.setLineDash(this.canvasDash);\n\t\t\t\t\t\tif(apply){ ctx.stroke(); }\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis._renderDashedStroke(ctx, apply);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(apply){ ctx.stroke(); }\n\t\t\t\t}\n\t\t\t}else if(!apply){\n\t\t\t\tctx.strokeStyle = \"rgba(0,0,0,0.0)\";\n\t\t\t}\n\t\t},\n\t\t_renderDashedStroke: function(ctx, apply){},\n\n\t\t// events are not implemented\n\t\tgetEventSource: function(){ return null; },\n\t\ton:\t\t\t\tfunction(){},\n\t\tconnect:\t\tfunction(){},\n\t\tdisconnect:\t\tfunction(){},\n\n\t\tcanvasClip:null,\n\t\tsetClip: function(/*Object*/clip){\n\t\t\tthis.inherited(arguments);\n\t\t\tvar clipType = clip ? \"width\" in clip ? \"rect\" :\n\t\t\t\t\t\t\t\"cx\" in clip ? \"ellipse\" :\n\t\t\t\t\t\t\t\"points\" in clip ? \"polyline\" : \"d\" in clip ? \"path\" : null : null;\n\t\t\tif(clip && !clipType){\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis.canvasClip = clip ? makeClip(clipType, clip) : null;\n\t\t\tif(this.parent){this.parent._makeDirty();}\n\t\t\treturn this;\n\t\t}\n\t});\n\n\tvar makeClip = function(clipType, geometry){\n\t\tswitch(clipType){\n\t\t\tcase \"ellipse\":\n\t\t\t\treturn {\n\t\t\t\t\tcanvasEllipse: makeEllipse({shape:geometry}),\n\t\t\t\t\trender: function(ctx){return canvas.Ellipse.prototype._renderShape.call(this, ctx);}\n\t\t\t\t};\n\t\t\tcase \"rect\":\n\t\t\t\treturn {\n\t\t\t\t\tshape: lang.delegate(geometry,{r:0}),\n\t\t\t\t\trender: function(ctx){return canvas.Rect.prototype._renderShape.call(this, ctx);}\n\t\t\t\t};\n\t\t\tcase \"path\":\n\t\t\t\treturn {\n\t\t\t\t\tcanvasPath: makeClipPath(geometry),\n\t\t\t\t\trender: function(ctx){this.canvasPath._renderShape(ctx);}\n\t\t\t\t};\n\t\t\tcase \"polyline\":\n\t\t\t\treturn {\n\t\t\t\t\tcanvasPolyline: geometry.points,\n\t\t\t\t\trender: function(ctx){return canvas.Polyline.prototype._renderShape.call(this, ctx);}\n\t\t\t\t};\n\t\t}\n\t\treturn null;\n\t};\n\n\tvar makeClipPath = function(geo){\n\t\tvar p = new dojox.gfx.canvas.Path();\n\t\tp.canvasPath = [];\n\t\tp._setPath(geo.d);\n\t\treturn p;\n\t};\n\n\tvar modifyMethod = function(shape, method, extra){\n\t\tvar old = shape.prototype[method];\n\t\tshape.prototype[method] = extra ?\n\t\t\tfunction(){\n\t\t\t\tif(this.parent){this.parent._makeDirty();}\n\t\t\t\told.apply(this, arguments);\n\t\t\t\textra.call(this);\n\t\t\t\treturn this;\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tif(this.parent){this.parent._makeDirty();}\n\t\t\t\treturn old.apply(this, arguments);\n\t\t\t};\n\t};\n\n\tmodifyMethod(canvas.Shape, \"setTransform\",\n\t\tfunction(){\n\t\t\t// prepare Canvas-specific structures\n\t\t\tif(this.matrix){\n\t\t\t\tthis.canvasTransform = g.decompose(this.matrix);\n\t\t\t}else{\n\t\t\t\tdelete this.canvasTransform;\n\t\t\t}\n\t\t});\n\n\tmodifyMethod(canvas.Shape, \"setFill\",\n\t\tfunction(){\n\t\t\t// prepare Canvas-specific structures\n\t\t\tvar fs = this.fillStyle, f;\n\t\t\tif(fs){\n\t\t\t\tif(typeof(fs) == \"object\" && \"type\" in fs){\n\t\t\t\t\tvar ctx = this.surface.rawNode.getContext(\"2d\");\n\t\t\t\t\tswitch(fs.type){\n\t\t\t\t\t\tcase \"linear\":\n\t\t\t\t\t\tcase \"radial\":\n\t\t\t\t\t\t\tf = fs.type == \"linear\" ?\n\t\t\t\t\t\t\t\tctx.createLinearGradient(fs.x1, fs.y1, fs.x2, fs.y2) :\n\t\t\t\t\t\t\t\tctx.createRadialGradient(fs.cx, fs.cy, 0, fs.cx, fs.cy, fs.r);\n\t\t\t\t\t\t\tarr.forEach(fs.colors, function(step){\n\t\t\t\t\t\t\t\tf.addColorStop(step.offset, g.normalizeColor(step.color).toString());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"pattern\":\n\t\t\t\t\t\t\tif (!pattrnbuffer) {\n\t\t\t\t\t\t\t\tpattrnbuffer = document.createElement(\"canvas\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// no need to scale the image since the canvas.createPattern uses\n\t\t\t\t\t\t\t// the original image data and not the scaled ones (see spec.)\n\t\t\t\t\t\t\t// the scaling needs to be done at rendering time in a context buffer\n\t\t\t\t\t\t\tvar img =new Image();\n\t\t\t\t\t\t\tthis.surface.downloadImage(img, fs.src);\n\t\t\t\t\t\t\tthis.canvasFillImage = img;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// Set fill color using CSS RGBA func style\n\t\t\t\t\tf = fs.toString();\n\t\t\t\t}\n\t\t\t\tthis.canvasFill = f;\n\t\t\t}else{\n\t\t\t\tdelete this.canvasFill;\n\t\t\t}\n\t\t});\n\n\tmodifyMethod(canvas.Shape, \"setStroke\",\n\t\tfunction(){\n\t\t\tvar st = this.strokeStyle;\n\t\t\tif(st){\n\t\t\t\tvar da = this.strokeStyle.style.toLowerCase();\n\t\t\t\tif(da in dasharray){\n\t\t\t\t\tda = dasharray[da];\n\t\t\t\t}\n\t\t\t\tif(da instanceof Array){\n\t\t\t\t\tda = da.slice();\n\t\t\t\t\tthis.canvasDash = da;\n\t\t\t\t\tvar i;\n\t\t\t\t\tfor(i = 0; i < da.length; ++i){\n\t\t\t\t\t\tda[i] *= st.width;\n\t\t\t\t\t}\n\t\t\t\t\tif(st.cap != \"butt\"){\n\t\t\t\t\t\tfor(i = 0; i < da.length; i += 2){\n\t\t\t\t\t\t\tda[i] -= st.width;\n\t\t\t\t\t\t\tif(da[i] < 1){ da[i] = 1; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor(i = 1; i < da.length; i += 2){\n\t\t\t\t\t\t\tda[i] += st.width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tdelete this.canvasDash;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tdelete this.canvasDash;\n\t\t\t}\n\t\t\tthis._needsDash = !hasNativeDash && !!this.canvasDash;\n\t\t});\n\n\tmodifyMethod(canvas.Shape, \"setShape\");\n\n\tcanvas.Group = declare(\"dojox.gfx.canvas.Group\", canvas.Shape, {\n\t\t// summary:\n\t\t//\t\ta group shape (Canvas), which can be used\n\t\t//\t\tto logically group shapes (e.g, to propagate matricies)\n\t\tconstructor: function(){\n\t\t\tgs.Container._init.call(this);\n\t\t},\n\t\t_render: function(/* Object */ ctx){\n\t\t\t// summary:\n\t\t\t//\t\trender the group\n\t\t\tctx.save();\n\t\t\tthis._renderTransform(ctx);\n\t\t\tthis._renderClip(ctx);\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\n\t\t\t\tthis.children[i]._render(ctx);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t},\n\t\tdestroy: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReleases all internal resources owned by this shape. Once this method has been called,\n\t\t\t//\t\tthe instance is considered disposed and should not be used anymore.\n\n\t\t\t// don't call canvas impl to avoid makeDirty'\n\t\t\tgs.Container.clear.call(this, true);\n\t\t\t// avoid this.inherited\n\t\t\tcanvas.Shape.prototype.destroy.apply(this, arguments);\n\t\t}\n\t});\n\n\n\n\tcanvas.Rect = declare(\"dojox.gfx.canvas.Rect\", [canvas.Shape, gs.Rect], {\n\t\t// summary:\n\t\t//\t\ta rectangle shape (Canvas)\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar s = this.shape, r = Math.min(s.r, s.height / 2, s.width / 2),\n\t\t\t\txl = s.x, xr = xl + s.width, yt = s.y, yb = yt + s.height,\n\t\t\t\txl2 = xl + r, xr2 = xr - r, yt2 = yt + r, yb2 = yb - r;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(xl2, yt);\n\t\t\tif(r){\n\t\t\t\tctx.arc(xr2, yt2, r, -halfPI, 0, false);\n\t\t\t\tctx.arc(xr2, yb2, r, 0, halfPI, false);\n\t\t\t\tctx.arc(xl2, yb2, r, halfPI, pi, false);\n\t\t\t\tctx.arc(xl2, yt2, r, pi, pi + halfPI, false);\n\t\t\t}else{\n\t\t\t\tctx.lineTo(xr2, yt);\n\t\t\t\tctx.lineTo(xr, yb2);\n\t\t\t\tctx.lineTo(xl2, yb);\n\t\t\t\tctx.lineTo(xl, yt2);\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t},\n\t\t_renderDashedStroke: function(ctx, apply){\n\t\t\tvar s = this.shape, residue, r = Math.min(s.r, s.height / 2, s.width / 2),\n\t\t\t\txl = s.x, xr = xl + s.width, yt = s.y, yb = yt + s.height,\n\t\t\t\txl2 = xl + r, xr2 = xr - r, yt2 = yt + r, yb2 = yb - r;\n\t\t\tif(r){\n\t\t\t\tctx.beginPath();\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xl2, yt, xr2, yt);\n\t\t\t\tif(apply) ctx.stroke();\n\t\t\t\tresidue = drawDashedArc(ctx, this.canvasDash, xr2, yt2, r, -halfPI, 0, false, apply, residue);\n\t\t\t\tctx.beginPath();\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr, yt2, xr, yb2, residue);\n\t\t\t\tif(apply) ctx.stroke();\n\t\t\t\tresidue = drawDashedArc(ctx, this.canvasDash, xr2, yb2, r, 0, halfPI, false, apply, residue);\n\t\t\t\tctx.beginPath();\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr2, yb, xl2, yb, residue);\n\t\t\t\tif(apply) ctx.stroke();\n\t\t\t\tresidue = drawDashedArc(ctx, this.canvasDash, xl2, yb2, r, halfPI, pi, false, apply, residue);\n\t\t\t\tctx.beginPath();\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xl, yb2, xl, yt2,residue);\n\t\t\t\tif(apply) ctx.stroke();\n\t\t\t\tdrawDashedArc(ctx, this.canvasDash, xl2, yt2, r, pi, pi + halfPI, false, apply, residue);\n\t\t\t}else{\n\t\t\t\tctx.beginPath();\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xl2, yt, xr2, yt);\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr2, yt, xr, yb2, residue);\n\t\t\t\tresidue = toDashedLineTo(ctx, this, xr, yb2, xl2, yb, residue);\n\t\t\t\ttoDashedLineTo(ctx, this, xl2, yb, xl, yt2, residue);\n\t\t\t\tif(apply) ctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n\n\tvar bezierCircle = [];\n\t(function(){\n\t\tvar u = ga.curvePI4;\n\t\tbezierCircle.push(u.s, u.c1, u.c2, u.e);\n\t\tfor(var a = 45; a < 360; a += 45){\n\t\t\tvar r = m.rotateg(a);\n\t\t\tbezierCircle.push(mp(r, u.c1), mp(r, u.c2), mp(r, u.e));\n\t\t}\n\t})();\n\n\tvar makeEllipse = function(shape){\n\t\t// prepare Canvas-specific structures\n\t\tvar t, c1, c2, r = [], s = shape.shape,\n\t\t\tM = m.normalize([m.translate(s.cx, s.cy), m.scale(s.rx, s.ry)]);\n\t\tt = mp(M, bezierCircle[0]);\n\t\tr.push([t.x, t.y]);\n\t\tfor(var i = 1; i < bezierCircle.length; i += 3){\n\t\t\tc1 = mp(M, bezierCircle[i]);\n\t\t\tc2 = mp(M, bezierCircle[i + 1]);\n\t\t\tt  = mp(M, bezierCircle[i + 2]);\n\t\t\tr.push([c1.x, c1.y, c2.x, c2.y, t.x, t.y]);\n\t\t}\n\t\tif(shape._needsDash){\n\t\t\tvar points = [], p1 = r[0];\n\t\t\tfor(i = 1; i < r.length; ++i){\n\t\t\t\tvar curves = [];\n\t\t\t\tsplitToDashedBezier(p1.concat(r[i]), shape.canvasDash, curves);\n\t\t\t\tp1 = [r[i][4],r[i][5]];\n\t\t\t\tpoints.push(curves);\n\t\t\t}\n\t\t\tshape._dashedPoints = points;\n\t\t}\n\t\treturn r;\n\t};\n\n\tcanvas.Ellipse = declare(\"dojox.gfx.canvas.Ellipse\", [canvas.Shape, gs.Ellipse], {\n\t\t// summary:\n\t\t//\t\tan ellipse shape (Canvas)\n\t\tsetShape: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tthis.canvasEllipse = makeEllipse(this);\n\t\t\treturn this;\n\t\t},\n\t\tsetStroke: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tif(!hasNativeDash){\n\t\t\t\tthis.canvasEllipse = makeEllipse(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar r = this.canvasEllipse, i;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo.apply(ctx, r[0]);\n\t\t\tfor(i = 1; i < r.length; ++i){\n\t\t\t\tctx.bezierCurveTo.apply(ctx, r[i]);\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t},\n\t\t_renderDashedStroke: function(ctx, apply){\n\t\t\tvar r = this._dashedPoints;\n\t\t\tctx.beginPath();\n\t\t\tfor(var i = 0; i < r.length; ++i){\n\t\t\t\tvar curves = r[i];\n\t\t\t\tfor(var j=0;j<curves.length;++j){\n\t\t\t\t\tvar curve = curves[j];\n\t\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\t\t\tctx.bezierCurveTo(curve[2],curve[3],curve[4],curve[5],curve[6],curve[7]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(apply) ctx.stroke();\n\t\t}\n\t});\n\n\tcanvas.Circle = declare(\"dojox.gfx.canvas.Circle\", [canvas.Shape, gs.Circle], {\n\t\t// summary:\n\t\t//\t\ta circle shape (Canvas)\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar s = this.shape;\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(s.cx, s.cy, s.r, 0, twoPI, 1);\n\t\t},\n\t\t_renderDashedStroke: function(ctx, apply){\n\t\t\tvar s = this.shape;\n\t\t\tvar startAngle = 0, angle, l = this.canvasDash.length; i=0;\n\t\t\twhile(startAngle < twoPI){\n\t\t\t\tangle = this.canvasDash[i%l]/s.r;\n\t\t\t\tif(!(i%2)){\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(s.cx, s.cy, s.r, startAngle, startAngle+angle, 0);\n\t\t\t\t\tif(apply) ctx.stroke();\n\t\t\t\t}\n\t\t\t\tstartAngle+=angle;\n\t\t\t\t++i;\n\t\t\t}\n\t\t}\n\t});\n\n\tcanvas.Line = declare(\"dojox.gfx.canvas.Line\", [canvas.Shape, gs.Line], {\n\t\t// summary:\n\t\t//\t\ta line shape (Canvas)\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar s = this.shape;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(s.x1, s.y1);\n\t\t\tctx.lineTo(s.x2, s.y2);\n\t\t},\n\t\t_renderDashedStroke: function(ctx, apply){\n\t\t\tvar s = this.shape;\n\t\t\tctx.beginPath();\n\t\t\ttoDashedLineTo(ctx, this, s.x1, s.y1, s.x2, s.y2);\n\t\t\tif(apply) ctx.stroke();\n\t\t}\n\t});\n\n\tcanvas.Polyline = declare(\"dojox.gfx.canvas.Polyline\", [canvas.Shape, gs.Polyline], {\n\t\t// summary:\n\t\t//\t\ta polyline/polygon shape (Canvas)\n\t\tsetShape: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tvar p = this.shape.points, f = p[0], r, c, i;\n\t\t\tthis.bbox = null;\n\t\t\t// normalize this.shape.points as array of points: [{x,y}, {x,y}, ...]\n\t\t\tthis._normalizePoints();\n\t\t\t// after _normalizePoints, if shape.points was [x1,y1,x2,y2,..], shape.points references a new array\n\t\t\t// and p references the original points array\n\t\t\t// prepare Canvas-specific structures, if needed\n\t\t\tif(p.length){\n\t\t\t\tif(typeof f == \"number\"){ // already in the canvas format [x1,y1,x2,y2,...]\n\t\t\t\t\tr = p;\n\t\t\t\t}else{ // convert into canvas-specific format\n\t\t\t\t\tr = [];\n\t\t\t\t\tfor(i=0; i < p.length; ++i){\n\t\t\t\t\t\tc = p[i];\n\t\t\t\t\t\tr.push(c.x, c.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tr = [];\n\t\t\t}\n\t\t\tthis.canvasPolyline = r;\n\t\t\treturn this;\n\t\t},\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar p = this.canvasPolyline;\n\t\t\tif(p.length){\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(p[0], p[1]);\n\t\t\t\tfor(var i = 2; i < p.length; i += 2){\n\t\t\t\t\tctx.lineTo(p[i], p[i + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_renderDashedStroke: function(ctx, apply){\n\t\t\tvar p = this.canvasPolyline, residue = 0;\n\t\t\tctx.beginPath();\n\t\t\tfor(var i = 0; i < p.length; i += 2){\n\t\t\t\tresidue = toDashedLineTo(ctx, this, p[i], p[i + 1], p[i + 2], p[i + 3], residue);\n\t\t\t}\n\t\t\tif(apply) ctx.stroke();\n\t\t}\n\t});\n\n\tcanvas.Image = declare(\"dojox.gfx.canvas.Image\", [canvas.Shape, gs.Image], {\n\t\t// summary:\n\t\t//\t\tan image shape (Canvas)\n\t\tsetShape: function(){\n\t\t\tthis.inherited(arguments);\n\t\t\t// prepare Canvas-specific structures\n\t\t\tvar img = new Image();\n\t\t\tthis.surface.downloadImage(img, this.shape.src);\n\t\t\tthis.canvasImage = img;\n\t\t\treturn this;\n\t\t},\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar s = this.shape;\n\t\t\tctx.drawImage(this.canvasImage, s.x, s.y, s.width, s.height);\n\t\t}\n\t});\n\n\tcanvas.Text = declare(\"dojox.gfx.canvas.Text\", [canvas.Shape, gs.Text], {\n\t\t_setFont:function(){\n\t\t\tif(this.fontStyle){\n\t\t\t\tthis.canvasFont = g.makeFontString(this.fontStyle);\n\t\t\t}else{\n\t\t\t\tdelete this.canvasFont;\n\t\t\t}\n\t\t},\n\n\t\tgetTextWidth: function(){\n\t\t\t// summary:\n\t\t\t//\t\tget the text width in pixels\n\t\t\tvar s = this.shape, w = 0, ctx;\n\t\t\tif(s.text){\n\t\t\t\tctx = this.surface.rawNode.getContext(\"2d\");\n\t\t\t\tctx.save();\n\t\t\t\tthis._renderTransform(ctx);\n\t\t\t\tthis._renderFill(ctx, false);\n\t\t\t\tthis._renderStroke(ctx, false);\n\t\t\t\tif (this.canvasFont)\n\t\t\t\t\tctx.font = this.canvasFont;\n\t\t\t\tw = ctx.measureText(s.text).width;\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t\treturn w;\n\t\t},\n\n\t\t// override to apply first fill and stroke (\n\t\t// the base implementation is for path-based shape that needs to first define the path then to fill/stroke it.\n\t\t// Here, we need the fillstyle or strokestyle to be set before calling fillText/strokeText.\n\t\t_render: function(/* Object */ctx){\n\t\t\t// summary:\n\t\t\t//\t\trender the shape\n\t\t\t// ctx: Object\n\t\t\t//\t\tthe drawing context.\n\t\t\tctx.save();\n\t\t\tthis._renderTransform(ctx);\n\t\t\tthis._renderFill(ctx, false);\n\t\t\tthis._renderStroke(ctx, false);\n\t\t\tthis._renderShape(ctx);\n\t\t\tctx.restore();\n\t\t},\n\n\t\t_renderShape: function(ctx){\n\t\t\t// summary:\n\t\t\t//\t\ta text shape (Canvas)\n\t\t\t// ctx: Object\n\t\t\t//\t\tthe drawing context.\n\t\t\tvar ta, s = this.shape;\n\t\t\tif(!s.text){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// text align\n\t\t\tta = s.align === 'middle' ? 'center' : s.align;\n\t\t\tctx.textAlign = ta;\n\t\t\tif(this.canvasFont){\n\t\t\t\tctx.font = this.canvasFont;\n\t\t\t}\n\t\t\tif(this.canvasFill){\n\t\t\t\tctx.fillText(s.text, s.x, s.y);\n\t\t\t}\n\t\t\tif(this.strokeStyle){\n\t\t\t\tctx.beginPath(); // fix bug in FF3.6. Fixed in FF4b8\n\t\t\t\tctx.strokeText(s.text, s.x, s.y);\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}\n\t});\n\tmodifyMethod(canvas.Text, \"setFont\");\n\n\tif(!hasFillText){\n\t\tcanvas.Text.extend({\n\t\t\tgetTextWidth: function(){\n\t\t\t\treturn 0;\n\t\t\t},\n\t\t\tgetBoundingBox: function(){\n\t\t\t\treturn null;\n\t\t\t},\n\t\t\t_renderShape: function(){\n\t\t\t}\n\t\t});\n\t}\n\n\tvar pathRenderers = {\n\t\t\tM: \"_moveToA\", m: \"_moveToR\",\n\t\t\tL: \"_lineToA\", l: \"_lineToR\",\n\t\t\tH: \"_hLineToA\", h: \"_hLineToR\",\n\t\t\tV: \"_vLineToA\", v: \"_vLineToR\",\n\t\t\tC: \"_curveToA\", c: \"_curveToR\",\n\t\t\tS: \"_smoothCurveToA\", s: \"_smoothCurveToR\",\n\t\t\tQ: \"_qCurveToA\", q: \"_qCurveToR\",\n\t\t\tT: \"_qSmoothCurveToA\", t: \"_qSmoothCurveToR\",\n\t\t\tA: \"_arcTo\", a: \"_arcTo\",\n\t\t\tZ: \"_closePath\", z: \"_closePath\"\n\t\t};\n\n\n\tcanvas.Path = declare(\"dojox.gfx.canvas.Path\", [canvas.Shape, pathLib.Path], {\n\t\t// summary:\n\t\t//\t\ta path shape (Canvas)\n\t\tconstructor: function(){\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\tsetShape: function(){\n\t\t\tthis.canvasPath = [];\n\t\t\tthis._dashedPath= [];\n\t\t\treturn this.inherited(arguments);\n\t\t},\n\t\tsetStroke:function(){\n\t\t\tthis.inherited(arguments);\n\t\t\tif(!hasNativeDash){\n\t\t\t\tthis.segmented = false;\n\t\t\t\tthis._confirmSegmented();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_setPath: function(){\n\t\t\tthis._dashResidue = null;\n\t\t\tthis.inherited(arguments);\n\t\t},\n\t\t_updateWithSegment: function(segment){\n\t\t\tvar last = lang.clone(this.last);\n\t\t\tthis[pathRenderers[segment.action]](this.canvasPath, segment.action, segment.args, this._needsDash ? this._dashedPath : null);\n\t\t\tthis.last = last;\n\t\t\tthis.inherited(arguments);\n\t\t},\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar r = this.canvasPath;\n\t\t\tctx.beginPath();\n\t\t\tfor(var i = 0; i < r.length; i += 2){\n\t\t\t\tctx[r[i]].apply(ctx, r[i + 1]);\n\t\t\t}\n\t\t},\n\t\t_renderDashedStroke: hasNativeDash ? function(){} : function(ctx, apply){\n\t\t\tvar r = this._dashedPath;\n\t\t\tctx.beginPath();\n\t\t\tfor(var i = 0; i < r.length; i += 2){\n\t\t\t\tctx[r[i]].apply(ctx, r[i + 1]);\n\t\t\t}\n\t\t\tif(apply) ctx.stroke();\n\t\t},\n\t\t_moveToA: function(result, action, args, doDash){\n\t\t\tresult.push(\"moveTo\", [args[0], args[1]]);\n\t\t\tif(doDash) doDash.push(\"moveTo\", [args[0], args[1]]);\n\t\t\tfor(var i = 2; i < args.length; i += 2){\n\t\t\t\tresult.push(\"lineTo\", [args[i], args[i + 1]]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, args[i - 2], args[i - 1], args[i], args[i + 1], this._dashResidue);\n\t\t\t}\n\t\t\tthis.last.x = args[args.length - 2];\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_moveToR: function(result, action, args, doDash){\n\t\t\tvar pts;\n\t\t\tif(\"x\" in this.last){\n\t\t\t\tpts = [this.last.x += args[0], this.last.y += args[1]];\n\t\t\t\tresult.push(\"moveTo\", pts);\n\t\t\t\tif(doDash) doDash.push(\"moveTo\", pts);\n\t\t\t}else{\n\t\t\t\tpts = [this.last.x = args[0], this.last.y = args[1]];\n\t\t\t\tresult.push(\"moveTo\", pts);\n\t\t\t\tif(doDash) doDash.push(\"moveTo\", pts);\n\t\t\t}\n\t\t\tfor(var i = 2; i < args.length; i += 2){\n\t\t\t\tresult.push(\"lineTo\", [this.last.x += args[i], this.last.y += args[i + 1]]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\n\t\t\t}\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_lineToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 2){\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, this.last.x, this.last.y, args[i], args[i + 1], this._dashResidue);\n\t\t\t\tresult.push(\"lineTo\", [args[i], args[i + 1]]);\n\t\t\t}\n\t\t\tthis.last.x = args[args.length - 2];\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_lineToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 2){\n\t\t\t\tresult.push(\"lineTo\", [this.last.x += args[i], this.last.y += args[i + 1]]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\n\t\t\t}\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_hLineToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; ++i){\n\t\t\t\tresult.push(\"lineTo\", [args[i], this.last.y]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], args[i], this.last.y, this._dashResidue);\n\t\t\t}\n\t\t\tthis.last.x = args[args.length - 1];\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_hLineToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; ++i){\n\t\t\t\tresult.push(\"lineTo\", [this.last.x += args[i], this.last.y]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\n\t\t\t}\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_vLineToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; ++i){\n\t\t\t\tresult.push(\"lineTo\", [this.last.x, args[i]]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, args[i], this._dashResidue);\n\t\t\t}\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_vLineToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; ++i){\n\t\t\t\tresult.push(\"lineTo\", [this.last.x, this.last.y += args[i]]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, doDash[doDash.length - 1][0], doDash[doDash.length - 1][1], this.last.x, this.last.y, this._dashResidue);\n\t\t\t}\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_curveToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 6){\n\t\t\t\tresult.push(\"bezierCurveTo\", args.slice(i, i + 6));\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\n\t\t\t}\n\t\t\tthis.last.x = args[args.length - 2];\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t\tthis.lastControl.x = args[args.length - 4];\n\t\t\tthis.lastControl.y = args[args.length - 3];\n\t\t\tthis.lastControl.type = \"C\";\n\t\t},\n\t\t_curveToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 6){\n\t\t\t\tresult.push(\"bezierCurveTo\", [\n\t\t\t\t\tthis.last.x + args[i],\n\t\t\t\t\tthis.last.y + args[i + 1],\n\t\t\t\t\tthis.lastControl.x = this.last.x + args[i + 2],\n\t\t\t\t\tthis.lastControl.y = this.last.y + args[i + 3],\n\t\t\t\t\tthis.last.x + args[i + 4],\n\t\t\t\t\tthis.last.y + args[i + 5]\n\t\t\t\t]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\n\t\t\t\tthis.last.x += args[i + 4];\n\t\t\t\tthis.last.y += args[i + 5];\n\t\t\t}\n\t\t\tthis.lastControl.type = \"C\";\n\t\t},\n\t\t_smoothCurveToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 4){\n\t\t\t\tvar valid = this.lastControl.type == \"C\";\n\t\t\t\tresult.push(\"bezierCurveTo\", [\n\t\t\t\t\tvalid ? 2 * this.last.x - this.lastControl.x : this.last.x,\n\t\t\t\t\tvalid ? 2 * this.last.y - this.lastControl.y : this.last.y,\n\t\t\t\t\targs[i],\n\t\t\t\t\targs[i + 1],\n\t\t\t\t\targs[i + 2],\n\t\t\t\t\targs[i + 3]\n\t\t\t\t]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\n\t\t\t\tthis.lastControl.x = args[i];\n\t\t\t\tthis.lastControl.y = args[i + 1];\n\t\t\t\tthis.lastControl.type = \"C\";\n\t\t\t}\n\t\t\tthis.last.x = args[args.length - 2];\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t},\n\t\t_smoothCurveToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 4){\n\t\t\t\tvar valid = this.lastControl.type == \"C\";\n\t\t\t\tresult.push(\"bezierCurveTo\", [\n\t\t\t\t\tvalid ? 2 * this.last.x - this.lastControl.x : this.last.x,\n\t\t\t\t\tvalid ? 2 * this.last.y - this.lastControl.y : this.last.y,\n\t\t\t\t\tthis.last.x + args[i],\n\t\t\t\t\tthis.last.y + args[i + 1],\n\t\t\t\t\tthis.last.x + args[i + 2],\n\t\t\t\t\tthis.last.y + args[i + 3]\n\t\t\t\t]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length-1], this._dashResidue);\n\t\t\t\tthis.lastControl.x = this.last.x + args[i];\n\t\t\t\tthis.lastControl.y = this.last.y + args[i + 1];\n\t\t\t\tthis.lastControl.type = \"C\";\n\t\t\t\tthis.last.x += args[i + 2];\n\t\t\t\tthis.last.y += args[i + 3];\n\t\t\t}\n\t\t},\n\t\t_qCurveToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 4){\n\t\t\t\tresult.push(\"quadraticCurveTo\", args.slice(i, i + 4));\n\t\t\t}\n\t\t\tif(doDash)\n\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\n\t\t\tthis.last.x = args[args.length - 2];\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t\tthis.lastControl.x = args[args.length - 4];\n\t\t\tthis.lastControl.y = args[args.length - 3];\n\t\t\tthis.lastControl.type = \"Q\";\n\t\t},\n\t\t_qCurveToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 4){\n\t\t\t\tresult.push(\"quadraticCurveTo\", [\n\t\t\t\t\tthis.lastControl.x = this.last.x + args[i],\n\t\t\t\t\tthis.lastControl.y = this.last.y + args[i + 1],\n\t\t\t\t\tthis.last.x + args[i + 2],\n\t\t\t\t\tthis.last.y + args[i + 3]\n\t\t\t\t]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\n\t\t\t\tthis.last.x += args[i + 2];\n\t\t\t\tthis.last.y += args[i + 3];\n\t\t\t}\n\t\t\tthis.lastControl.type = \"Q\";\n\t\t},\n\t\t_qSmoothCurveToA: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 2){\n\t\t\t\tvar valid = this.lastControl.type == \"Q\";\n\t\t\t\tresult.push(\"quadraticCurveTo\", [\n\t\t\t\t\tthis.lastControl.x = valid ? 2 * this.last.x - this.lastControl.x : this.last.x,\n\t\t\t\t\tthis.lastControl.y = valid ? 2 * this.last.y - this.lastControl.y : this.last.y,\n\t\t\t\t\targs[i],\n\t\t\t\t\targs[i + 1]\n\t\t\t\t]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\n\t\t\t\tthis.lastControl.type = \"Q\";\n\t\t\t}\n\t\t\tthis.last.x = args[args.length - 2];\n\t\t\tthis.last.y = args[args.length - 1];\n\t\t},\n\t\t_qSmoothCurveToR: function(result, action, args, doDash){\n\t\t\tfor(var i = 0; i < args.length; i += 2){\n\t\t\t\tvar valid = this.lastControl.type == \"Q\";\n\t\t\t\tresult.push(\"quadraticCurveTo\", [\n\t\t\t\t\tthis.lastControl.x = valid ? 2 * this.last.x - this.lastControl.x : this.last.x,\n\t\t\t\t\tthis.lastControl.y = valid ? 2 * this.last.y - this.lastControl.y : this.last.y,\n\t\t\t\t\tthis.last.x + args[i],\n\t\t\t\t\tthis.last.y + args[i + 1]\n\t\t\t\t]);\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, result[result.length - 1], this._dashResidue);\n\t\t\t\tthis.lastControl.type = \"Q\";\n\t\t\t\tthis.last.x += args[i];\n\t\t\t\tthis.last.y += args[i + 1];\n\t\t\t}\n\t\t},\n\t\t_arcTo: function(result, action, args, doDash){\n\t\t\tvar relative = action == \"a\";\n\t\t\tfor(var i = 0; i < args.length; i += 7){\n\t\t\t\tvar x1 = args[i + 5], y1 = args[i + 6];\n\t\t\t\tif(relative){\n\t\t\t\t\tx1 += this.last.x;\n\t\t\t\t\ty1 += this.last.y;\n\t\t\t\t}\n\t\t\t\tvar arcs = ga.arcAsBezier(\n\t\t\t\t\tthis.last, args[i], args[i + 1], args[i + 2],\n\t\t\t\t\targs[i + 3] ? 1 : 0, args[i + 4] ? 1 : 0,\n\t\t\t\t\tx1, y1\n\t\t\t\t);\n\t\t\t\tarr.forEach(arcs, function(p){\n\t\t\t\t\tresult.push(\"bezierCurveTo\", p);\n\t\t\t\t});\n\t\t\t\tif(doDash)\n\t\t\t\t\tthis._dashResidue = toDashedCurveTo(doDash, this, p, this._dashResidue);\n\t\t\t\tthis.last.x = x1;\n\t\t\t\tthis.last.y = y1;\n\t\t\t}\n\t\t\tthis.lastControl = {};\n\t\t},\n\t\t_closePath: function(result, action, args, doDash){\n\t\t\tresult.push(\"closePath\", []);\n\t\t\tif(doDash)\n\t\t\t\tthis._dashResidue = toDashedLineTo(doDash, this, this.last.x, this.last.y, doDash[1][0], doDash[1][1], this._dashResidue);\n\t\t\tthis.lastControl = {};\n\t\t}\n\t});\n\tarr.forEach([\"moveTo\", \"lineTo\", \"hLineTo\", \"vLineTo\", \"curveTo\",\n\t\t\"smoothCurveTo\", \"qCurveTo\", \"qSmoothCurveTo\", \"arcTo\", \"closePath\"],\n\t\tfunction(method){ modifyMethod(canvas.Path, method); }\n\t);\n\n\tcanvas.TextPath = declare(\"dojox.gfx.canvas.TextPath\", [canvas.Shape, pathLib.TextPath], {\n\t\t// summary:\n\t\t//\t\ta text shape (Canvas)\n\t\t_renderShape: function(/* Object */ ctx){\n\t\t\tvar s = this.shape;\n\t\t\t// nothing for the moment\n\t\t},\n\t\t_setText: function(){\n\t\t\t// not implemented\n\t\t},\n\t\t_setFont: function(){\n\t\t\t// not implemented\n\t\t}\n\t});\n\n\tcanvas.Surface = declare(\"dojox.gfx.canvas.Surface\", gs.Surface, {\n\t\t// summary:\n\t\t//\t\ta surface object to be used for drawings (Canvas)\n\t\tconstructor: function(){\n\t\t\tgs.Container._init.call(this);\n\t\t\tthis.pendingImageCount = 0;\n\t\t\tthis.makeDirty();\n\t\t},\n\t\tdestroy: function(){\n\t\t\tgs.Container.clear.call(this, true); // avoid makeDirty() from canvas.Container.clear impl.\n\t\t\tthis.inherited(arguments);\n\t\t},\n\t\tsetDimensions: function(width, height){\n\t\t\t// summary:\n\t\t\t//\t\tsets the width and height of the rawNode\n\t\t\t// width: String\n\t\t\t//\t\twidth of surface, e.g., \"100px\"\n\t\t\t// height: String\n\t\t\t//\t\theight of surface, e.g., \"100px\"\n\t\t\tthis.width  = g.normalizedLength(width);\t// in pixels\n\t\t\tthis.height = g.normalizedLength(height);\t// in pixels\n\t\t\tif(!this.rawNode) return this;\n\t\t\tvar dirty = false;\n\t\t\tif (this.rawNode.width != this.width){\n\t\t\t\tthis.rawNode.width = this.width;\n\t\t\t\tdirty = true;\n\t\t\t}\n\t\t\tif (this.rawNode.height != this.height){\n\t\t\t\tthis.rawNode.height = this.height;\n\t\t\t\tdirty = true;\n\t\t\t}\n\t\t\tif (dirty)\n\t\t\t\tthis.makeDirty();\n\t\t\treturn this;\t// self\n\t\t},\n\t\tgetDimensions: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns an object with properties \"width\" and \"height\"\n\t\t\treturn this.rawNode ? {width:  this.rawNode.width, height: this.rawNode.height} : null;\t// Object\n\t\t},\n\t\t_render: function(force){\n\t\t\t// summary:\n\t\t\t//\t\trender the all shapes\n\t\t\tif(!this.rawNode || (!force && this.pendingImageCount)){ return; }\n\t\t\tvar ctx = this.rawNode.getContext(\"2d\");\n\t\t\tctx.clearRect(0, 0, this.rawNode.width, this.rawNode.height);\n\t\t\tthis.render(ctx);\n\t\t\tif(\"pendingRender\" in this){\n\t\t\t\tclearTimeout(this.pendingRender);\n\t\t\t\tdelete this.pendingRender;\n\t\t\t}\n\t\t},\n\t\trender: function(ctx){\n\t\t\t// summary:\n\t\t\t//\t\tRenders the gfx scene.\n\t\t\t// description:\n\t\t\t//\t\tthis method is called to render the gfx scene to the specified context.\n\t\t\t//\t\tThis method should not be invoked directly but should be used instead\n\t\t\t//\t\tas an extension point on which user can connect to with aspect.before/aspect.after\n\t\t\t//\t\tto implement pre- or post- image processing jobs on the drawing surface.\n\t\t\t// ctx: CanvasRenderingContext2D\n\t\t\t//\t\tThe surface Canvas rendering context.\n\t\t\tctx.save();\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\n\t\t\t\tthis.children[i]._render(ctx);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t},\n\t\tmakeDirty: function(){\n\t\t\t// summary:\n\t\t\t//\t\tinternal method, which is called when we may need to redraw\n\t\t\tif(!this.pendingImagesCount && !(\"pendingRender\" in this) && !this._batch){\n\t\t\t\tthis.pendingRender = setTimeout(lang.hitch(this, this._render), 0);\n\t\t\t}\n\t\t},\n\t\tdownloadImage: function(img, url){\n\t\t\t// summary:\n\t\t\t//\t\tinternal method, which starts an image download and renders, when it is ready\n\t\t\t// img: Image\n\t\t\t//\t\tthe image object\n\t\t\t// url: String\n\t\t\t//\t\tthe url of the image\n\t\t\tvar handler = lang.hitch(this, this.onImageLoad);\n\t\t\tif(!this.pendingImageCount++ && \"pendingRender\" in this){\n\t\t\t\tclearTimeout(this.pendingRender);\n\t\t\t\tdelete this.pendingRender;\n\t\t\t}\n\t\t\timg.onload  = handler;\n\t\t\timg.onerror = handler;\n\t\t\timg.onabort = handler;\n\t\t\timg.src = url;\n\t\t},\n\t\tonImageLoad: function(){\n\t\t\tif(!--this.pendingImageCount){\n\t\t\t\tthis.onImagesLoaded();\n\t\t\t\tthis._render();\n\t\t\t}\n\t\t},\n\t\tonImagesLoaded: function(){\n\t\t\t// summary:\n\t\t\t//\t\tAn extension point called when all pending images downloads have been completed.\n\t\t\t// description:\n\t\t\t//\t\tThis method is invoked when all pending images downloads have been completed, just before\n\t\t\t//\t\tthe gfx scene is redrawn. User can connect to this method to get notified when a\n\t\t\t//\t\tgfx scene containing images is fully resolved.\n\t\t},\n\n\t\t// events are not implemented\n\t\tgetEventSource: function(){ return null; },\n\t\tconnect:\t\tfunction(){},\n\t\tdisconnect:\t\tfunction(){},\n\t\ton:\t\t\t\tfunction(){}\n\t});\n\n\tcanvas.createSurface = function(parentNode, width, height){\n\t\t// summary:\n\t\t//\t\tcreates a surface (Canvas)\n\t\t// parentNode: Node\n\t\t//\t\ta parent node\n\t\t// width: String\n\t\t//\t\twidth of surface, e.g., \"100px\"\n\t\t// height: String\n\t\t//\t\theight of surface, e.g., \"100px\"\n\n\t\tif(!width && !height){\n\t\t\tvar pos = domGeom.position(parentNode);\n\t\t\twidth  = width  || pos.w;\n\t\t\theight = height || pos.h;\n\t\t}\n\t\tif(typeof width == \"number\"){\n\t\t\twidth = width + \"px\";\n\t\t}\n\t\tif(typeof height == \"number\"){\n\t\t\theight = height + \"px\";\n\t\t}\n\n\t\tvar s = new canvas.Surface(),\n\t\t\tp = dom.byId(parentNode),\n\t\t\tc = p.ownerDocument.createElement(\"canvas\");\n\n\t\tc.width  = g.normalizedLength(width);\t// in pixels\n\t\tc.height = g.normalizedLength(height);\t// in pixels\n\n\t\tp.appendChild(c);\n\t\ts.rawNode = c;\n\t\ts._parent = p;\n\t\ts.surface = s;\n\t\treturn s;\t// dojox/gfx.Surface\n\t};\n\n\t// Extenders\n\n\tvar C = gs.Container, Container = {\n\t\topenBatch: function() {\n\t\t\t// summary:\n\t\t\t//\t\tstarts a new batch, subsequent new child shapes will be held in\n\t\t\t//\t\tthe batch instead of appending to the container directly.\n\t\t\t// description:\n\t\t\t//\t\tBecause the canvas renderer has no DOM hierarchy, the canvas implementation differs\n\t\t\t//\t\tsuch that it suspends the repaint requests for this container until the current batch is closed by a call to closeBatch().\n\t\t\t++this._batch;\n\t\t\treturn this;\n\t\t},\n\t\tcloseBatch: function() {\n\t\t\t// summary:\n\t\t\t//\t\tsubmits the current batch.\n\t\t\t// description:\n\t\t\t//\t\tOn canvas, this method flushes the pending redraws queue.\n\t\t\tthis._batch = this._batch > 0 ? --this._batch : 0;\n\t\t\tthis._makeDirty();\n\t\t\treturn this;\n\t\t},\n\t\t_makeDirty: function(){\n\t\t\tif(!this._batch){\n\t\t\t\tthis.surface.makeDirty();\n\t\t\t}\n\t\t},\n\t\tadd: function(shape){\n\t\t\tthis._makeDirty();\n\t\t\treturn C.add.apply(this, arguments);\n\t\t},\n\t\tremove: function(shape, silently){\n\t\t\tthis._makeDirty();\n\t\t\treturn C.remove.apply(this, arguments);\n\t\t},\n\t\tclear: function(){\n\t\t\tthis._makeDirty();\n\t\t\treturn C.clear.apply(this, arguments);\n\t\t},\n\t\tgetBoundingBox: C.getBoundingBox,\n\t\t_moveChildToFront: function(shape){\n\t\t\tthis._makeDirty();\n\t\t\treturn C._moveChildToFront.apply(this, arguments);\n\t\t},\n\t\t_moveChildToBack: function(shape){\n\t\t\tthis._makeDirty();\n\t\t\treturn C._moveChildToBack.apply(this, arguments);\n\t\t}\n\t};\n\n\tvar Creator = {\n\t\t// summary:\n\t\t//\t\tCanvas shape creators\n\t\tcreateObject: function(shapeType, rawShape) {\n\t\t\t// summary:\n\t\t\t//\t\tcreates an instance of the passed shapeType class\n\t\t\t// shapeType: Function\n\t\t\t//\t\ta class constructor to create an instance of\n\t\t\t// rawShape: Object\n\t\t\t//\t\tproperties to be passed in to the classes \"setShape\" method\n\t\t\t// overrideSize: Boolean\n\t\t\t//\t\tset the size explicitly, if true\n\t\t\tvar shape = new shapeType();\n\t\t\tshape.surface = this.surface;\n\t\t\tshape.setShape(rawShape);\n\t\t\tthis.add(shape);\n\t\t\treturn shape;\t// dojox/gfx/shape.Shape\n\t\t}\n\t};\n\n\textend(canvas.Group, Container);\n\textend(canvas.Group, gs.Creator);\n\textend(canvas.Group, Creator);\n\n\textend(canvas.Surface, Container);\n\textend(canvas.Surface, gs.Creator);\n\textend(canvas.Surface, Creator);\n\n\t// no event support -> nothing to fix.\n\tcanvas.fixTarget = function(event, gfxElement){\n\t\t// tags:\n\t\t//\t\tprivate\n\t\treturn true;\n\t};\n\n\treturn canvas;\n});\n","define([\"./_base\", \"dojo/_base/lang\", \"./matrix\"], \n  function (g, lang, m){\n\tfunction eq(/* Number */ a, /* Number */ b){\n\t\t// summary:\n\t\t//\t\tcompare two FP numbers for equality\n\t\treturn Math.abs(a - b) <= 1e-6 * (Math.abs(a) + Math.abs(b));\t// Boolean\n\t}\n\n\tfunction calcFromValues(/* Number */ r1, /* Number */ m1, /* Number */ r2, /* Number */ m2){\n\t\t// summary:\n\t\t//\t\tuses two close FP ration and their original magnitudes to approximate the result\n\t\tif(!isFinite(r1)){\n\t\t\treturn r2;\t// Number\n\t\t}else if(!isFinite(r2)){\n\t\t\treturn r1;\t// Number\n\t\t}\n\t\tm1 = Math.abs(m1); m2 = Math.abs(m2);\n\t\treturn (m1 * r1 + m2 * r2) / (m1 + m2);\t// Number\n\t}\n\n\tfunction transpose(matrix){\n\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t//\t\ta 2D matrix-like object\n\t\tvar M = new m.Matrix2D(matrix);\n\t\treturn lang.mixin(M, {dx: 0, dy: 0, xy: M.yx, yx: M.xy});\t// dojox/gfx/matrix.Matrix2D\n\t}\n\n\tfunction scaleSign(/* dojox/gfx/matrix.Matrix2D */ matrix){\n\t\treturn (matrix.xx * matrix.yy < 0 || matrix.xy * matrix.yx > 0) ? -1 : 1;\t// Number\n\t}\n\n\tfunction eigenvalueDecomposition(matrix){\n\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t//\t\ta 2D matrix-like object\n\t\tvar M = m.normalize(matrix),\n\t\t\tb = -M.xx - M.yy,\n\t\t\tc = M.xx * M.yy - M.xy * M.yx,\n\t\t\td = Math.sqrt(b * b - 4 * c),\n\t\t\tl1 = -(b + (b < 0 ? -d : d)) / 2,\n\t\t\tl2 = c / l1,\n\t\t\tvx1 = M.xy / (l1 - M.xx), vy1 = 1,\n\t\t\tvx2 = M.xy / (l2 - M.xx), vy2 = 1;\n\t\tif(eq(l1, l2)){\n\t\t\tvx1 = 1, vy1 = 0, vx2 = 0, vy2 = 1;\n\t\t}\n\t\tif(!isFinite(vx1)){\n\t\t\tvx1 = 1, vy1 = (l1 - M.xx) / M.xy;\n\t\t\tif(!isFinite(vy1)){\n\t\t\t\tvx1 = (l1 - M.yy) / M.yx, vy1 = 1;\n\t\t\t\tif(!isFinite(vx1)){\n\t\t\t\t\tvx1 = 1, vy1 = M.yx / (l1 - M.yy);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!isFinite(vx2)){\n\t\t\tvx2 = 1, vy2 = (l2 - M.xx) / M.xy;\n\t\t\tif(!isFinite(vy2)){\n\t\t\t\tvx2 = (l2 - M.yy) / M.yx, vy2 = 1;\n\t\t\t\tif(!isFinite(vx2)){\n\t\t\t\t\tvx2 = 1, vy2 = M.yx / (l2 - M.yy);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar d1 = Math.sqrt(vx1 * vx1 + vy1 * vy1),\n\t\t\td2 = Math.sqrt(vx2 * vx2 + vy2 * vy2);\n\t\tif(!isFinite(vx1 /= d1)){ vx1 = 0; }\n\t\tif(!isFinite(vy1 /= d1)){ vy1 = 0; }\n\t\tif(!isFinite(vx2 /= d2)){ vx2 = 0; }\n\t\tif(!isFinite(vy2 /= d2)){ vy2 = 0; }\n\t\treturn {\t// Object\n\t\t\tvalue1: l1,\n\t\t\tvalue2: l2,\n\t\t\tvector1: {x: vx1, y: vy1},\n\t\t\tvector2: {x: vx2, y: vy2}\n\t\t};\n\t}\n\n\tfunction decomposeSR(/* dojox/gfx/matrix.Matrix2D */ M, /* Object */ result){\n\t\t// summary:\n\t\t//\t\tdecomposes a matrix into [scale, rotate]; no checks are done.\n\t\tvar sign = scaleSign(M),\n\t\t\ta = result.angle1 = (Math.atan2(M.yx, M.yy) + Math.atan2(-sign * M.xy, sign * M.xx)) / 2,\n\t\t\tcos = Math.cos(a), sin = Math.sin(a);\n\t\tresult.sx = calcFromValues(M.xx / cos, cos, -M.xy / sin, sin);\n\t\tresult.sy = calcFromValues(M.yy / cos, cos,  M.yx / sin, sin);\n\t\treturn result;\t// Object\n\t}\n\n\tfunction decomposeRS(/* dojox/gfx/matrix.Matrix2D */ M, /* Object */ result){\n\t\t// summary:\n\t\t//\t\tdecomposes a matrix into [rotate, scale]; no checks are done\n\t\tvar sign = scaleSign(M),\n\t\t\ta = result.angle2 = (Math.atan2(sign * M.yx, sign * M.xx) + Math.atan2(-M.xy, M.yy)) / 2,\n\t\t\tcos = Math.cos(a), sin = Math.sin(a);\n\t\tresult.sx = calcFromValues(M.xx / cos, cos,  M.yx / sin, sin);\n\t\tresult.sy = calcFromValues(M.yy / cos, cos, -M.xy / sin, sin);\n\t\treturn result;\t// Object\n\t}\n\n\treturn g.decompose = function(matrix){\n\t\t// summary:\n\t\t//\t\tDecompose a 2D matrix into translation, scaling, and rotation components.\n\t\t// description:\n\t\t//\t\tThis function decompose a matrix into four logical components:\n\t\t//\t\ttranslation, rotation, scaling, and one more rotation using SVD.\n\t\t//\t\tThe components should be applied in following order:\n\t\t//\t| [translate, rotate(angle2), scale, rotate(angle1)]\n\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t//\t\ta 2D matrix-like object\n\t\tvar M = m.normalize(matrix),\n\t\t\tresult = {dx: M.dx, dy: M.dy, sx: 1, sy: 1, angle1: 0, angle2: 0};\n\t\t// detect case: [scale]\n\t\tif(eq(M.xy, 0) && eq(M.yx, 0)){\n\t\t\treturn lang.mixin(result, {sx: M.xx, sy: M.yy});\t// Object\n\t\t}\n\t\t// detect case: [scale, rotate]\n\t\tif(eq(M.xx * M.yx, -M.xy * M.yy)){\n\t\t\treturn decomposeSR(M, result);\t// Object\n\t\t}\n\t\t// detect case: [rotate, scale]\n\t\tif(eq(M.xx * M.xy, -M.yx * M.yy)){\n\t\t\treturn decomposeRS(M, result);\t// Object\n\t\t}\n\t\t// do SVD\n\t\tvar\tMT = transpose(M),\n\t\t\tu  = eigenvalueDecomposition([M, MT]),\n\t\t\tv  = eigenvalueDecomposition([MT, M]),\n\t\t\tU  = new m.Matrix2D({xx: u.vector1.x, xy: u.vector2.x, yx: u.vector1.y, yy: u.vector2.y}),\n\t\t\tVT = new m.Matrix2D({xx: v.vector1.x, xy: v.vector1.y, yx: v.vector2.x, yy: v.vector2.y}),\n\t\t\tS = new m.Matrix2D([m.invert(U), M, m.invert(VT)]);\n\t\tdecomposeSR(VT, result);\n\t\tS.xx *= result.sx;\n\t\tS.yy *= result.sy;\n\t\tdecomposeRS(U, result);\n\t\tS.xx *= result.sx;\n\t\tS.yy *= result.sy;\n\t\treturn lang.mixin(result, {sx: S.xx, sy: S.yy});\t// Object\n\t};\n});\n","define([\"dojo/_base/lang\", \"./_base\", \"./matrix\", \"dojo/_base/Color\", \"dojo/_base/array\", \"dojo/_base/fx\", \"dojo/_base/connect\", \"dojo/sniff\"], \n  function(lang, g, m, Color, arr, fx, Hub, has){\n\tvar fxg = g.fx = {};\n\n\t// Generic interpolators. Should they be moved to dojox.fx?\n\n\tfunction InterpolNumber(start, end){\n\t\tthis.start = start, this.end = end;\n\t}\n\tInterpolNumber.prototype.getValue = function(r){\n\t\treturn (this.end - this.start) * r + this.start;\n\t};\n\n\tfunction InterpolUnit(start, end, units){\n\t\tthis.start = start, this.end = end;\n\t\tthis.units = units;\n\t}\n\tInterpolUnit.prototype.getValue = function(r){\n\t\treturn (this.end - this.start) * r + this.start + this.units;\n\t};\n\n\tfunction InterpolColor(start, end){\n\t\tthis.start = start, this.end = end;\n\t\tthis.temp = new Color();\n\t}\n\tInterpolColor.prototype.getValue = function(r){\n\t\treturn Color.blendColors(this.start, this.end, r, this.temp);\n\t};\n\n\tfunction InterpolValues(values){\n\t\tthis.values = values;\n\t\tthis.length = values.length;\n\t}\n\tInterpolValues.prototype.getValue = function(r){\n\t\treturn this.values[Math.min(Math.floor(r * this.length), this.length - 1)];\n\t};\n\n\tfunction InterpolObject(values, def){\n\t\tthis.values = values;\n\t\tthis.def = def ? def : {};\n\t}\n\tInterpolObject.prototype.getValue = function(r){\n\t\tvar ret = lang.clone(this.def);\n\t\tfor(var i in this.values){\n\t\t\tret[i] = this.values[i].getValue(r);\n\t\t}\n\t\treturn ret;\n\t};\n\n\tfunction InterpolTransform(stack, original){\n\t\tthis.stack = stack;\n\t\tthis.original = original;\n\t}\n\tInterpolTransform.prototype.getValue = function(r){\n\t\tvar ret = [];\n\t\tarr.forEach(this.stack, function(t){\n\t\t\tif(t instanceof m.Matrix2D){\n\t\t\t\tret.push(t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(t.name == \"original\" && this.original){\n\t\t\t\tret.push(this.original);\n\t\t\t\treturn;\n\t\t\t}\n \t\t\t// Adding support for custom matrices\n \t\t\tif(t.name == \"matrix\"){\n \t\t\t\tif((t.start instanceof m.Matrix2D) && (t.end instanceof m.Matrix2D)){\n \t\t\t\t\tvar transfMatrix = new m.Matrix2D();\n \t\t\t\t\tfor(var p in t.start) {\n \t\t\t\t\t\ttransfMatrix[p] = (t.end[p] - t.start[p])*r + t.start[p];\n \t\t\t\t\t}\n \t\t\t\t\tret.push(transfMatrix);\n \t\t\t\t}\n \t\t\t\treturn;\n \t\t\t}\n\t\t\tif(!(t.name in m)){ return; }\n\t\t\tvar f = m[t.name];\n\t\t\tif(typeof f != \"function\"){\n\t\t\t\t// constant\n\t\t\t\tret.push(f);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar val = arr.map(t.start, function(v, i){\n\t\t\t\t\t\t\treturn (t.end[i] - v) * r + v;\n\t\t\t\t\t\t}),\n\t\t\t\tmatrix = f.apply(m, val);\n\t\t\tif(matrix instanceof m.Matrix2D){\n\t\t\t\tret.push(matrix);\n\t\t\t}\n\t\t}, this);\n\t\treturn ret;\n\t};\n\n\tvar transparent = new Color(0, 0, 0, 0);\n\n\tfunction getColorInterpol(prop, obj, name, def){\n\t\tif(prop.values){\n\t\t\treturn new InterpolValues(prop.values);\n\t\t}\n\t\tvar value, start, end;\n\t\tif(prop.start){\n\t\t\tstart = g.normalizeColor(prop.start);\n\t\t}else{\n\t\t\tstart = value = obj ? (name ? obj[name] : obj) : def;\n\t\t}\n\t\tif(prop.end){\n\t\t\tend = g.normalizeColor(prop.end);\n\t\t}else{\n\t\t\tif(!value){\n\t\t\t\tvalue = obj ? (name ? obj[name] : obj) : def;\n\t\t\t}\n\t\t\tend = value;\n\t\t}\n\t\treturn new InterpolColor(start, end);\n\t}\n\n\tfunction getNumberInterpol(prop, obj, name, def){\n\t\tif(prop.values){\n\t\t\treturn new InterpolValues(prop.values);\n\t\t}\n\t\tvar value, start, end;\n\t\tif(prop.start){\n\t\t\tstart = prop.start;\n\t\t}else{\n\t\t\tstart = value = obj ? obj[name] : def;\n\t\t}\n\t\tif(prop.end){\n\t\t\tend = prop.end;\n\t\t}else{\n\t\t\tif(typeof value != \"number\"){\n\t\t\t\tvalue = obj ? obj[name] : def;\n\t\t\t}\n\t\t\tend = value;\n\t\t}\n\t\treturn new InterpolNumber(start, end);\n\t}\n\n\tfxg.animateStroke = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tReturns an animation which will change stroke properties over time.\n\t\t// args:\n\t\t//\t\tan object defining the animation setting.\n\t\t// example:\n\t\t//\t|\tfxg.animateStroke{{\n\t\t//\t|\t\tshape: shape,\n\t\t//\t|\t\tduration: 500,\n\t\t//\t|\t\tcolor: {start: \"red\", end: \"green\"},\n\t\t//\t|\t\twidth: {end: 15},\n\t\t//\t|\t\tjoin:  {values: [\"miter\", \"bevel\", \"round\"]}\n\t\t//\t|\t}).play();\n\t\tif(!args.easing){ args.easing = fx._defaultEasing; }\n\t\tvar anim = new fx.Animation(args), shape = args.shape, stroke;\n\t\tHub.connect(anim, \"beforeBegin\", anim, function(){\n\t\t\tstroke = shape.getStroke();\n\t\t\tvar prop = args.color, values = {}, value, start, end;\n\t\t\tif(prop){\n\t\t\t\tvalues.color = getColorInterpol(prop, stroke, \"color\", transparent);\n\t\t\t}\n\t\t\tprop = args.style;\n\t\t\tif(prop && prop.values){\n\t\t\t\tvalues.style = new InterpolValues(prop.values);\n\t\t\t}\n\t\t\tprop = args.width;\n\t\t\tif(prop){\n\t\t\t\tvalues.width = getNumberInterpol(prop, stroke, \"width\", 1);\n\t\t\t}\n\t\t\tprop = args.cap;\n\t\t\tif(prop && prop.values){\n\t\t\t\tvalues.cap = new InterpolValues(prop.values);\n\t\t\t}\n\t\t\tprop = args.join;\n\t\t\tif(prop){\n\t\t\t\tif(prop.values){\n\t\t\t\t\tvalues.join = new InterpolValues(prop.values);\n\t\t\t\t}else{\n\t\t\t\t\tstart = prop.start ? prop.start : (stroke && stroke.join || 0);\n\t\t\t\t\tend = prop.end ? prop.end : (stroke && stroke.join || 0);\n\t\t\t\t\tif(typeof start == \"number\" && typeof end == \"number\"){\n\t\t\t\t\t\tvalues.join = new InterpolNumber(start, end);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.curve = new InterpolObject(values, stroke);\n\t\t});\n\t\tHub.connect(anim, \"onAnimate\", shape, \"setStroke\");\n\t\treturn anim; // dojo.Animation\n\t};\n\n\tfxg.animateFill = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tReturns an animation which will change fill color over time.\n\t\t//\t\tOnly solid fill color is supported at the moment\n\t\t// args:\n\t\t//\t\tan object defining the animation setting.\n\t\t// example:\n\t\t//\t|\tgfx.animateFill{{\n\t\t//\t|\t\tshape: shape,\n\t\t//\t|\t\tduration: 500,\n\t\t//\t|\t\tcolor: {start: \"red\", end: \"green\"}\n\t\t//\t|\t}).play();\n\t\tif(!args.easing){ args.easing = fx._defaultEasing; }\n\t\tvar anim = new fx.Animation(args), shape = args.shape, fill;\n\t\tHub.connect(anim, \"beforeBegin\", anim, function(){\n\t\t\tfill = shape.getFill();\n\t\t\tvar prop = args.color, values = {};\n\t\t\tif(prop){\n\t\t\t\tthis.curve = getColorInterpol(prop, fill, \"\", transparent);\n\t\t\t}\n\t\t});\n\t\tHub.connect(anim, \"onAnimate\", shape, \"setFill\");\n\t\treturn anim; // dojo.Animation\n\t};\n\n\tfxg.animateFont = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tReturns an animation which will change font properties over time.\n\t\t// args:\n\t\t//\t\tan object defining the animation setting.\n\t\t// example:\n\t\t//\t|\tgfx.animateFont{{\n\t\t//\t|\t\tshape: shape,\n\t\t//\t|\t\tduration: 500,\n\t\t//\t|\t\tvariant: {values: [\"normal\", \"small-caps\"]},\n\t\t//\t|\t\tsize:  {end: 10, units: \"pt\"}\n\t\t//\t|\t}).play();\n\t\tif(!args.easing){ args.easing = fx._defaultEasing; }\n\t\tvar anim = new fx.Animation(args), shape = args.shape, font;\n\t\tHub.connect(anim, \"beforeBegin\", anim, function(){\n\t\t\tfont = shape.getFont();\n\t\t\tvar prop = args.style, values = {}, value, start, end;\n\t\t\tif(prop && prop.values){\n\t\t\t\tvalues.style = new InterpolValues(prop.values);\n\t\t\t}\n\t\t\tprop = args.variant;\n\t\t\tif(prop && prop.values){\n\t\t\t\tvalues.variant = new InterpolValues(prop.values);\n\t\t\t}\n\t\t\tprop = args.weight;\n\t\t\tif(prop && prop.values){\n\t\t\t\tvalues.weight = new InterpolValues(prop.values);\n\t\t\t}\n\t\t\tprop = args.family;\n\t\t\tif(prop && prop.values){\n\t\t\t\tvalues.family = new InterpolValues(prop.values);\n\t\t\t}\n\t\t\tprop = args.size;\n\t\t\tif(prop && prop.units){\n\t\t\t\tstart = parseFloat(prop.start ? prop.start : (shape.font && shape.font.size || \"0\"));\n\t\t\t\tend = parseFloat(prop.end ? prop.end : (shape.font && shape.font.size || \"0\"));\n\t\t\t\tvalues.size = new InterpolUnit(start, end, prop.units);\n\t\t\t}\n\t\t\tthis.curve = new InterpolObject(values, font);\n\t\t});\n\t\tHub.connect(anim, \"onAnimate\", shape, \"setFont\");\n\t\treturn anim; // dojo.Animation\n\t};\n\n\tfxg.animateTransform = function(/*Object*/ args){\n\t\t// summary:\n\t\t//\t\tReturns an animation which will change transformation over time.\n\t\t// args:\n\t\t//\t\tan object defining the animation setting.\n\t\t// example:\n\t\t//\t|\tgfx.animateTransform{{\n\t\t//\t|\t\tshape: shape,\n\t\t//\t|\t\tduration: 500,\n\t\t//\t|\t\ttransform: [\n\t\t//\t|\t\t\t{name: \"translate\", start: [0, 0], end: [200, 200]},\n\t\t//\t|\t\t\t{name: \"original\"}\n\t\t//\t|\t\t]\n\t\t//\t|\t}).play();\n\t\tif(!args.easing){ args.easing = fx._defaultEasing; }\n\t\tvar anim = new fx.Animation(args), shape = args.shape, original;\n\t\tHub.connect(anim, \"beforeBegin\", anim, function(){\n\t\t\toriginal = shape.getTransform();\n\t\t\tthis.curve = new InterpolTransform(args.transform, original);\n\t\t});\n\t\tHub.connect(anim, \"onAnimate\", shape, \"setTransform\");\n\t\tif(g.renderer === \"svg\" && (has(\"ie\") >= 9 || has(\"ff\"))){\n\t\t\t// fix http://bugs.dojotoolkit.org/ticket/16879\n\t\t\tvar handlers = [\n\t\t\t\t\tHub.connect(anim, \"onBegin\", anim, function(){\n\t\t\t\t\t\tvar parent = shape.getParent();\n\t\t\t\t\t\twhile(parent && parent.getParent){\n\t\t\t\t\t\t\tparent = parent.getParent();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(parent){\n\t\t\t\t\t\t\tshape.__svgContainer = parent.rawNode.parentNode;\n\t\t\t\t\t\t\tshape.__svgRoot = parent.rawNode;\n\t\t\t\t\t\t\tif(shape.__svgRoot && shape.__svgRoot.getAttribute){\n\t\t\t\t\t\t\t\tshape.__svgWidth = parseInt(shape.__svgRoot.getAttribute(\"width\"), 10);\n\t\t\t\t\t\t\t\tif(isNaN(shape.__svgWidth)){\n\t\t\t\t\t\t\t\t\tdelete shape.__svgWidth;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tHub.connect(anim, \"onAnimate\", anim, function(){\n\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\tif(shape.__svgContainer){\n\t\t\t\t\t\t\t\tvar ov = shape.__svgContainer.style.visibility;\n\t\t\t\t\t\t\t\tshape.__svgContainer.style.visibility = \"visible\";\n\t\t\t\t\t\t\t\tvar pokeNode = shape.__svgContainer.offsetHeight;\n\t\t\t\t\t\t\t\tshape.__svgContainer.style.visibility = ov;\n\t\t\t\t\t\t\t\tvar width = shape.__svgWidth;\n\t\t\t\t\t\t\t\tif(!isNaN(width)){\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tshape.__svgRoot.setAttribute(\"width\", width  - 0.000005);\n\t\t\t\t\t\t\t\t\t\tshape.__svgRoot.setAttribute(\"width\", width);\n\t\t\t\t\t\t\t\t\t}catch(ignore){}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}catch(e){}\n\t\t\t\t\t}),\n\t\t\t\t\tHub.connect(anim, \"onEnd\", anim, function(){\n\t\t\t\t\t\tarr.forEach(handlers, Hub.disconnect);\n\t\t\t\t\t\tif(shape.__svgContainer){\n\t\t\t\t\t\t\tvar sn = shape.__svgContainer;\n\t\t\t\t\t\t\tif(sn.getAttribute(\"__gotVis\") == null){\n\t\t\t\t\t\t\t\tsn.setAttribute(\"__gotVis\", true);\n\t\t\t\t\t\t\t\tvar ov = shape.__svgContainer.style.visibility;\n\t\t\t\t\t\t\t\tvar root = shape.__svgRoot;\n\t\t\t\t\t\t\t\tvar width = shape.__svgWidth;\n\t\t\t\t\t\t\t\tsn.style.visibility = \"visible\";\n\t\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\tsn.style.visibility = ov;\n\t\t\t\t\t\t\t\t\t\tsn.removeAttribute(\"__gotVis\");\n\t\t\t\t\t\t\t\t\t\tsn = null;\n\t\t\t\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\t\t\t\tif(!isNaN(width)){\n\t\t\t\t\t\t\t\t\t\t\t\troot.setAttribute(\"width\", width - 0.000005);\n\t\t\t\t\t\t\t\t\t\t\t\troot.setAttribute(\"width\", width);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}catch(ignore){}\n\t\t\t\t\t\t\t\t\t}catch(e){}\n\t\t\t\t\t\t\t\t},100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete shape.__svgContainer;\n\t\t\t\t\t\tdelete shape.__svgRoot;\n\t\t\t\t\t\tdelete shape.__svgWidth;\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t}\n\t\treturn anim; // dojo.Animation\n\t};\n\t\n\treturn fxg;\n});\n","// Various generic utilities to deal with a linear gradient\n\ndefine([\"./_base\", \"dojo/_base/lang\", \"./matrix\", \"dojo/_base/Color\"], \n  function(g, lang, m, Color){\n  \n\tvar gradutils = g.gradutils = {};\n\n\tfunction findColor(o, c){\n\t\tif(o <= 0){\n\t\t\treturn c[0].color;\n\t\t}\n\t\tvar len = c.length;\n\t\tif(o >= 1){\n\t\t\treturn c[len - 1].color;\n\t\t}\n\t\t//TODO: use binary search\n\t\tfor(var i = 0; i < len; ++i){\n\t\t\tvar stop = c[i];\n\t\t\tif(stop.offset >= o){\n\t\t\t\tif(i){\n\t\t\t\t\tvar prev = c[i - 1];\n\t\t\t\t\treturn Color.blendColors(new Color(prev.color), new Color(stop.color),\n\t\t\t\t\t\t(o - prev.offset) / (stop.offset - prev.offset));\n\t\t\t\t}\n\t\t\t\treturn stop.color;\n\t\t\t}\n\t\t}\n\t\treturn c[len - 1].color;\n\t}\n\n\tgradutils.getColor = function(fill, pt){\n\t\t// summary:\n\t\t//\t\tsample a color from a gradient using a point\n\t\t// fill: Object\n\t\t//\t\tfill object\n\t\t// pt: dojox/gfx.Point\n\t\t//\t\tpoint where to sample a color\n\t\tvar o;\n\t\tif(fill){\n\t\t\tswitch(fill.type){\n\t\t\t\tcase \"linear\":\n\t\t\t\t\tvar angle = Math.atan2(fill.y2 - fill.y1, fill.x2 - fill.x1),\n\t\t\t\t\t\trotation = m.rotate(-angle),\n\t\t\t\t\t\tprojection = m.project(fill.x2 - fill.x1, fill.y2 - fill.y1),\n\t\t\t\t\t\tp = m.multiplyPoint(projection, pt),\n\t\t\t\t\t\tpf1 = m.multiplyPoint(projection, fill.x1, fill.y1),\n\t\t\t\t\t\tpf2 = m.multiplyPoint(projection, fill.x2, fill.y2),\n\t\t\t\t\t\tscale = m.multiplyPoint(rotation, pf2.x - pf1.x, pf2.y - pf1.y).x;\n\t\t\t\t\to = m.multiplyPoint(rotation, p.x - pf1.x, p.y - pf1.y).x / scale;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"radial\":\n\t\t\t\t\tvar dx = pt.x - fill.cx, dy = pt.y - fill.cy;\n\t\t\t\t\to = Math.sqrt(dx * dx + dy * dy) / fill.r;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn findColor(o, fill.colors);\t// dojo/_base/Color\n\t\t}\n\t\t// simple color\n\t\treturn new Color(fill || [0, 0, 0, 0]);\t// dojo/_base/Color\n\t};\n\n\tgradutils.reverse = function(fill){\n\t\t// summary:\n\t\t//\t\treverses a gradient\n\t\t// fill: Object\n\t\t//\t\tfill object\n\t\tif(fill){\n\t\t\tswitch(fill.type){\n\t\t\t\tcase \"linear\":\n\t\t\t\tcase \"radial\":\n\t\t\t\t\tfill = lang.delegate(fill);\n\t\t\t\t\tif(fill.colors){\n\t\t\t\t\t\tvar c = fill.colors, l = c.length, i = 0, stop,\n\t\t\t\t\t\t\tn = fill.colors = new Array(c.length);\n\t\t\t\t\t\tfor(; i < l; ++i){\n\t\t\t\t\t\t\tstop = c[i];\n\t\t\t\t\t\t\tn[i] = {\n\t\t\t\t\t\t\t\toffset: 1 - stop.offset,\n\t\t\t\t\t\t\t\tcolor:  stop.color\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn.sort(function(a, b){ return a.offset - b.offset; });\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn fill;\t// Object\n\t};\n\n\treturn gradutils;\n});\n","define([\"./_base\",\"dojo/_base/lang\"], \n  function(g, lang){\n\tvar m = g.matrix = {};\n\n\t// candidates for dojox.math:\n\tvar _degToRadCache = {};\n\tm._degToRad = function(degree){\n\t\treturn _degToRadCache[degree] || (_degToRadCache[degree] = (Math.PI * degree / 180));\n\t};\n\tm._radToDeg = function(radian){ return radian / Math.PI * 180; };\n\n\tm.Matrix2D = function(arg){\n\t\t// summary:\n\t\t//\t\ta 2D matrix object\n\t\t// description:\n\t\t//\t\tNormalizes a 2D matrix-like object. If arrays is passed,\n\t\t//\t\tall objects of the array are normalized and multiplied sequentially.\n\t\t// arg: Object\n\t\t//\t\ta 2D matrix-like object, a number, or an array of such objects\n\t\tif(arg){\n\t\t\tif(typeof arg == \"number\"){\n\t\t\t\tthis.xx = this.yy = arg;\n\t\t\t}else if(arg instanceof Array){\n\t\t\t\tif(arg.length > 0){\n\t\t\t\t\tvar matrix = m.normalize(arg[0]);\n\t\t\t\t\t// combine matrices\n\t\t\t\t\tfor(var i = 1; i < arg.length; ++i){\n\t\t\t\t\t\tvar l = matrix, r = m.normalize(arg[i]);\n\t\t\t\t\t\tmatrix = new m.Matrix2D();\n\t\t\t\t\t\tmatrix.xx = l.xx * r.xx + l.xy * r.yx;\n\t\t\t\t\t\tmatrix.xy = l.xx * r.xy + l.xy * r.yy;\n\t\t\t\t\t\tmatrix.yx = l.yx * r.xx + l.yy * r.yx;\n\t\t\t\t\t\tmatrix.yy = l.yx * r.xy + l.yy * r.yy;\n\t\t\t\t\t\tmatrix.dx = l.xx * r.dx + l.xy * r.dy + l.dx;\n\t\t\t\t\t\tmatrix.dy = l.yx * r.dx + l.yy * r.dy + l.dy;\n\t\t\t\t\t}\n\t\t\t\t\tlang.mixin(this, matrix);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tlang.mixin(this, arg);\n\t\t\t}\n\t\t}\n\t};\n\n\t// the default (identity) matrix, which is used to fill in missing values\n\tlang.extend(m.Matrix2D, {xx: 1, xy: 0, yx: 0, yy: 1, dx: 0, dy: 0});\n\n\tlang.mixin(m, {\n\t\t// summary:\n\t\t//\t\tclass constants, and methods of dojox/gfx/matrix\n\n\t\t// matrix constants\n\n\t\t// identity: dojox/gfx/matrix.Matrix2D\n\t\t//\t\tan identity matrix constant: identity * (x, y) == (x, y)\n\t\tidentity: new m.Matrix2D(),\n\n\t\t// flipX: dojox/gfx/matrix.Matrix2D\n\t\t//\t\ta matrix, which reflects points at x = 0 line: flipX * (x, y) == (-x, y)\n\t\tflipX:    new m.Matrix2D({xx: -1}),\n\n\t\t// flipY: dojox/gfx/matrix.Matrix2D\n\t\t//\t\ta matrix, which reflects points at y = 0 line: flipY * (x, y) == (x, -y)\n\t\tflipY:    new m.Matrix2D({yy: -1}),\n\n\t\t// flipXY: dojox/gfx/matrix.Matrix2D\n\t\t//\t\ta matrix, which reflects points at the origin of coordinates: flipXY * (x, y) == (-x, -y)\n\t\tflipXY:   new m.Matrix2D({xx: -1, yy: -1}),\n\n\t\t// matrix creators\n\n\t\ttranslate: function(a, b){\n\t\t\t// summary:\n\t\t\t//\t\tforms a translation matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to translate (move) points by specified offsets.\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x coordinate value, or a point-like object, which specifies offsets for both dimensions\n\t\t\t// b: Number?\n\t\t\t//\t\ta y coordinate value\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 1){\n\t\t\t\treturn new m.Matrix2D({dx: a, dy: b}); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\t// branch\n\t\t\treturn new m.Matrix2D({dx: a.x, dy: a.y}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tscale: function(a, b){\n\t\t\t// summary:\n\t\t\t//\t\tforms a scaling matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to scale (magnify) points by specified offsets.\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\ta scaling factor used for the x coordinate, or\n\t\t\t//\t\ta uniform scaling factor used for the both coordinates, or\n\t\t\t//\t\ta point-like object, which specifies scale factors for both dimensions\n\t\t\t// b: Number?\n\t\t\t//\t\ta scaling factor used for the y coordinate\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 1){\n\t\t\t\treturn new m.Matrix2D({xx: a, yy: b}); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\tif(typeof a == \"number\"){\n\t\t\t\treturn new m.Matrix2D({xx: a, yy: a}); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn new m.Matrix2D({xx: a.x, yy: a.y}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\trotate: function(angle){\n\t\t\t// summary:\n\t\t\t//\t\tforms a rotating matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to rotate points\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\n\t\t\t// angle: Number\n\t\t\t//\t\tan angle of rotation in radians (>0 for CW)\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tvar c = Math.cos(angle);\n\t\t\tvar s = Math.sin(angle);\n\t\t\treturn new m.Matrix2D({xx: c, xy: -s, yx: s, yy: c}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\trotateg: function(degree){\n\t\t\t// summary:\n\t\t\t//\t\tforms a rotating matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to rotate points\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\n\t\t\t//\t\tSee dojox/gfx/matrix.rotate() for comparison.\n\t\t\t// degree: Number\n\t\t\t//\t\tan angle of rotation in degrees (>0 for CW)\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\treturn m.rotate(m._degToRad(degree)); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewX: function(angle) {\n\t\t\t// summary:\n\t\t\t//\t\tforms an x skewing matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to skew points in the x dimension\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\n\t\t\t// angle: Number\n\t\t\t//\t\ta skewing angle in radians\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\treturn new m.Matrix2D({xy: Math.tan(angle)}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewXg: function(degree){\n\t\t\t// summary:\n\t\t\t//\t\tforms an x skewing matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to skew points in the x dimension\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\n\t\t\t//\t\tSee dojox/gfx/matrix.skewX() for comparison.\n\t\t\t// degree: Number\n\t\t\t//\t\ta skewing angle in degrees\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\treturn m.skewX(m._degToRad(degree)); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewY: function(angle){\n\t\t\t// summary:\n\t\t\t//\t\tforms a y skewing matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to skew points in the y dimension\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified angle.\n\t\t\t// angle: Number\n\t\t\t//\t\ta skewing angle in radians\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\treturn new m.Matrix2D({yx: Math.tan(angle)}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewYg: function(degree){\n\t\t\t// summary:\n\t\t\t//\t\tforms a y skewing matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to skew points in the y dimension\n\t\t\t//\t\taround the origin of coordinates (0, 0) by specified degree.\n\t\t\t//\t\tSee dojox/gfx/matrix.skewY() for comparison.\n\t\t\t// degree: Number\n\t\t\t//\t\ta skewing angle in degrees\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\treturn m.skewY(m._degToRad(degree)); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\treflect: function(a, b){\n\t\t\t// summary:\n\t\t\t//\t\tforms a reflection matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to reflect points around a vector,\n\t\t\t//\t\twhich goes through the origin.\n\t\t\t// a: dojox/gfx.Point|Number\n\t\t\t//\t\ta point-like object, which specifies a vector of reflection, or an X value\n\t\t\t// b: Number?\n\t\t\t//\t\ta Y value\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length == 1){\n\t\t\t\tb = a.y;\n\t\t\t\ta = a.x;\n\t\t\t}\n\t\t\t// make a unit vector\n\t\t\tvar a2 = a * a, b2 = b * b, n2 = a2 + b2, xy = 2 * a * b / n2;\n\t\t\treturn new m.Matrix2D({xx: 2 * a2 / n2 - 1, xy: xy, yx: xy, yy: 2 * b2 / n2 - 1}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tproject: function(a, b){\n\t\t\t// summary:\n\t\t\t//\t\tforms an orthogonal projection matrix\n\t\t\t// description:\n\t\t\t//\t\tThe resulting matrix is used to project points orthogonally on a vector,\n\t\t\t//\t\twhich goes through the origin.\n\t\t\t// a: dojox/gfx.Point|Number\n\t\t\t//\t\ta point-like object, which specifies a vector of projection, or\n\t\t\t//\t\tan x coordinate value\n\t\t\t// b: Number?\n\t\t\t//\t\ta y coordinate value\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length == 1){\n\t\t\t\tb = a.y;\n\t\t\t\ta = a.x;\n\t\t\t}\n\t\t\t// make a unit vector\n\t\t\tvar a2 = a * a, b2 = b * b, n2 = a2 + b2, xy = a * b / n2;\n\t\t\treturn new m.Matrix2D({xx: a2 / n2, xy: xy, yx: xy, yy: b2 / n2}); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\n\t\t// ensure matrix 2D conformance\n\t\tnormalize: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tconverts an object to a matrix, if necessary\n\t\t\t// description:\n\t\t\t//\t\tConverts any 2D matrix-like object or an array of\n\t\t\t//\t\tsuch objects to a valid dojox/gfx/matrix.Matrix2D object.\n\t\t\t// matrix: Object\n\t\t\t//\t\tan object, which is converted to a matrix, if necessary\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\treturn (matrix instanceof m.Matrix2D) ? matrix : new m.Matrix2D(matrix); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\n\t\t// common operations\n\n\t\tisIdentity: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\treturns whether the specified matrix is the identity.\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix object to be tested\n\t\t\t// returns: Boolean\n\t\t\treturn matrix.xx == 1 && matrix.xy == 0 && matrix.yx == 0 && matrix.yy == 1 && matrix.dx == 0 && matrix.dy == 0; // Boolean\n\t\t},\n\t\tclone: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a copy of a 2D matrix\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix-like object to be cloned\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tvar obj = new m.Matrix2D();\n\t\t\tfor(var i in matrix){\n\t\t\t\tif(typeof(matrix[i]) == \"number\" && typeof(obj[i]) == \"number\" && obj[i] != matrix[i]) obj[i] = matrix[i];\n\t\t\t}\n\t\t\treturn obj; // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tinvert: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tinverts a 2D matrix\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix-like object to be inverted\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tvar M = m.normalize(matrix),\n\t\t\t\tD = M.xx * M.yy - M.xy * M.yx;\n\t\t\t\tM = new m.Matrix2D({\n\t\t\t\t\txx: M.yy/D, xy: -M.xy/D,\n\t\t\t\t\tyx: -M.yx/D, yy: M.xx/D,\n\t\t\t\t\tdx: (M.xy * M.dy - M.yy * M.dx) / D,\n\t\t\t\t\tdy: (M.yx * M.dx - M.xx * M.dy) / D\n\t\t\t\t});\n\t\t\treturn M; // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\t_multiplyPoint: function(matrix, x, y){\n\t\t\t// summary:\n\t\t\t//\t\tapplies a matrix to a point\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix object to be applied\n\t\t\t// x: Number\n\t\t\t//\t\tan x coordinate of a point\n\t\t\t// y: Number\n\t\t\t//\t\ta y coordinate of a point\n\t\t\t// returns: dojox/gfx.Point\n\t\t\treturn {x: matrix.xx * x + matrix.xy * y + matrix.dx, y: matrix.yx * x + matrix.yy * y + matrix.dy}; // dojox/gfx.Point\n\t\t},\n\t\tmultiplyPoint: function(matrix, /* Number||Point */ a, /* Number? */ b){\n\t\t\t// summary:\n\t\t\t//\t\tapplies a matrix to a point\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix object to be applied\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x coordinate of a point, or a point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y coordinate of a point\n\t\t\t// returns: dojox/gfx.Point\n\t\t\tvar M = m.normalize(matrix);\n\t\t\tif(typeof a == \"number\" && typeof b == \"number\"){\n\t\t\t\treturn m._multiplyPoint(M, a, b); // dojox/gfx.Point\n\t\t\t}\n\t\t\treturn m._multiplyPoint(M, a.x, a.y); // dojox/gfx.Point\n\t\t},\n\t\tmultiplyRectangle: function(matrix, /*Rectangle*/ rect){\n\t\t\t// summary:\n\t\t\t//\t\tApplies a matrix to a rectangle.\n\t\t\t// description:\n\t\t\t//\t\tThe method applies the transformation on all corners of the\n\t\t\t//\t\trectangle and returns the smallest rectangle enclosing the 4 transformed\n\t\t\t//\t\tpoints.\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix object to be applied.\n\t\t\t// rect: Rectangle\n\t\t\t//\t\tthe rectangle to transform.\n\t\t\t// returns: dojox/gfx.Rectangle\n\t\t\tvar M = m.normalize(matrix);\n\t\t\trect = rect || {x:0, y:0, width:0, height:0}; \n\t\t\tif(m.isIdentity(M))\n\t\t\t\treturn {x: rect.x, y: rect.y, width: rect.width, height: rect.height}; // dojo/gfx.Rectangle\n\t\t\tvar p0 = m.multiplyPoint(M, rect.x, rect.y),\n\t\t\t\tp1 = m.multiplyPoint(M, rect.x, rect.y + rect.height),\n\t\t\t\tp2 = m.multiplyPoint(M, rect.x + rect.width, rect.y),\n\t\t\t\tp3 = m.multiplyPoint(M, rect.x + rect.width, rect.y + rect.height),\n\t\t\t\tminx = Math.min(p0.x, p1.x, p2.x, p3.x),\n\t\t\t\tminy = Math.min(p0.y, p1.y, p2.y, p3.y),\n\t\t\t\tmaxx = Math.max(p0.x, p1.x, p2.x, p3.x),\n\t\t\t\tmaxy = Math.max(p0.y, p1.y, p2.y, p3.y);\n\t\t\treturn{ // dojo/gfx.Rectangle\n\t\t\t\tx: minx,\n\t\t\t\ty: miny,\n\t\t\t\twidth: maxx - minx,\n\t\t\t\theight: maxy - miny\n\t\t\t};\n\t\t},\n\t\tmultiply: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tcombines matrices by multiplying them sequentially in the given order\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix-like object,\n\t\t\t//\t\tall subsequent arguments are matrix-like objects too\n\t\t\tvar M = m.normalize(matrix);\n\t\t\t// combine matrices\n\t\t\tfor(var i = 1; i < arguments.length; ++i){\n\t\t\t\tvar l = M, r = m.normalize(arguments[i]);\n\t\t\t\tM = new m.Matrix2D();\n\t\t\t\tM.xx = l.xx * r.xx + l.xy * r.yx;\n\t\t\t\tM.xy = l.xx * r.xy + l.xy * r.yy;\n\t\t\t\tM.yx = l.yx * r.xx + l.yy * r.yx;\n\t\t\t\tM.yy = l.yx * r.xy + l.yy * r.yy;\n\t\t\t\tM.dx = l.xx * r.dx + l.xy * r.dy + l.dx;\n\t\t\t\tM.dy = l.yx * r.dx + l.yy * r.dy + l.dy;\n\t\t\t}\n\t\t\treturn M; // dojox/gfx/matrix.Matrix2D\n\t\t},\n\n\t\t// high level operations\n\n\t\t_sandwich: function(matrix, x, y){\n\t\t\t// summary:\n\t\t\t//\t\tapplies a matrix at a central point\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix-like object, which is applied at a central point\n\t\t\t// x: Number\n\t\t\t//\t\tan x component of the central point\n\t\t\t// y: Number\n\t\t\t//\t\ta y component of the central point\n\t\t\treturn m.multiply(m.translate(x, y), matrix, m.translate(-x, -y)); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tscaleAt: function(a, b, c, d){\n\t\t\t// summary:\n\t\t\t//\t\tscales a picture using a specified point as a center of scaling\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.scale().\n\t\t\t// a: Number\n\t\t\t//\t\ta scaling factor used for the x coordinate, or a uniform scaling factor used for both coordinates\n\t\t\t// b: Number?\n\t\t\t//\t\ta scaling factor used for the y coordinate\n\t\t\t// c: Number|Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// d: Number\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tswitch(arguments.length){\n\t\t\t\tcase 4:\n\t\t\t\t\t// a and b are scale factor components, c and d are components of a point\n\t\t\t\t\treturn m._sandwich(m.scale(a, b), c, d); // dojox/gfx/matrix.Matrix2D\n\t\t\t\tcase 3:\n\t\t\t\t\tif(typeof c == \"number\"){\n\t\t\t\t\t\treturn m._sandwich(m.scale(a), b, c); // dojox/gfx/matrix.Matrix2D\n\t\t\t\t\t}\n\t\t\t\t\treturn m._sandwich(m.scale(a, b), c.x, c.y); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.scale(a), b.x, b.y); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\trotateAt: function(angle, a, b){\n\t\t\t// summary:\n\t\t\t//\t\trotates a picture using a specified point as a center of rotation\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.rotate().\n\t\t\t// angle: Number\n\t\t\t//\t\tan angle of rotation in radians (>0 for CW)\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 2){\n\t\t\t\treturn m._sandwich(m.rotate(angle), a, b); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.rotate(angle), a.x, a.y); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\trotategAt: function(degree, a, b){\n\t\t\t// summary:\n\t\t\t//\t\trotates a picture using a specified point as a center of rotation\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.rotateg().\n\t\t\t// degree: Number\n\t\t\t//\t\tan angle of rotation in degrees (>0 for CW)\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 2){\n\t\t\t\treturn m._sandwich(m.rotateg(degree), a, b); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.rotateg(degree), a.x, a.y); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewXAt: function(angle, a, b){\n\t\t\t// summary:\n\t\t\t//\t\tskews a picture along the x axis using a specified point as a center of skewing\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewX().\n\t\t\t// angle: Number\n\t\t\t//\t\ta skewing angle in radians\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 2){\n\t\t\t\treturn m._sandwich(m.skewX(angle), a, b); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.skewX(angle), a.x, a.y); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewXgAt: function(degree, a, b){\n\t\t\t// summary:\n\t\t\t//\t\tskews a picture along the x axis using a specified point as a center of skewing\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewXg().\n\t\t\t// degree: Number\n\t\t\t//\t\ta skewing angle in degrees\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 2){\n\t\t\t\treturn m._sandwich(m.skewXg(degree), a, b); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.skewXg(degree), a.x, a.y); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewYAt: function(angle, a, b){\n\t\t\t// summary:\n\t\t\t//\t\tskews a picture along the y axis using a specified point as a center of skewing\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewY().\n\t\t\t// angle: Number\n\t\t\t//\t\ta skewing angle in radians\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 2){\n\t\t\t\treturn m._sandwich(m.skewY(angle), a, b); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.skewY(angle), a.x, a.y); // dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tskewYgAt: function(/* Number */ degree, /* Number||Point */ a, /* Number? */ b){\n\t\t\t// summary:\n\t\t\t//\t\tskews a picture along the y axis using a specified point as a center of skewing\n\t\t\t// description:\n\t\t\t//\t\tCompare with dojox/gfx/matrix.skewYg().\n\t\t\t// degree: Number\n\t\t\t//\t\ta skewing angle in degrees\n\t\t\t// a: Number|dojox/gfx.Point\n\t\t\t//\t\tan x component of a central point, or a central point\n\t\t\t// b: Number?\n\t\t\t//\t\ta y component of a central point\n\t\t\t// returns: dojox/gfx/matrix.Matrix2D\n\t\t\tif(arguments.length > 2){\n\t\t\t\treturn m._sandwich(m.skewYg(degree), a, b); // dojox/gfx/matrix.Matrix2D\n\t\t\t}\n\t\t\treturn m._sandwich(m.skewYg(degree), a.x, a.y); // dojox/gfx/matrix.Matrix2D\n\t\t}\n\n\t\t//TODO: rect-to-rect mapping, scale-to-fit (isotropic and anisotropic versions)\n\n\t});\n\t// propagate Matrix2D up\n\tg.Matrix2D = m.Matrix2D;\n\n\treturn m;\n});\n\n\n","define([\"./_base\", \"dojo/_base/lang\",\"dojo/_base/declare\", \"./matrix\", \"./shape\"],\n\tfunction(g, lang, declare, matrix, shapeLib){\n\n\t// module:\n\t//\t\tdojox/gfx/path\n\n\tvar Path = declare(\"dojox.gfx.path.Path\", shapeLib.Shape, {\n\t\t// summary:\n\t\t//\t\ta generalized path shape\n\n\t\tconstructor: function(rawNode){\n\t\t\t// summary:\n\t\t\t//\t\ta path constructor\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM node to be used by this path object\n\t\t\tthis.shape = lang.clone(g.defaultPath);\n\t\t\tthis.segments = [];\n\t\t\tthis.tbbox = null;\n\t\t\tthis.absolute = true;\n\t\t\tthis.last = {};\n\t\t\tthis.rawNode = rawNode;\n\t\t\tthis.segmented = false;\n\t\t},\n\n\t\t// mode manipulations\n\t\tsetAbsoluteMode: function(mode){\n\t\t\t// summary:\n\t\t\t//\t\tsets an absolute or relative mode for path points\n\t\t\t// mode: Boolean\n\t\t\t//\t\ttrue/false or \"absolute\"/\"relative\" to specify the mode\n\t\t\tthis._confirmSegmented();\n\t\t\tthis.absolute = typeof mode == \"string\" ? (mode == \"absolute\") : mode;\n\t\t\treturn this; // self\n\t\t},\n\t\tgetAbsoluteMode: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns a current value of the absolute mode\n\t\t\tthis._confirmSegmented();\n\t\t\treturn this.absolute; // Boolean\n\t\t},\n\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box {x, y, width, height} or null\n\t\t\tthis._confirmSegmented();\n\t\t\treturn (this.bbox && (\"l\" in this.bbox)) ? {x: this.bbox.l, y: this.bbox.t, width: this.bbox.r - this.bbox.l, height: this.bbox.b - this.bbox.t} : null; // dojox/gfx.Rectangle\n\t\t},\n\n\t\t_getRealBBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns an array of four points or null\n\t\t\t//\t\tfour points represent four corners of the untransformed bounding box\n\t\t\tthis._confirmSegmented();\n\t\t\tif(this.tbbox){\n\t\t\t\treturn this.tbbox;\t// Array\n\t\t\t}\n\t\t\tvar bbox = this.bbox, matrix = this._getRealMatrix();\n\t\t\tthis.bbox = null;\n\t\t\tfor(var i = 0, len = this.segments.length; i < len; ++i){\n\t\t\t\tthis._updateWithSegment(this.segments[i], matrix);\n\t\t\t}\n\t\t\tvar t = this.bbox;\n\t\t\tthis.bbox = bbox;\n\t\t\tthis.tbbox = t ? [\n\t\t\t\t{x: t.l, y: t.t},\n\t\t\t\t{x: t.r, y: t.t},\n\t\t\t\t{x: t.r, y: t.b},\n\t\t\t\t{x: t.l, y: t.b}\n\t\t\t] : null;\n\t\t\treturn this.tbbox;\t// Array\n\t\t},\n\n\t\tgetLastPosition: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the last point in the path, or null\n\t\t\tthis._confirmSegmented();\n\t\t\treturn \"x\" in this.last ? this.last : null; // Object\n\t\t},\n\n\t\t_applyTransform: function(){\n\t\t\tthis.tbbox = null;\n\t\t\treturn this.inherited(arguments);\n\t\t},\n\n\t\t// segment interpretation\n\t\t_updateBBox: function(x, y, m){\n\t\t\t// summary:\n\t\t\t//\t\tupdates the bounding box of path with new point\n\t\t\t// x: Number\n\t\t\t//\t\tan x coordinate\n\t\t\t// y: Number\n\t\t\t//\t\ta y coordinate\n\n\t\t\tif(m){\n\t\t\t\tvar t = matrix.multiplyPoint(m, x, y);\n\t\t\t\tx = t.x;\n\t\t\t\ty = t.y;\n\t\t\t}\n\n\t\t\t// we use {l, b, r, t} representation of a bbox\n\t\t\tif(this.bbox && (\"l\" in this.bbox)){\n\t\t\t\tif(this.bbox.l > x) this.bbox.l = x;\n\t\t\t\tif(this.bbox.r < x) this.bbox.r = x;\n\t\t\t\tif(this.bbox.t > y) this.bbox.t = y;\n\t\t\t\tif(this.bbox.b < y) this.bbox.b = y;\n\t\t\t}else{\n\t\t\t\tthis.bbox = {l: x, b: y, r: x, t: y};\n\t\t\t}\n\t\t},\n\t\t_updateWithSegment: function(segment, matrix){\n\t\t\t// summary:\n\t\t\t//\t\tupdates the bounding box of path with new segment\n\t\t\t// segment: Object\n\t\t\t//\t\ta segment\n\t\t\tvar n = segment.args, l = n.length, i;\n\t\t\t// update internal variables: bbox, absolute, last\n\t\t\tswitch(segment.action){\n\t\t\t\tcase \"M\":\n\t\t\t\tcase \"L\":\n\t\t\t\tcase \"C\":\n\t\t\t\tcase \"S\":\n\t\t\t\tcase \"Q\":\n\t\t\t\tcase \"T\":\n\t\t\t\t\tfor(i = 0; i < l; i += 2){\n\t\t\t\t\t\tthis._updateBBox(n[i], n[i + 1], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.last.x = n[l - 2];\n\t\t\t\t\tthis.last.y = n[l - 1];\n\t\t\t\t\tthis.absolute = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"H\":\n\t\t\t\t\tfor(i = 0; i < l; ++i){\n\t\t\t\t\t\tthis._updateBBox(n[i], this.last.y, matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.last.x = n[l - 1];\n\t\t\t\t\tthis.absolute = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"V\":\n\t\t\t\t\tfor(i = 0; i < l; ++i){\n\t\t\t\t\t\tthis._updateBBox(this.last.x, n[i], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.last.y = n[l - 1];\n\t\t\t\t\tthis.absolute = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"m\":\n\t\t\t\t\tvar start = 0;\n\t\t\t\t\tif(!(\"x\" in this.last)){\n\t\t\t\t\t\tthis._updateBBox(this.last.x = n[0], this.last.y = n[1], matrix);\n\t\t\t\t\t\tstart = 2;\n\t\t\t\t\t}\n\t\t\t\t\tfor(i = start; i < l; i += 2){\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i], this.last.y += n[i + 1], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"l\":\n\t\t\t\tcase \"t\":\n\t\t\t\t\tfor(i = 0; i < l; i += 2){\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i], this.last.y += n[i + 1], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"h\":\n\t\t\t\t\tfor(i = 0; i < l; ++i){\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i], this.last.y, matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"v\":\n\t\t\t\t\tfor(i = 0; i < l; ++i){\n\t\t\t\t\t\tthis._updateBBox(this.last.x, this.last.y += n[i], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"c\":\n\t\t\t\t\tfor(i = 0; i < l; i += 6){\n\t\t\t\t\t\tthis._updateBBox(this.last.x + n[i], this.last.y + n[i + 1], matrix);\n\t\t\t\t\t\tthis._updateBBox(this.last.x + n[i + 2], this.last.y + n[i + 3], matrix);\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i + 4], this.last.y += n[i + 5], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"s\":\n\t\t\t\tcase \"q\":\n\t\t\t\t\tfor(i = 0; i < l; i += 4){\n\t\t\t\t\t\tthis._updateBBox(this.last.x + n[i], this.last.y + n[i + 1], matrix);\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i + 2], this.last.y += n[i + 3], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"A\":\n\t\t\t\t\tfor(i = 0; i < l; i += 7){\n\t\t\t\t\t\tthis._updateBBox(n[i + 5], n[i + 6], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.last.x = n[l - 2];\n\t\t\t\t\tthis.last.y = n[l - 1];\n\t\t\t\t\tthis.absolute = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"a\":\n\t\t\t\t\tfor(i = 0; i < l; i += 7){\n\t\t\t\t\t\tthis._updateBBox(this.last.x += n[i + 5], this.last.y += n[i + 6], matrix);\n\t\t\t\t\t}\n\t\t\t\t\tthis.absolute = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// add an SVG path segment\n\t\t\tvar path = [segment.action];\n\t\t\tfor(i = 0; i < l; ++i){\n\t\t\t\tpath.push(g.formatNumber(n[i], true));\n\t\t\t}\n\t\t\tif(typeof this.shape.path == \"string\"){\n\t\t\t\tthis.shape.path += path.join(\"\");\n\t\t\t}else{\n\t\t\t\tfor(i = 0, l = path.length; i < l; ++i){\n\t\t\t\t\tthis.shape.path.push(path[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// a dictionary, which maps segment type codes to a number of their arguments\n\t\t_validSegments: {m: 2, l: 2, h: 1, v: 1, c: 6, s: 4, q: 4, t: 2, a: 7, z: 0},\n\n\t\t_pushSegment: function(action, args){\n\t\t\t// summary:\n\t\t\t//\t\tadds a segment\n\t\t\t// action: String\n\t\t\t//\t\tvalid SVG code for a segment's type\n\t\t\t// args: Array\n\t\t\t//\t\ta list of parameters for this segment\n\t\t\tthis.tbbox = null;\n\t\t\tvar group = this._validSegments[action.toLowerCase()], segment;\n\t\t\tif(typeof group == \"number\"){\n\t\t\t\tif(group){\n\t\t\t\t\tif(args.length >= group){\n\t\t\t\t\t\tsegment = {action: action, args: args.slice(0, args.length - args.length % group)};\n\t\t\t\t\t\tthis.segments.push(segment);\n\t\t\t\t\t\tthis._updateWithSegment(segment);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tsegment = {action: action, args: []};\n\t\t\t\t\tthis.segments.push(segment);\n\t\t\t\t\tthis._updateWithSegment(segment);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_collectArgs: function(array, args){\n\t\t\t// summary:\n\t\t\t//\t\tconverts an array of arguments to plain numeric values\n\t\t\t// array: Array\n\t\t\t//\t\tan output argument (array of numbers)\n\t\t\t// args: Array\n\t\t\t//\t\tan input argument (can be values of Boolean, Number, dojox/gfx.Point, or an embedded array of them)\n\t\t\tfor(var i = 0; i < args.length; ++i){\n\t\t\t\tvar t = args[i];\n\t\t\t\tif(typeof t == \"boolean\"){\n\t\t\t\t\tarray.push(t ? 1 : 0);\n\t\t\t\t}else if(typeof t == \"number\"){\n\t\t\t\t\tarray.push(t);\n\t\t\t\t}else if(t instanceof Array){\n\t\t\t\t\tthis._collectArgs(array, t);\n\t\t\t\t}else if(\"x\" in t && \"y\" in t){\n\t\t\t\t\tarray.push(t.x, t.y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// segments\n\t\tmoveTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a move segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"M\" : \"m\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tlineTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a line segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"L\" : \"l\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\thLineTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a horizontal line segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"H\" : \"h\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tvLineTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a vertical line segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"V\" : \"v\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tcurveTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a curve segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"C\" : \"c\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tsmoothCurveTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a smooth curve segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"S\" : \"s\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tqCurveTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a quadratic curve segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"Q\" : \"q\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tqSmoothCurveTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms a quadratic smooth curve segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"T\" : \"t\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tarcTo: function(){\n\t\t\t// summary:\n\t\t\t//\t\tforms an elliptic arc segment\n\t\t\tthis._confirmSegmented();\n\t\t\tvar args = [];\n\t\t\tthis._collectArgs(args, arguments);\n\t\t\tthis._pushSegment(this.absolute ? \"A\" : \"a\", args);\n\t\t\treturn this; // self\n\t\t},\n\t\tclosePath: function(){\n\t\t\t// summary:\n\t\t\t//\t\tcloses a path\n\t\t\tthis._confirmSegmented();\n\t\t\tthis._pushSegment(\"Z\", []);\n\t\t\treturn this; // self\n\t\t},\n\n\t\t_confirmSegmented: function() {\n\t\t\tif (!this.segmented) {\n\t\t\t\tvar path = this.shape.path;\n\t\t\t\t// switch to non-updating version of path building\n\t\t\t\tthis.shape.path = [];\n\t\t\t\tthis._setPath(path);\n\t\t\t\t// switch back to the string path\n\t\t\t\tthis.shape.path = this.shape.path.join(\"\");\n\t\t\t\t// become segmented\n\t\t\t\tthis.segmented = true;\n\t\t\t}\n\t\t},\n\n\t\t// setShape\n\t\t_setPath: function(path){\n\t\t\t// summary:\n\t\t\t//\t\tforms a path using an SVG path string\n\t\t\t// path: String\n\t\t\t//\t\tan SVG path string\n\t\t\tvar p = lang.isArray(path) ? path : path.match(g.pathSvgRegExp);\n\t\t\tthis.segments = [];\n\t\t\tthis.absolute = true;\n\t\t\tthis.bbox = {};\n\t\t\tthis.last = {};\n\t\t\tif(!p) return;\n\t\t\t// create segments\n\t\t\tvar action = \"\",\t// current action\n\t\t\t\targs = [],\t\t// current arguments\n\t\t\t\tl = p.length;\n\t\t\tfor(var i = 0; i < l; ++i){\n\t\t\t\tvar t = p[i], x = parseFloat(t);\n\t\t\t\tif(isNaN(x)){\n\t\t\t\t\tif(action){\n\t\t\t\t\t\tthis._pushSegment(action, args);\n\t\t\t\t\t}\n\t\t\t\t\targs = [];\n\t\t\t\t\taction = t;\n\t\t\t\t}else{\n\t\t\t\t\targs.push(x);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._pushSegment(action, args);\n\t\t},\n\t\tsetShape: function(newShape){\n\t\t\t// summary:\n\t\t\t//\t\tforms a path using a shape\n\t\t\t// newShape: Object\n\t\t\t//\t\tan SVG path string or a path object (see dojox/gfx.defaultPath)\n\t\t\tthis.inherited(arguments, [typeof newShape == \"string\" ? {path: newShape} : newShape]);\n\n\t\t\tthis.segmented = false;\n\t\t\tthis.segments = [];\n\t\t\tif(!g.lazyPathSegmentation){\n\t\t\t\tthis._confirmSegmented();\n\t\t\t}\n\t\t\treturn this; // self\n\t\t},\n\n\t\t// useful constant for descendants\n\t\t_2PI: Math.PI * 2\n\t});\n\n\tvar TextPath = declare(\"dojox.gfx.path.TextPath\", Path, {\n\t\t// summary:\n\t\t//\t\ta generalized TextPath shape\n\n\t\tconstructor: function(rawNode){\n\t\t\t// summary:\n\t\t\t//\t\ta TextPath shape constructor\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM node to be used by this TextPath object\n\t\t\tif(!(\"text\" in this)){\n\t\t\t\tthis.text = lang.clone(g.defaultTextPath);\n\t\t\t}\n\t\t\tif(!(\"fontStyle\" in this)){\n\t\t\t\tthis.fontStyle = lang.clone(g.defaultFont);\n\t\t\t}\n\t\t},\n\t\tgetText: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the current text object or null\n\t\t\treturn this.text;\t// Object\n\t\t},\n\t\tsetText: function(newText){\n\t\t\t// summary:\n\t\t\t//\t\tsets a text to be drawn along the path\n\t\t\tthis.text = g.makeParameters(this.text,\n\t\t\t\ttypeof newText == \"string\" ? {text: newText} : newText);\n\t\t\tthis._setText();\n\t\t\treturn this;\t// self\n\t\t},\n\t\tgetFont: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the current font object or null\n\t\t\treturn this.fontStyle;\t// Object\n\t\t},\n\t\tsetFont: function(newFont){\n\t\t\t// summary:\n\t\t\t//\t\tsets a font for text\n\t\t\tthis.fontStyle = typeof newFont == \"string\" ?\n\t\t\t\tg.splitFontString(newFont) :\n\t\t\t\tg.makeParameters(g.defaultFont, newFont);\n\t\t\tthis._setFont();\n\t\t\treturn this;\t// self\n\t\t}\n\t});\n\n\t/*=====\n\tg.Path = Path;\n\tg.TextPath = TextPath;\n\t=====*/\n\n\treturn g.path = {\n\t\t// summary:\n\t\t//\t\tThis module contains the core graphics Path API.\n\t\t//\t\tPath command format follows the W3C SVG 1.0 Path api.\n\n\t\tPath: Path,\n\t\tTextPath: TextPath\n\t};\n});\n","define([\"./_base\", \"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/kernel\", \"dojo/_base/sniff\",\n\t\"dojo/on\", \"dojo/_base/array\", \"dojo/dom-construct\", \"dojo/_base/Color\", \"./matrix\" ],\n\tfunction(g, lang, declare, kernel, has, on, arr, domConstruct, Color, matrixLib){\n\n\tfunction removeItemAt(a, index) {\n\t\tvar len = (a.length - 1);\n\t\twhile (index < len) {\n\t\t\ta[index] = a[++index];\n\t\t}\n\t\ta.length = len;\n\t}\n\n\tvar shape = g.shape = {\n\t\t// summary:\n\t\t//\t\tThis module contains the core graphics Shape API.\n\t\t//\t\tDifferent graphics renderer implementation modules (svg, canvas, vml, silverlight, etc.) extend this\n\t\t//\t\tbasic api to provide renderer-specific implementations for each shape.\n\t};\n\n\tshape.Shape = declare(\"dojox.gfx.shape.Shape\", null, {\n\t\t// summary:\n\t\t//\t\ta Shape object, which knows how to apply\n\t\t//\t\tgraphical attributes and transformations\n\t\n\t\tconstructor: function(){\n\t\t\t// rawNode: Node\n\t\t\t//\t\tunderlying graphics-renderer-specific implementation object (if applicable)\n\t\t\tthis.rawNode = null;\n\n\t\t\t// shape: Object\n\t\t\t//\t\tan abstract shape object\n\t\t\t//\t\t(see dojox/gfx.defaultPath,\n\t\t\t//\t\tdojox/gfx.defaultPolyline,\n\t\t\t//\t\tdojox/gfx.defaultRect,\n\t\t\t//\t\tdojox/gfx.defaultEllipse,\n\t\t\t//\t\tdojox/gfx.defaultCircle,\n\t\t\t//\t\tdojox/gfx.defaultLine,\n\t\t\t//\t\tor dojox/gfx.defaultImage)\n\t\t\tthis.shape = null;\n\t\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta transformation matrix\n\t\t\tthis.matrix = null;\n\t\n\t\t\t// fillStyle: dojox/gfx.Fill\n\t\t\t//\t\ta fill object\n\t\t\t//\t\t(see dojox/gfx.defaultLinearGradient,\n\t\t\t//\t\tdojox/gfx.defaultRadialGradient,\n\t\t\t//\t\tdojox/gfx.defaultPattern,\n\t\t\t//\t\tor dojo/Color)\n\t\t\tthis.fillStyle = null;\n\t\n\t\t\t// strokeStyle: dojox/gfx.Stroke\n\t\t\t//\t\ta stroke object\n\t\t\t//\t\t(see dojox/gfx.defaultStroke)\n\t\t\tthis.strokeStyle = null;\n\t\n\t\t\t// bbox: dojox/gfx.Rectangle\n\t\t\t//\t\ta bounding box of this shape\n\t\t\t//\t\t(see dojox/gfx.defaultRect)\n\t\t\tthis.bbox = null;\n\t\n\t\t\t// virtual group structure\n\t\n\t\t\t// parent: Object\n\t\t\t//\t\ta parent or null\n\t\t\t//\t\t(see dojox/gfx/shape.Surface,\n\t\t\t//\t\tor dojox/gfx.Group)\n\t\t\tthis.parent = null;\n\t\n\t\t\t// parentMatrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta transformation matrix inherited from the parent\n\t\t\tthis.parentMatrix = null;\n\n\t\t\tif(has(\"gfxRegistry\")){\n\t\t\t\tvar uid = shape.register(this);\n\t\t\t\tthis.getUID = function(){\n\t\t\t\t\treturn uid;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tdestroy: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReleases all internal resources owned by this shape. Once this method has been called,\n\t\t\t//\t\tthe instance is considered destroyed and should not be used anymore.\n\t\t\tif(has(\"gfxRegistry\")){\n\t\t\t\tshape.dispose(this);\n\t\t\t}\n\t\t\tif(this.rawNode && \"__gfxObject__\" in this.rawNode){\n\t\t\t\tthis.rawNode.__gfxObject__ = null;\n\t\t\t}\n\t\t\tthis.rawNode = null;\n\t\t},\n\t\n\t\t// trivial getters\n\t\n\t\tgetNode: function(){\n\t\t\t// summary:\n\t\t\t//\t\tDifferent graphics rendering subsystems implement shapes in different ways.  This\n\t\t\t//\t\tmethod provides access to the underlying graphics subsystem object.  Clients calling this\n\t\t\t//\t\tmethod and using the return value must be careful not to try sharing or using the underlying node\n\t\t\t//\t\tin a general way across renderer implementation.\n\t\t\t//\t\tReturns the underlying graphics Node, or null if no underlying graphics node is used by this shape.\n\t\t\treturn this.rawNode; // Node\n\t\t},\n\t\tgetShape: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the current Shape object or null\n\t\t\t//\t\t(see dojox/gfx.defaultPath,\n\t\t\t//\t\tdojox/gfx.defaultPolyline,\n\t\t\t//\t\tdojox/gfx.defaultRect,\n\t\t\t//\t\tdojox/gfx.defaultEllipse,\n\t\t\t//\t\tdojox/gfx.defaultCircle,\n\t\t\t//\t\tdojox/gfx.defaultLine,\n\t\t\t//\t\tor dojox/gfx.defaultImage)\n\t\t\treturn this.shape; // Object\n\t\t},\n\t\tgetTransform: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns the current transformation matrix applied to this Shape or null\n\t\t\treturn this.matrix;\t// dojox/gfx/matrix.Matrix2D\n\t\t},\n\t\tgetFill: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns the current fill object or null\n\t\t\t//\t\t(see dojox/gfx.defaultLinearGradient,\n\t\t\t//\t\tdojox/gfx.defaultRadialGradient,\n\t\t\t//\t\tdojox/gfx.defaultPattern,\n\t\t\t//\t\tor dojo/Color)\n\t\t\treturn this.fillStyle;\t// Object\n\t\t},\n\t\tgetStroke: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns the current stroke object or null\n\t\t\t//\t\t(see dojox/gfx.defaultStroke)\n\t\t\treturn this.strokeStyle;\t// Object\n\t\t},\n\t\tgetParent: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns the parent Shape, Group or null if this Shape is unparented.\n\t\t\t//\t\t(see dojox/gfx/shape.Surface,\n\t\t\t//\t\tor dojox/gfx.Group)\n\t\t\treturn this.parent;\t// Object\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns the bounding box Rectangle for this shape or null if a BoundingBox cannot be\n\t\t\t//\t\tcalculated for the shape on the current renderer or for shapes with no geometric area (points).\n\t\t\t//\t\tA bounding box is a rectangular geometric region\n\t\t\t//\t\tdefining the X and Y extent of the shape.\n\t\t\t//\t\t(see dojox/gfx.defaultRect)\n\t\t\t//\t\tNote that this method returns a direct reference to the attribute of this instance. Therefore you should\n\t\t\t//\t\tnot modify its value directly but clone it instead.\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\n\t\t},\n\t\tgetTransformedBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns an array of four points or null\n\t\t\t//\t\tfour points represent four corners of the untransformed bounding box\n\t\t\tvar b = this.getBoundingBox();\n\t\t\tif(!b){\n\t\t\t\treturn null;\t// null\n\t\t\t}\n\t\t\tvar m = this._getRealMatrix(),\n\t\t\t\tgm = matrixLib;\n\t\t\treturn [\t// Array\n\t\t\t\t\tgm.multiplyPoint(m, b.x, b.y),\n\t\t\t\t\tgm.multiplyPoint(m, b.x + b.width, b.y),\n\t\t\t\t\tgm.multiplyPoint(m, b.x + b.width, b.y + b.height),\n\t\t\t\t\tgm.multiplyPoint(m, b.x, b.y + b.height)\n\t\t\t\t];\n\t\t},\n\t\tgetEventSource: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns a Node, which is used as\n\t\t\t//\t\ta source of events for this shape\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\treturn this.rawNode;\t// Node\n\t\t},\n\t\n\t\t// empty settings\n\t\t\n\t\tsetClip: function(clip){\n\t\t\t// summary:\n\t\t\t//\t\tsets the clipping area of this shape.\n\t\t\t// description:\n\t\t\t//\t\tThe clipping area defines the shape area that will be effectively visible. Everything that\n\t\t\t//\t\twould be drawn outside of the clipping area will not be rendered.\n\t\t\t//\t\tThe possible clipping area types are rectangle, ellipse, polyline and path, but all are not\n\t\t\t//\t\tsupported by all the renderers. vml only supports rectangle clipping, while the gfx silverlight renderer does not\n\t\t\t//\t\tsupport path clipping.\n\t\t\t//\t\tThe clip parameter defines the clipping area geometry, and should be an object with the following properties:\n\t\t\t//\n\t\t\t//\t\t- {x:Number, y:Number, width:Number, height:Number} for rectangular clip\n\t\t\t//\t\t- {cx:Number, cy:Number, rx:Number, ry:Number} for ellipse clip\n\t\t\t//\t\t- {points:Array} for polyline clip\n\t\t\t//\t\t- {d:String} for a path clip.\n\t\t\t//\n\t\t\t//\t\tThe clip geometry coordinates are expressed in the coordinate system used to draw the shape. In other\n\t\t\t//\t\twords, the clipping area is defined in the shape parent coordinate system and the shape transform is automatically applied.\n\t\t\t// example:\n\t\t\t//\t\tThe following example shows how to clip a gfx image with all the possible clip geometry: a rectangle,\n\t\t\t//\t\tan ellipse, a circle (using the ellipse geometry), a polyline and a path:\n\t\t\t//\n\t\t\t//\t|\tsurface.createImage({src:img, width:200,height:200}).setClip({x:10,y:10,width:50,height:50});\n\t\t\t//\t|\tsurface.createImage({src:img, x:100,y:50,width:200,height:200}).setClip({cx:200,cy:100,rx:20,ry:30});\n\t\t\t//\t|\tsurface.createImage({src:img, x:0,y:350,width:200,height:200}).setClip({cx:100,cy:425,rx:60,ry:60});\n\t\t\t//\t|\tsurface.createImage({src:img, x:300,y:0,width:200,height:200}).setClip({points:[350,0,450,50,380,130,300,110]});\n\t\t\t//\t|\tsurface.createImage({src:img, x:300,y:350,width:200,height:200}).setClip({d:\"M 350,350 C314,414 317,557 373,450.0000 z\"});\n\n\t\t\t// clip: Object\n\t\t\t//\t\tan object that defines the clipping geometry, or null to remove clip.\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\tthis.clip = clip;\n\t\t},\n\t\t\n\t\tgetClip: function(){\n\t\t\treturn this.clip;\n\t\t},\n\t\n\t\tsetShape: function(shape){\n\t\t\t// summary:\n\t\t\t//\t\tsets a shape object\n\t\t\t//\t\t(the default implementation simply ignores it)\n\t\t\t// shape: Object\n\t\t\t//\t\ta shape object\n\t\t\t//\t\t(see dojox/gfx.defaultPath,\n\t\t\t//\t\tdojox/gfx.defaultPolyline,\n\t\t\t//\t\tdojox/gfx.defaultRect,\n\t\t\t//\t\tdojox/gfx.defaultEllipse,\n\t\t\t//\t\tdojox/gfx.defaultCircle,\n\t\t\t//\t\tdojox/gfx.defaultLine,\n\t\t\t//\t\tor dojox/gfx.defaultImage)\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\tthis.shape = g.makeParameters(this.shape, shape);\n\t\t\tthis.bbox = null;\n\t\t\treturn this;\t// self\n\t\t},\n\t\tsetFill: function(fill){\n\t\t\t// summary:\n\t\t\t//\t\tsets a fill object\n\t\t\t//\t\t(the default implementation simply ignores it)\n\t\t\t// fill: Object\n\t\t\t//\t\ta fill object\n\t\t\t//\t\t(see dojox/gfx.defaultLinearGradient,\n\t\t\t//\t\tdojox/gfx.defaultRadialGradient,\n\t\t\t//\t\tdojox/gfx.defaultPattern,\n\t\t\t//\t\tor dojo/_base/Color)\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\tif(!fill){\n\t\t\t\t// don't fill\n\t\t\t\tthis.fillStyle = null;\n\t\t\t\treturn this;\t// self\n\t\t\t}\n\t\t\tvar f = null;\n\t\t\tif(typeof(fill) == \"object\" && \"type\" in fill){\n\t\t\t\t// gradient or pattern\n\t\t\t\tswitch(fill.type){\n\t\t\t\t\tcase \"linear\":\n\t\t\t\t\t\tf = g.makeParameters(g.defaultLinearGradient, fill);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"radial\":\n\t\t\t\t\t\tf = g.makeParameters(g.defaultRadialGradient, fill);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"pattern\":\n\t\t\t\t\t\tf = g.makeParameters(g.defaultPattern, fill);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// color object\n\t\t\t\tf = g.normalizeColor(fill);\n\t\t\t}\n\t\t\tthis.fillStyle = f;\n\t\t\treturn this;\t// self\n\t\t},\n\t\tsetStroke: function(stroke){\n\t\t\t// summary:\n\t\t\t//\t\tsets a stroke object\n\t\t\t//\t\t(the default implementation simply ignores it)\n\t\t\t// stroke: Object\n\t\t\t//\t\ta stroke object\n\t\t\t//\t\t(see dojox/gfx.defaultStroke)\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\tif(!stroke){\n\t\t\t\t// don't stroke\n\t\t\t\tthis.strokeStyle = null;\n\t\t\t\treturn this;\t// self\n\t\t\t}\n\t\t\t// normalize the stroke\n\t\t\tif(typeof stroke == \"string\" || lang.isArray(stroke) || stroke instanceof Color){\n\t\t\t\tstroke = {color: stroke};\n\t\t\t}\n\t\t\tvar s = this.strokeStyle = g.makeParameters(g.defaultStroke, stroke);\n\t\t\ts.color = g.normalizeColor(s.color);\n\t\t\treturn this;\t// self\n\t\t},\n\t\tsetTransform: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tsets a transformation matrix\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta matrix or a matrix-like object\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\tthis.matrix = matrixLib.clone(matrix ? matrixLib.normalize(matrix) : matrixLib.identity);\n\t\t\treturn this._applyTransform();\t// self\n\t\t},\n\t\n\t\t_applyTransform: function(){\n\t\t\t// summary:\n\t\t\t//\t\tphysically sets a matrix\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\treturn this;\t// self\n\t\t},\n\t\n\t\t// z-index\n\t\n\t\tmoveToFront: function(){\n\t\t\t// summary:\n\t\t\t//\t\tmoves a shape to front of its parent's list of shapes\n\t\t\tvar p = this.getParent();\n\t\t\tif(p){\n\t\t\t\tp._moveChildToFront(this);\n\t\t\t\tthis._moveToFront();\t// execute renderer-specific action\n\t\t\t}\n\t\t\treturn this;\t// self\n\t\t},\n\t\tmoveToBack: function(){\n\t\t\t// summary:\n\t\t\t//\t\tmoves a shape to back of its parent's list of shapes\n\t\t\tvar p = this.getParent();\n\t\t\tif(p){\n\t\t\t\tp._moveChildToBack(this);\n\t\t\t\tthis._moveToBack();\t// execute renderer-specific action\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_moveToFront: function(){\n\t\t\t// summary:\n\t\t\t//\t\trenderer-specific hook, see dojox/gfx/shape.Shape.moveToFront()\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t},\n\t\t_moveToBack: function(){\n\t\t\t// summary:\n\t\t\t//\t\trenderer-specific hook, see dojox/gfx/shape.Shape.moveToFront()\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t},\n\t\n\t\t// apply left & right transformation\n\t\n\t\tapplyRightTransform: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tmultiplies the existing matrix with an argument on right side\n\t\t\t//\t\t(this.matrix * matrix)\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta matrix or a matrix-like object\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\n\t\t\treturn matrix ? this.setTransform([this.matrix, matrix]) : this;\t// self\n\t\t},\n\t\tapplyLeftTransform: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tmultiplies the existing matrix with an argument on left side\n\t\t\t//\t\t(matrix * this.matrix)\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta matrix or a matrix-like object\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\n\t\t\treturn matrix ? this.setTransform([matrix, this.matrix]) : this;\t// self\n\t\t},\n\t\tapplyTransform: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\ta shortcut for dojox/gfx/shape.Shape.applyRightTransform\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta matrix or a matrix-like object\n\t\t\t//\t\t(see an argument of dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\tconstructor for a list of acceptable arguments)\n\t\t\treturn matrix ? this.setTransform([this.matrix, matrix]) : this;\t// self\n\t\t},\n\t\n\t\t// virtual group methods\n\t\n\t\tremoveShape: function(silently){\n\t\t\t// summary:\n\t\t\t//\t\tremoves the shape from its parent's list of shapes\n\t\t\t// silently: Boolean\n\t\t\t//\t\tif true, do not redraw a picture yet\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.remove(this, silently);\n\t\t\t}\n\t\t\treturn this;\t// self\n\t\t},\n\t\t_setParent: function(parent, matrix){\n\t\t\t// summary:\n\t\t\t//\t\tsets a parent\n\t\t\t// parent: Object\n\t\t\t//\t\ta parent or null\n\t\t\t//\t\t(see dojox/gfx/shape.Surface,\n\t\t\t//\t\tor dojox/gfx.Group)\n\t\t\t// matrix: dojox/gfx/matrix.Matrix2D\n\t\t\t//\t\ta 2D matrix or a matrix-like object\n\t\t\tthis.parent = parent;\n\t\t\treturn this._updateParentMatrix(matrix);\t// self\n\t\t},\n\t\t_updateParentMatrix: function(matrix){\n\t\t\t// summary:\n\t\t\t//\t\tupdates the parent matrix with new matrix\n\t\t\t// matrix: dojox/gfx/Matrix2D\n\t\t\t//\t\ta 2D matrix or a matrix-like object\n\t\t\tthis.parentMatrix = matrix ? matrixLib.clone(matrix) : null;\n\t\t\treturn this._applyTransform();\t// self\n\t\t},\n\t\t_getRealMatrix: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the cumulative ('real') transformation matrix\n\t\t\t//\t\tby combining the shape's matrix with its parent's matrix\n\t\t\tvar m = this.matrix;\n\t\t\tvar p = this.parent;\n\t\t\twhile(p){\n\t\t\t\tif(p.matrix){\n\t\t\t\t\tm = matrixLib.multiply(p.matrix, m);\n\t\t\t\t}\n\t\t\t\tp = p.parent;\n\t\t\t}\n\t\t\treturn m;\t// dojox/gfx/matrix.Matrix2D\n\t\t}\n\t});\n\t\n\tshape._eventsProcessing = {\n\t\ton: function(type, listener){\n\t\t\t//\tsummary:\n\t\t\t//\t\tConnects an event to this shape.\n\n\t\t\treturn on(this.getEventSource(), type, shape.fixCallback(this, g.fixTarget, listener));\n\t\t},\n\n\t\tconnect: function(name, object, method){\n\t\t\t// summary:\n\t\t\t//\t\tconnects a handler to an event on this shape\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\t// redirect to fixCallback to normalize events and add the gfxTarget to the event. The latter\n\t\t\t// is done by dojox/gfx.fixTarget which is defined by each renderer\n\t\t\tif(name.substring(0, 2) == \"on\"){\n\t\t\t\tname = name.substring(2);\n\t\t\t}\n\t\t\treturn this.on(name, method ? lang.hitch(object, method) : object);\n\t\t},\n\n\t\tdisconnect: function(token){\n\t\t\t// summary:\n\t\t\t//\t\tconnects a handler by token from an event on this shape\n\t\t\t\n\t\t\t// COULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\n\t\t\treturn token.remove();\n\t\t}\n\t};\n\t\n\tshape.fixCallback = function(gfxElement, fixFunction, scope, method){\n\t\t// summary:\n\t\t//\t\tWraps the callback to allow for tests and event normalization\n\t\t//\t\tbefore it gets invoked. This is where 'fixTarget' is invoked.\n\t\t// tags:\n\t\t//      private\n\t\t// gfxElement: Object\n\t\t//\t\tThe GFX object that triggers the action (ex.:\n\t\t//\t\tdojox/gfx.Surface and dojox/gfx/shape.Shape). A new event property\n\t\t//\t\t'gfxTarget' is added to the event to reference this object.\n\t\t//\t\tfor easy manipulation of GFX objects by the event handlers.\n\t\t// fixFunction: Function\n\t\t//\t\tThe function that implements the logic to set the 'gfxTarget'\n\t\t//\t\tproperty to the event. It should be 'dojox/gfx.fixTarget' for\n\t\t//\t\tmost of the cases\n\t\t// scope: Object\n\t\t//\t\tOptional. The scope to be used when invoking 'method'. If\n\t\t//\t\tomitted, a global scope is used.\n\t\t// method: Function|String\n\t\t//\t\tThe original callback to be invoked.\n\t\tif(!method){\n\t\t\tmethod = scope;\n\t\t\tscope = null;\n\t\t}\n\t\tif(lang.isString(method)){\n\t\t\tscope = scope || kernel.global;\n\t\t\tif(!scope[method]){ throw(['dojox.gfx.shape.fixCallback: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\n\t\t\treturn function(e){  \n\t\t\t\treturn fixFunction(e,gfxElement) ? scope[method].apply(scope, arguments || []) : undefined; }; // Function\n\t\t}\n\t\treturn !scope \n\t\t\t? function(e){ \n\t\t\t\treturn fixFunction(e,gfxElement) ? method.apply(scope, arguments) : undefined; } \n\t\t\t: function(e){ \n\t\t\t\treturn fixFunction(e,gfxElement) ? method.apply(scope, arguments || []) : undefined; }; // Function\n\t};\n\tlang.extend(shape.Shape, shape._eventsProcessing);\n\t\n\tshape.Container = {\n\t\t// summary:\n\t\t//\t\ta container of shapes, which can be used\n\t\t//\t\tas a foundation for renderer-specific groups, or as a way\n\t\t//\t\tto logically group shapes (e.g, to propagate matricies)\n\t\n\t\t_init: function() {\n\t\t\t// children: Array\n\t\t\t//\t\ta list of children\n\t\t\tthis.children = [];\n\t\t\tthis._batch = 0;\n\t\t},\n\t\n\t\t// group management\n\t\n\t\topenBatch: function() {\n\t\t\t// summary:\n\t\t\t//\t\tstarts a new batch, subsequent new child shapes will be held in\n\t\t\t//\t\tthe batch instead of appending to the container directly.\n\t\t\t// description:\n\t\t\t//\t\tBecause the canvas renderer has no DOM hierarchy, the canvas implementation differs\n\t\t\t//\t\tsuch that it suspends the repaint requests for this container until the current batch is closed by a call to closeBatch().\n\t\t\treturn this;\n\t\t},\n\t\tcloseBatch: function() {\n\t\t\t// summary:\n\t\t\t//\t\tsubmits the current batch, append all pending child shapes to DOM\n\t\t\t// description:\n\t\t\t//\t\tOn canvas, this method flushes the pending redraws queue.\n\t\t\treturn this;\n\t\t},\n\t\tadd: function(shape){\n\t\t\t// summary:\n\t\t\t//\t\tadds a shape to the list\n\t\t\t// shape: dojox/gfx/shape.Shape\n\t\t\t//\t\tthe shape to add to the list\n\t\t\tvar oldParent = shape.getParent();\n\t\t\tif(oldParent){\n\t\t\t\toldParent.remove(shape, true);\n\t\t\t}\n\t\t\tthis.children.push(shape);\n\t\t\treturn shape._setParent(this, this._getRealMatrix());\t// self\n\t\t},\n\t\tremove: function(shape, silently){\n\t\t\t// summary:\n\t\t\t//\t\tremoves a shape from the list\n\t\t\t// shape: dojox/gfx/shape.Shape\n\t\t\t//\t\tthe shape to remove\n\t\t\t// silently: Boolean\n\t\t\t//\t\tif true, do not redraw a picture yet\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\n\t\t\t\tif(this.children[i] == shape){\n\t\t\t\t\tif(silently){\n\t\t\t\t\t\t// skip for now\n\t\t\t\t\t}else{\n\t\t\t\t\t\tshape.parent = null;\n\t\t\t\t\t\tshape.parentMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tremoveItemAt(this.children, i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t// self\n\t\t},\n\t\tclear: function(/*Boolean?*/ destroy){\n\t\t\t// summary:\n\t\t\t//\t\tremoves all shapes from a group/surface.\n\t\t\t// destroy: Boolean\n\t\t\t//\t\tIndicates whether the children should be destroyed. Optional.\n\t\t\tvar shape;\n\t\t\tfor(var i = 0; i < this.children.length;++i){\n\t\t\t\tshape = this.children[i];\n\t\t\t\tshape.parent = null;\n\t\t\t\tshape.parentMatrix = null;\n\t\t\t\tif(destroy){\n\t\t\t\t\tshape.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.children = [];\n\t\t\treturn this;\t// self\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\tReturns the bounding box Rectangle for this shape.\n\t\t\tif(this.children){\n\t\t\t\t// if this is a composite shape, then sum up all the children\n\t\t\t\tvar result = null;\n\t\t\t\tarr.forEach(this.children, function(shape){\n\t\t\t\t\tvar bb = shape.getBoundingBox();\n\t\t\t\t\tif(bb){\n\t\t\t\t\t\tvar ct = shape.getTransform();\n\t\t\t\t\t\tif(ct){\n\t\t\t\t\t\t\tbb = matrixLib.multiplyRectangle(ct, bb);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(result){\n\t\t\t\t\t\t\t// merge two bbox \n\t\t\t\t\t\t\tresult.x = Math.min(result.x, bb.x);\n\t\t\t\t\t\t\tresult.y = Math.min(result.y, bb.y);\n\t\t\t\t\t\t\tresult.endX = Math.max(result.endX, bb.x + bb.width);\n\t\t\t\t\t\t\tresult.endY = Math.max(result.endY, bb.y + bb.height);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t// first bbox \n\t\t\t\t\t\t\tresult = {\n\t\t\t\t\t\t\t\tx: bb.x,\n\t\t\t\t\t\t\t\ty: bb.y,\n\t\t\t\t\t\t\t\tendX: bb.x + bb.width,\n\t\t\t\t\t\t\t\tendY: bb.y + bb.height\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(result){\n\t\t\t\t\tresult.width = result.endX - result.x;\n\t\t\t\t\tresult.height = result.endY - result.y;\n\t\t\t\t}\n\t\t\t\treturn result; // dojox/gfx.Rectangle\n\t\t\t}\n\t\t\t// unknown/empty bounding box, subclass shall override this impl \n\t\t\treturn null;\n\t\t},\n\t\t// moving child nodes\n\t\t_moveChildToFront: function(shape){\n\t\t\t// summary:\n\t\t\t//\t\tmoves a shape to front of the list of shapes\n\t\t\t// shape: dojox/gfx/shape.Shape\n\t\t\t//\t\tone of the child shapes to move to the front\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\n\t\t\t\tif(this.children[i] == shape){\n\t\t\t\t\tremoveItemAt(this.children, i);\n\t\t\t\t\tthis.children.push(shape);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t// self\n\t\t},\n\t\t_moveChildToBack: function(shape){\n\t\t\t// summary:\n\t\t\t//\t\tmoves a shape to back of the list of shapes\n\t\t\t// shape: dojox/gfx/shape.Shape\n\t\t\t//\t\tone of the child shapes to move to the front\n\t\t\tfor(var i = 0; i < this.children.length; ++i){\n\t\t\t\tif(this.children[i] == shape){\n\t\t\t\t\tremoveItemAt(this.children, i);\n\t\t\t\t\tthis.children.unshift(shape);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\t// self\n\t\t}\n\t};\n\n\tshape.Surface = declare(\"dojox.gfx.shape.Surface\", null, {\n\t\t// summary:\n\t\t//\t\ta surface object to be used for drawings\n\t\tconstructor: function(){\n\t\t\t// underlying node\n\t\t\tthis.rawNode = null;\n\t\t\t// the parent node\n\t\t\tthis._parent = null;\n\t\t\t// the list of DOM nodes to be deleted in the case of destruction\n\t\t\tthis._nodes = [];\n\t\t\t// the list of events to be detached in the case of destruction\n\t\t\tthis._events = [];\n\t\t},\n\t\tdestroy: function(){\n\t\t\t// summary:\n\t\t\t//\t\tdestroy all relevant external resources and release all\n\t\t\t//\t\texternal references to make this object garbage-collectible\n\t\t\tarr.forEach(this._nodes, domConstruct.destroy);\n\t\t\tthis._nodes = [];\n\t\t\tarr.forEach(this._events, function(h){ if(h){ h.remove(); } });\n\t\t\tthis._events = [];\n\t\t\tthis.rawNode = null;\t// recycle it in _nodes, if it needs to be recycled\n\t\t\tif(has(\"ie\")){\n\t\t\t\twhile(this._parent.lastChild){\n\t\t\t\t\tdomConstruct.destroy(this._parent.lastChild);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis._parent.innerHTML = \"\";\n\t\t\t}\n\t\t\tthis._parent = null;\n\t\t},\n\t\tgetEventSource: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns a node, which can be used to attach event listeners\n\t\t\treturn this.rawNode; // Node\n\t\t},\n\t\t_getRealMatrix: function(){\n\t\t\t// summary:\n\t\t\t//\t\talways returns the identity matrix\n\t\t\treturn null;\t// dojox/gfx/Matrix2D\n\t\t},\n\t\t/*=====\n\t\t setDimensions: function(width, height){\n\t\t\t // summary:\n\t\t\t //\t\tsets the width and height of the rawNode\n\t\t\t // width: String\n\t\t\t //\t\twidth of surface, e.g., \"100px\"\n\t\t\t // height: String\n\t\t\t //\t\theight of surface, e.g., \"100px\"\n\t\t\t return this;\t// self\n\t\t },\n\t\t getDimensions: function(){\n\t\t\t // summary:\n\t\t\t //     gets current width and height in pixels\n\t\t\t // returns: Object\n\t\t\t //     object with properties \"width\" and \"height\"\n\t\t },\n\t\t =====*/\n\t\tisLoaded: true,\n\t\tonLoad: function(/*dojox/gfx/shape.Surface*/ surface){\n\t\t\t// summary:\n\t\t\t//\t\tlocal event, fired once when the surface is created\n\t\t\t//\t\tasynchronously, used only when isLoaded is false, required\n\t\t\t//\t\tonly for Silverlight.\n\t\t},\n\t\twhenLoaded: function(/*Object|Null*/ context, /*Function|String*/ method){\n\t\t\tvar f = lang.hitch(context, method);\n\t\t\tif(this.isLoaded){\n\t\t\t\tf(this);\n\t\t\t}else{\n\t\t\t\ton.once(this, \"load\", function(surface){\n\t\t\t\t\tf(surface);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\tlang.extend(shape.Surface, shape._eventsProcessing);\n\n\t/*=====\n\tg.Point = declare(\"dojox/gfx.Point\", null, {\n\t\t// summary:\n\t\t//\t\t2D point for drawings - {x, y}\n\t\t// description:\n\t\t//\t\tDo not use this object directly!\n\t\t//\t\tUse the naked object instead: {x: 1, y: 2}.\n\t});\n\n\tg.Rectangle = declare(\"dojox.gfx.Rectangle\", null, {\n\t\t// summary:\n\t\t//\t\trectangle - {x, y, width, height}\n\t\t// description:\n\t\t//\t\tDo not use this object directly!\n\t\t//\t\tUse the naked object instead: {x: 1, y: 2, width: 100, height: 200}.\n\t});\n\t =====*/\n\n\n\tshape.Rect = declare(\"dojox.gfx.shape.Rect\", shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic rectangle\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\tThe underlying graphics system object (typically a DOM Node)\n\t\t\tthis.shape = g.getDefault(\"Rect\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box (its shape in this case)\n\t\t\treturn this.shape;\t// dojox/gfx.Rectangle\n\t\t}\n\t});\n\t\n\tshape.Ellipse = declare(\"dojox.gfx.shape.Ellipse\", shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic ellipse\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM Node\n\t\t\tthis.shape = g.getDefault(\"Ellipse\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box\n\t\t\tif(!this.bbox){\n\t\t\t\tvar shape = this.shape;\n\t\t\t\tthis.bbox = {x: shape.cx - shape.rx, y: shape.cy - shape.ry,\n\t\t\t\t\twidth: 2 * shape.rx, height: 2 * shape.ry};\n\t\t\t}\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\n\t\t}\n\t});\n\t\n\tshape.Circle = declare(\"dojox.gfx.shape.Circle\", shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic circle\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM Node\n\t\t\tthis.shape = g.getDefault(\"Circle\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box\n\t\t\tif(!this.bbox){\n\t\t\t\tvar shape = this.shape;\n\t\t\t\tthis.bbox = {x: shape.cx - shape.r, y: shape.cy - shape.r,\n\t\t\t\t\twidth: 2 * shape.r, height: 2 * shape.r};\n\t\t\t}\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\n\t\t}\n\t});\n\t\n\tshape.Line = declare(\"dojox.gfx.shape.Line\", shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic line (do not instantiate it directly)\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM Node\n\t\t\tthis.shape = g.getDefault(\"Line\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box\n\t\t\tif(!this.bbox){\n\t\t\t\tvar shape = this.shape;\n\t\t\t\tthis.bbox = {\n\t\t\t\t\tx:\t\tMath.min(shape.x1, shape.x2),\n\t\t\t\t\ty:\t\tMath.min(shape.y1, shape.y2),\n\t\t\t\t\twidth:\tMath.abs(shape.x2 - shape.x1),\n\t\t\t\t\theight:\tMath.abs(shape.y2 - shape.y1)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\n\t\t}\n\t});\n\t\n\tshape.Polyline = declare(\"dojox.gfx.shape.Polyline\", shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic polyline/polygon (do not instantiate it directly)\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM Node\n\t\t\tthis.shape = g.getDefault(\"Polyline\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tsetShape: function(points, closed){\n\t\t\t// summary:\n\t\t\t//\t\tsets a polyline/polygon shape object\n\t\t\t// points: Object|Array\n\t\t\t//\t\ta polyline/polygon shape object, or an array of points\n\t\t\t// closed: Boolean\n\t\t\t//\t\tclose the polyline to make a polygon\n\t\t\tif(points && points instanceof Array){\n\t\t\t\tthis.inherited(arguments, [{points: points}]);\n\t\t\t\tif(closed && this.shape.points.length){\n\t\t\t\t\tthis.shape.points.push(this.shape.points[0]);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.inherited(arguments, [points]);\n\t\t\t}\n\t\t\treturn this;\t// self\n\t\t},\n\t\t_normalizePoints: function(){\n\t\t\t// summary:\n\t\t\t//\t\tnormalize points to array of {x:number, y:number}\n\t\t\tvar p = this.shape.points, l = p && p.length;\n\t\t\tif(l && typeof p[0] == \"number\"){\n\t\t\t\tvar points = [];\n\t\t\t\tfor(var i = 0; i < l; i += 2){\n\t\t\t\t\tpoints.push({x: p[i], y: p[i + 1]});\n\t\t\t\t}\n\t\t\t\tthis.shape.points = points;\n\t\t\t}\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box\n\t\t\tif(!this.bbox && this.shape.points.length){\n\t\t\t\tvar p = this.shape.points;\n\t\t\t\tvar l = p.length;\n\t\t\t\tvar t = p[0];\n\t\t\t\tvar bbox = {l: t.x, t: t.y, r: t.x, b: t.y};\n\t\t\t\tfor(var i = 1; i < l; ++i){\n\t\t\t\t\tt = p[i];\n\t\t\t\t\tif(bbox.l > t.x) bbox.l = t.x;\n\t\t\t\t\tif(bbox.r < t.x) bbox.r = t.x;\n\t\t\t\t\tif(bbox.t > t.y) bbox.t = t.y;\n\t\t\t\t\tif(bbox.b < t.y) bbox.b = t.y;\n\t\t\t\t}\n\t\t\t\tthis.bbox = {\n\t\t\t\t\tx:\t\tbbox.l,\n\t\t\t\t\ty:\t\tbbox.t,\n\t\t\t\t\twidth:\tbbox.r - bbox.l,\n\t\t\t\t\theight:\tbbox.b - bbox.t\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.bbox;\t// dojox/gfx.Rectangle\n\t\t}\n\t});\n\t\n\tshape.Image = declare(\"dojox.gfx.shape.Image\", shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic image (do not instantiate it directly)\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM Node\n\t\t\tthis.shape = g.getDefault(\"Image\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the bounding box (its shape in this case)\n\t\t\treturn this.shape;\t// dojox/gfx.Rectangle\n\t\t},\n\t\tsetStroke: function(){\n\t\t\t// summary:\n\t\t\t//\t\tignore setting a stroke style\n\t\t\treturn this;\t// self\n\t\t},\n\t\tsetFill: function(){\n\t\t\t// summary:\n\t\t\t//\t\tignore setting a fill style\n\t\t\treturn this;\t// self\n\t\t}\n\t});\n\t\n\tshape.Text = declare(shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta generic text (do not instantiate it directly)\n\t\tconstructor: function(rawNode){\n\t\t\t// rawNode: Node\n\t\t\t//\t\ta DOM Node\n\t\t\tthis.fontStyle = null;\n\t\t\tthis.shape = g.getDefault(\"Text\");\n\t\t\tthis.rawNode = rawNode;\n\t\t},\n\t\tgetFont: function(){\n\t\t\t// summary:\n\t\t\t//\t\treturns the current font object or null\n\t\t\treturn this.fontStyle;\t// Object\n\t\t},\n\t\tsetFont: function(newFont){\n\t\t\t// summary:\n\t\t\t//\t\tsets a font for text\n\t\t\t// newFont: Object\n\t\t\t//\t\ta font object (see dojox/gfx.defaultFont) or a font string\n\t\t\tthis.fontStyle = typeof newFont == \"string\" ? g.splitFontString(newFont) :\n\t\t\t\tg.makeParameters(g.defaultFont, newFont);\n\t\t\tthis._setFont();\n\t\t\treturn this;\t// self\n\t\t},\n\t\tgetBoundingBox: function(){\n\t\t\tvar bbox = null, s = this.getShape();\n\t\t\tif(s.text){\n\t\t\t\tbbox = g._base._computeTextBoundingBox(this);\n\t\t\t}\n\t\t\treturn bbox;\n\t\t}\n\t});\n\t\n\tshape.Creator = {\n\t\t// summary:\n\t\t//\t\tshape creators\n\t\tcreateShape: function(shape){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a shape object based on its type; it is meant to be used\n\t\t\t//\t\tby group-like objects\n\t\t\t// shape: Object\n\t\t\t//\t\ta shape descriptor object\n\t\t\t// returns: dojox/gfx/shape.Shape | Null\n\t\t\t//      a fully instantiated surface-specific Shape object\n\t\t\tswitch(shape.type){\n\t\t\t\tcase g.defaultPath.type:\t\treturn this.createPath(shape);\n\t\t\t\tcase g.defaultRect.type:\t\treturn this.createRect(shape);\n\t\t\t\tcase g.defaultCircle.type:\t    return this.createCircle(shape);\n\t\t\t\tcase g.defaultEllipse.type:\t    return this.createEllipse(shape);\n\t\t\t\tcase g.defaultLine.type:\t\treturn this.createLine(shape);\n\t\t\t\tcase g.defaultPolyline.type:\treturn this.createPolyline(shape);\n\t\t\t\tcase g.defaultImage.type:\t\treturn this.createImage(shape);\n\t\t\t\tcase g.defaultText.type:\t\treturn this.createText(shape);\n\t\t\t\tcase g.defaultTextPath.type:\treturn this.createTextPath(shape);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tcreateGroup: function(){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a group shape\n\t\t\treturn this.createObject(g.Group);\t// dojox/gfx/Group\n\t\t},\n\t\tcreateRect: function(rect){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a rectangle shape\n\t\t\t// rect: Object\n\t\t\t//\t\ta path object (see dojox/gfx.defaultRect)\n\t\t\treturn this.createObject(g.Rect, rect);\t// dojox/gfx/shape.Rect\n\t\t},\n\t\tcreateEllipse: function(ellipse){\n\t\t\t// summary:\n\t\t\t//\t\tcreates an ellipse shape\n\t\t\t// ellipse: Object\n\t\t\t//\t\tan ellipse object (see dojox/gfx.defaultEllipse)\n\t\t\treturn this.createObject(g.Ellipse, ellipse);\t// dojox/gfx/shape.Ellipse\n\t\t},\n\t\tcreateCircle: function(circle){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a circle shape\n\t\t\t// circle: Object\n\t\t\t//\t\ta circle object (see dojox/gfx.defaultCircle)\n\t\t\treturn this.createObject(g.Circle, circle);\t// dojox/gfx/shape.Circle\n\t\t},\n\t\tcreateLine: function(line){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a line shape\n\t\t\t// line: Object\n\t\t\t//\t\ta line object (see dojox/gfx.defaultLine)\n\t\t\treturn this.createObject(g.Line, line);\t// dojox/gfx/shape.Line\n\t\t},\n\t\tcreatePolyline: function(points){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a polyline/polygon shape\n\t\t\t// points: Object\n\t\t\t//\t\ta points object (see dojox/gfx.defaultPolyline)\n\t\t\t//\t\tor an Array of points\n\t\t\treturn this.createObject(g.Polyline, points);\t// dojox/gfx/shape.Polyline\n\t\t},\n\t\tcreateImage: function(image){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a image shape\n\t\t\t// image: Object\n\t\t\t//\t\tan image object (see dojox/gfx.defaultImage)\n\t\t\treturn this.createObject(g.Image, image);\t// dojox/gfx/shape.Image\n\t\t},\n\t\tcreateText: function(text){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a text shape\n\t\t\t// text: Object\n\t\t\t//\t\ta text object (see dojox/gfx.defaultText)\n\t\t\treturn this.createObject(g.Text, text);\t// dojox/gfx/shape.Text\n\t\t},\n\t\tcreatePath: function(path){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a path shape\n\t\t\t// path: Object\n\t\t\t//\t\ta path object (see dojox/gfx.defaultPath)\n\t\t\treturn this.createObject(g.Path, path);\t// dojox/gfx/shape.Path\n\t\t},\n\t\tcreateTextPath: function(text){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a text shape\n\t\t\t// text: Object\n\t\t\t//\t\ta textpath object (see dojox/gfx.defaultTextPath)\n\t\t\treturn this.createObject(g.TextPath, {}).setText(text);\t// dojox/gfx/shape.TextPath\n\t\t},\n\t\tcreateObject: function(shapeType, rawShape){\n\t\t\t// summary:\n\t\t\t//\t\tcreates an instance of the passed shapeType class\n\t\t\t// shapeType: Function\n\t\t\t//\t\ta class constructor to create an instance of\n\t\t\t// rawShape: Object \n\t\t\t//\t\tproperties to be passed in to the classes 'setShape' method\n\t\n\t\t\t// SHOULD BE RE-IMPLEMENTED BY THE RENDERER!\n\t\t\treturn null;\t// dojox/gfx/shape.Shape\n\t\t}\n\t};\n\t\n\t/*=====\n\t lang.extend(shape.Surface, shape.Container);\n\t lang.extend(shape.Surface, shape.Creator);\n\n\t g.Group = declare(shape.Shape, {\n\t\t// summary:\n\t\t//\t\ta group shape, which can be used\n\t\t//\t\tto logically group shapes (e.g, to propagate matricies)\n\t});\n\tlang.extend(g.Group, shape.Container);\n\tlang.extend(g.Group, shape.Creator);\n\n\tg.Rect     = shape.Rect;\n\tg.Circle   = shape.Circle;\n\tg.Ellipse  = shape.Ellipse;\n\tg.Line     = shape.Line;\n\tg.Polyline = shape.Polyline;\n\tg.Text     = shape.Text;\n\tg.Surface  = shape.Surface;\n\t=====*/\n\n\treturn shape;\n});\n","define([\"dojo/_base/kernel\",\"dojo/_base/lang\",\"./_base\", \"dojo/_base/html\",\"dojo/_base/array\", \"dojo/_base/window\", \"dojo/_base/json\", \n\t\"dojo/_base/Deferred\", \"dojo/_base/sniff\", \"require\",\"dojo/_base/config\"], \n  function(kernel, lang, g, html, arr, win, jsonLib, Deferred, has, require, config){\n\tvar gu = g.utils = {};\n\n\tlang.mixin(gu, {\n\t\tforEach: function(\n\t\t\t/*dojox/gfx/shape.Surface|dojox/gfx/shape.Shape*/ object,\n\t\t\t/*Function|String|Array*/ f, /*Object?*/ o\n\t\t){\n\t\t\t// summary:\n\t\t\t//\t\tTakes a shape or a surface and applies a function \"f\" to in the context of \"o\"\n\t\t\t//\t\t(or global, if missing). If \"shape\" was a surface or a group, it applies the same\n\t\t\t//\t\tfunction to all children recursively effectively visiting all shapes of the underlying scene graph.\n\t\t\t// object:\n\t\t\t//\t\tThe gfx container to iterate.\n\t\t\t// f:\n\t\t\t//\t\tThe function to apply.\n\t\t\t// o:\n\t\t\t//\t\tThe scope.\n\t\t\to = o || kernel.global;\n\t\t\tf.call(o, object);\n\t\t\tif(object instanceof g.Surface || object instanceof g.Group){\n\t\t\t\tarr.forEach(object.children, function(shape){\n\t\t\t\t\tgu.forEach(shape, f, o);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tserialize: function(object){\n\t\t\t// summary:\n\t\t\t//\t\tTakes a shape or a surface and returns an object, which describes underlying shapes.\n\t\t\t// object: dojox/gfx/shape.Surface|dojox/gfx/shape.Shape\n\t\t\t//\t\tThe container to serialize.\n\n\t\t\tvar t = {}, v, isSurface = object instanceof g.Surface;\n\t\t\tif(isSurface || object instanceof g.Group){\n\t\t\t\tt.children = arr.map(object.children, gu.serialize);\n\t\t\t\tif(isSurface){\n\t\t\t\t\treturn t.children;\t// Array\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tt.shape = object.getShape();\n\t\t\t}\n\t\t\tif(object.getTransform){\n\t\t\t\tv = object.getTransform();\n\t\t\t\tif(v){ t.transform = v; }\n\t\t\t}\n\t\t\tif(object.getStroke){\n\t\t\t\tv = object.getStroke();\n\t\t\t\tif(v){ t.stroke = v; }\n\t\t\t}\n\t\t\tif(object.getFill){\n\t\t\t\tv = object.getFill();\n\t\t\t\tif(v){ t.fill = v; }\n\t\t\t}\n\t\t\tif(object.getFont){\n\t\t\t\tv = object.getFont();\n\t\t\t\tif(v){ t.font = v; }\n\t\t\t}\n\t\t\treturn t;\t// Object\n\t\t},\n\n\t\ttoJson: function(object, prettyPrint){\n\t\t\t// summary:\n\t\t\t//\t\tWorks just like serialize() but returns a JSON string. If prettyPrint is true, the string is pretty-printed to make it more human-readable.\n\t\t\t// object: dojox/gfx/shape.Surface|dojox/gfx/shape.Shape\n\t\t\t//\t\tThe container to serialize.\n\t\t\t// prettyPrint: Boolean?\n\t\t\t//\t\tIndicates whether the output string should be formatted.\n\t\t\t// returns: String\n\t\t\t\n\t\t\treturn jsonLib.toJson(gu.serialize(object), prettyPrint);\t// String\n\t\t},\n\n\t\tdeserialize: function(parent, object){\n\t\t\t// summary:\n\t\t\t//\t\tTakes a surface or a shape and populates it with an object produced by serialize().\n\t\t\t// parent: dojox/gfx/shape.Surface|dojox/gfx/shape.Shape\n\t\t\t//\t\tThe destination container for the deserialized shapes.\n\t\t\t// object: dojox/gfx/shape.Shape|Array\n\t\t\t//\t\tThe shapes to deserialize.\n\n\t\t\tif(object instanceof Array){\n\t\t\t\treturn arr.map(object, lang.hitch(null, gu.deserialize, parent));\t// Array\n\t\t\t}\n\t\t\tvar shape = (\"shape\" in object) ? parent.createShape(object.shape) : parent.createGroup();\n\t\t\tif(\"transform\" in object){\n\t\t\t\tshape.setTransform(object.transform);\n\t\t\t}\n\t\t\tif(\"stroke\" in object){\n\t\t\t\tshape.setStroke(object.stroke);\n\t\t\t}\n\t\t\tif(\"fill\" in object){\n\t\t\t\tshape.setFill(object.fill);\n\t\t\t}\n\t\t\tif(\"font\" in object){\n\t\t\t\tshape.setFont(object.font);\n\t\t\t}\n\t\t\tif(\"children\" in object){\n\t\t\t\tarr.forEach(object.children, lang.hitch(null, gu.deserialize, shape));\n\t\t\t}\n\t\t\treturn shape;\t// dojox/gfx/shape.Shape\n\t\t},\n\n\t\tfromJson: function(parent, json){\n\t\t\t// summary:\n\t\t\t//\t\tWorks just like deserialize() but takes a JSON representation of the object.\n\t\t\t// parent: dojox/gfx/shape.Surface|dojox/gfx/shape.Shape\n\t\t\t//\t\tThe destination container for the deserialized shapes.\n\t\t\t// json: String\n\t\t\t//\t\tThe shapes to deserialize.\n\n\t\t\treturn gu.deserialize(parent, jsonLib.fromJson(json));\t// Array|dojox/gfx/shape.Shape\n\t\t},\n\n\t\ttoSvg: function(/*dojox/gfx/shape.Surface*/surface){\n\t\t\t// summary:\n\t\t\t//\t\tFunction to serialize a GFX surface to SVG text.\n\t\t\t// description:\n\t\t\t//\t\tFunction to serialize a GFX surface to SVG text.  The value of this output\n\t\t\t//\t\tis that there are numerous serverside parser libraries that can render\n\t\t\t//\t\tSVG into images in various formats.  This provides a way that GFX objects\n\t\t\t//\t\tcan be captured in a known format and sent serverside for serialization\n\t\t\t//\t\tinto an image.\n\t\t\t// surface:\n\t\t\t//\t\tThe GFX surface to serialize.\n\t\t\t// returns:\n\t\t\t//\t\tDeferred object that will be called when SVG serialization is complete.\n\t\t\n\t\t\t//Since the init and even surface creation can be async, we need to\n\t\t\t//return a deferred that will be called when content has serialized.\n\t\t\tvar deferred = new Deferred();\n\t\t\n\t\t\tif(g.renderer === \"svg\"){\n\t\t\t\t//If we're already in SVG mode, this is easy and quick.\n\t\t\t\ttry{\n\t\t\t\t\tvar svg = gu._cleanSvg(gu._innerXML(surface.rawNode));\n\t\t\t\t\tdeferred.callback(svg);\n\t\t\t\t}catch(e){\n\t\t\t\t\tdeferred.errback(e);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t//Okay, now we have to get creative with hidden iframes and the like to\n\t\t\t\t//serialize SVG.\n\t\t\t\tif (!gu._initSvgSerializerDeferred) {\n\t\t\t\t\tgu._initSvgSerializer();\n\t\t\t\t}\n\t\t\t\tvar jsonForm = gu.toJson(surface);\n\t\t\t\tvar serializer = function(){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tvar sDim = surface.getDimensions();\n\t\t\t\t\t\tvar width = sDim.width;\n\t\t\t\t\t\tvar\theight = sDim.height;\n\n\t\t\t\t\t\t//Create an attach point in the iframe for the contents.\n\t\t\t\t\t\tvar node = gu._gfxSvgProxy.document.createElement(\"div\");\n\t\t\t\t\t\tgu._gfxSvgProxy.document.body.appendChild(node);\n\t\t\t\t\t\t//Set the node scaling.\n\t\t\t\t\t\twin.withDoc(gu._gfxSvgProxy.document, function() {\n\t\t\t\t\t\t\thtml.style(node, \"width\", width);\n\t\t\t\t\t\t\thtml.style(node, \"height\", height);\n\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t//Create temp surface to render object to and render.\n\t\t\t\t\t\tvar ts = gu._gfxSvgProxy[dojox._scopeName].gfx.createSurface(node, width, height);\n\n\t\t\t\t\t\t//It's apparently possible that a suface creation is async, so we need to use\n\t\t\t\t\t\t//the whenLoaded function.  Probably not needed for SVG, but making it common\n\t\t\t\t\t\tvar draw = function(surface) {\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tgu._gfxSvgProxy[dojox._scopeName].gfx.utils.fromJson(surface, jsonForm);\n\n\t\t\t\t\t\t\t\t//Get contents and remove temp surface.\n\t\t\t\t\t\t\t\tvar svg = gu._cleanSvg(node.innerHTML);\n\t\t\t\t\t\t\t\tsurface.clear();\n\t\t\t\t\t\t\t\tsurface.destroy();\n\t\t\t\t\t\t\t\tgu._gfxSvgProxy.document.body.removeChild(node);\n\t\t\t\t\t\t\t\tdeferred.callback(svg);\n\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\tdeferred.errback(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tts.whenLoaded(null,draw);\n\t\t\t\t\t }catch (ex) {\n\t\t\t\t\t\tdeferred.errback(ex);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t//See if we can call it directly or pass it to the deferred to be\n\t\t\t\t//called on initialization.\n\t\t\t\tif(gu._initSvgSerializerDeferred.fired > 0){\n\t\t\t\t\tserializer();\n\t\t\t\t}else{\n\t\t\t\t\tgu._initSvgSerializerDeferred.addCallback(serializer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn deferred; //dojo.Deferred that will be called when serialization finishes.\n\t\t},\n\n\t\t//iFrame document used for handling SVG serialization.\n\t\t_gfxSvgProxy: null,\n\n\t\t//Serializer loaded.\n\t\t_initSvgSerializerDeferred: null,\n\n\t\t_svgSerializerInitialized: function() {\n\t\t\t// summary:\n\t\t\t//\t\tInternal function to call when the serializer init completed.\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t\tgu._initSvgSerializerDeferred.callback(true);\n\t\t},\n\n\t\t_initSvgSerializer: function(){\n\t\t\t// summary:\n\t\t\t//\t\tInternal function to initialize the hidden iframe where SVG rendering\n\t\t\t//\t\twill occur.\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t\tif(!gu._initSvgSerializerDeferred){\n\t\t\t\tgu._initSvgSerializerDeferred = new Deferred();\n\t\t\t\tvar f = win.doc.createElement(\"iframe\");\n\t\t\t\thtml.style(f, {\n\t\t\t\t\tdisplay: \"none\",\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\twidth: \"1em\",\n\t\t\t\t\theight: \"1em\",\n\t\t\t\t\ttop: \"-10000px\"\n\t\t\t\t});\n\t\t\t\tvar intv;\n\t\t\t\tif(has(\"ie\")){\n\t\t\t\t\tf.onreadystatechange = function(){\n\t\t\t\t\t\tif(f.contentWindow.document.readyState == \"complete\"){\n\t\t\t\t\t\t\tf.onreadystatechange = function() {};\n\t\t\t\t\t\t\tintv = setInterval(function() {\n\t\t\t\t\t\t\t\tif(f.contentWindow[kernel.scopeMap[\"dojo\"][1]._scopeName] &&\n\t\t\t\t\t\t\t\t   f.contentWindow[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx &&\n\t\t\t\t\t\t\t\t   f.contentWindow[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx.utils){\n\t\t\t\t\t\t\t\t\tclearInterval(intv);\n\t\t\t\t\t\t\t\t\tf.contentWindow.parent[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx.utils._gfxSvgProxy = f.contentWindow;\n\t\t\t\t\t\t\t\t\tf.contentWindow.parent[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx.utils._svgSerializerInitialized();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tf.onload = function(){\n\t\t\t\t\t\tf.onload = function() {};\n\t\t\t\t\t\tintv = setInterval(function() {\n\t\t\t\t\t\t\tif(f.contentWindow[kernel.scopeMap[\"dojo\"][1]._scopeName] &&\n\t\t\t\t\t\t\t   f.contentWindow[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx &&\n\t\t\t\t\t\t\t   f.contentWindow[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx.utils){\n\t\t\t\t\t\t\t\tclearInterval(intv);\n\t\t\t\t\t\t\t\tf.contentWindow.parent[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx.utils._gfxSvgProxy = f.contentWindow;\n\t\t\t\t\t\t\t\tf.contentWindow.parent[kernel.scopeMap[\"dojox\"][1]._scopeName].gfx.utils._svgSerializerInitialized();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 50);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t//We have to load the GFX SVG proxy frame.  Default is to use the one packaged in dojox.\n\t\t\t\tvar uri = (config[\"dojoxGfxSvgProxyFrameUrl\"]||require.toUrl(\"dojox/gfx/resources/gfxSvgProxyFrame.html\"));\n\t\t\t\tf.setAttribute(\"src\", uri.toString());\n\t\t\t\twin.body().appendChild(f);\n\t\t\t}\n\t\t},\n\n\t\t_innerXML: function(/*Node*/node){\n\t\t\t// summary:\n\t\t\t//\t\tImplementation of MS's innerXML function, borrowed from dojox.xml.parser.\n\t\t\t// node:\n\t\t\t//\t\tThe node from which to generate the XML text representation.\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t\tif(node.innerXML){\n\t\t\t\treturn node.innerXML;\t//String\n\t\t\t}else if(node.xml){\n\t\t\t\treturn node.xml;\t\t//String\n\t\t\t}else if(typeof XMLSerializer != \"undefined\"){\n\t\t\t\treturn (new XMLSerializer()).serializeToString(node);\t//String\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\t_cleanSvg: function(svg) {\n\t\t\t// summary:\n\t\t\t//\t\tInternal function that cleans up artifacts in extracted SVG content.\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\t\t\tif(svg){\n\t\t\t\t//Make sure the namespace is set.\n\t\t\t\tif(svg.indexOf(\"xmlns=\\\"http://www.w3.org/2000/svg\\\"\") == -1){\n\t\t\t\t\tsvg = svg.substring(4, svg.length);\n\t\t\t\t\tsvg = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\" + svg;\n\t\t\t\t}\n\t\t\t\t//Same for xmlns:xlink (missing in Chrome and Safari)\n\t\t\t\tif(svg.indexOf(\"xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\") == -1){\n\t\t\t\t\tsvg = svg.substring(4, svg.length);\n\t\t\t\t\tsvg = \"<svg xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\" + svg;\n\t\t\t\t}\n\t\t\t\t//and add namespace to href attribute if not done yet \n\t\t\t\t//(FF 5+ adds xlink:href but not the xmlns def)\n\t\t\t\tif(svg.indexOf(\"xlink:href\") === -1){\n\t\t\t\t\tsvg = svg.replace(/href\\s*=/g, \"xlink:href=\");\n\t\t\t\t}\n\t\t\t\t// in IE, <image are serialized as <img>\n\t\t\t\tsvg = svg.replace(/<img\\b([^>]*)>/gi,\"<image $1 />\");\n\t\t\t\t//Do some other cleanup, like stripping out the\n\t\t\t\t//dojoGfx attributes and quoting ids.\n\t\t\t\tsvg = svg.replace(/\\bdojoGfx\\w*\\s*=\\s*(['\"])\\w*\\1/g, \"\");\n\t\t\t\tsvg = svg.replace(/\\b__gfxObject__\\s*=\\s*(['\"])\\w*\\1/g, \"\");\n\t\t\t\tsvg = svg.replace(/[=]([^\"']+?)(\\s|>)/g,'=\"$1\"$2');\n\t\t\t\t\n\t\t\t\t// Undefined strokes (IE 8 seralization weirdness) should be removed to  \n\t\t\t\t// allow default.  'undefined' is not a valid value. \n\t\t\t\tsvg = svg.replace(/\\bstroke-opacity\\w*\\s*=\\s*(['\"])undefined\\1/g, \"\"); \t\t\t\t\n\t\t\t}\n\t\t\treturn svg;  //Cleaned SVG text.\n\t\t}\n\t});\n\n\treturn gu;\n});\n","define([\"./functional/lambda\", \"./functional/array\", \"./functional/object\"], function(df){\n\treturn df;\n});\n","define([\"dojo/_base/kernel\", \"dojo/_base/lang\", \"dojo/_base/array\", \"./lambda\"],\n\tfunction(kernel, lang, arr, df){\n\n// This module adds high-level functions and related constructs:\n//\t- array-processing functions similar to standard JS functions\n\n// Notes:\n//\t- this module provides JS standard methods similar to high-level functions in dojo/_base/array.js:\n//\t\tforEach, map, filter, every, some\n\n// Defined methods:\n//\t- take any valid lambda argument as the functional argument\n//\t- operate on dense arrays\n//\t- take a string as the array argument\n//\t- take an iterator objects as the array argument\n\n\tvar empty = {};\n\n\tlang.mixin(df, {\n\t\t// JS 1.6 standard array functions, which can take a lambda as a parameter.\n\t\t// Consider using dojo._base.array functions, if you don't need the lambda support.\n\t\tfilter: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a new array with all elements that pass the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar t = [], v, i, n;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tfor(i = 0, n = a.length; i < n; ++i){\n\t\t\t\t\tv = a[i];\n\t\t\t\t\tif(f.call(o, v, i, a)){ t.push(v); }\n\t\t\t\t}\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tfor(i = 0; a.hasNext();){\n\t\t\t\t\tv = a.next();\n\t\t\t\t\tif(f.call(o, v, i++, a)){ t.push(v); }\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tv = a[i];\n\t\t\t\t\t\tif(f.call(o, v, i, a)){ t.push(v); }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\t// Array\n\t\t},\n\t\tforEach: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\texecutes a provided function once per array element.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar i, n;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tfor(i = 0, n = a.length; i < n; f.call(o, a[i], i, a), ++i);\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tfor(i = 0; a.hasNext(); f.call(o, a.next(), i++, a));\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tf.call(o, a[i], i, a);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn o;\t// Object\n\t\t},\n\t\tmap: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a new array with the results of calling\n\t\t\t//\t\ta provided function on every element in this array.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar t, n, i;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tt = new Array(n = a.length);\n\t\t\t\tfor(i = 0; i < n; t[i] = f.call(o, a[i], i, a), ++i);\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tt = [];\n\t\t\t\tfor(i = 0; a.hasNext(); t.push(f.call(o, a.next(), i++, a)));\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tt = [];\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tt.push(f.call(o, a[i], i, a));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\t// Array\n\t\t},\n\t\tevery: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\ttests whether all elements in the array pass the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar i, n;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tfor(i = 0, n = a.length; i < n; ++i){\n\t\t\t\t\tif(!f.call(o, a[i], i, a)){\n\t\t\t\t\t\treturn false;\t// Boolean\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tfor(i = 0; a.hasNext();){\n\t\t\t\t\tif(!f.call(o, a.next(), i++, a)){\n\t\t\t\t\t\treturn false;\t// Boolean\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tif(!f.call(o, a[i], i, a)){\n\t\t\t\t\t\t\treturn false;\t// Boolean\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\t// Boolean\n\t\t},\n\t\tsome: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\ttests whether some element in the array passes the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar i, n;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tfor(i = 0, n = a.length; i < n; ++i){\n\t\t\t\t\tif(f.call(o, a[i], i, a)){\n\t\t\t\t\t\treturn true;\t// Boolean\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tfor(i = 0; a.hasNext();){\n\t\t\t\t\tif(f.call(o, a.next(), i++, a)){\n\t\t\t\t\t\treturn true;\t// Boolean\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tif(f.call(o, a[i], i, a)){\n\t\t\t\t\t\t\treturn true;\t// Boolean\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\t// Boolean\n\t\t}\n\t});\n\t\n\treturn df;\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/kernel\", \"./lambda\"],\n\tfunction(lang, arr, kernel, df){\n\n// This module adds high-level functions and related constructs:\n//\t- \"fold\" family of functions\n\n// Notes:\n//\t- missing high-level functions are provided with the compatible API:\n//\t\tfoldl, foldl1, foldr, foldr1\n//\t- missing JS standard functions are provided with the compatible API:\n//\t\treduce, reduceRight\n//\t- the fold's counterpart: unfold\n\n// Defined methods:\n//\t- take any valid lambda argument as the functional argument\n//\t- operate on dense arrays\n//\t- take a string as the array argument\n//\t- take an iterator objects as the array argument (only foldl, foldl1, and reduce)\n\n\tvar empty = {};\n\n\tlang.mixin(df, {\n\t\t// classic reduce-class functions\n\t\tfoldl: function(/*Array|String|Object*/ a, /*Function*/ f, /*Object*/ z, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\trepeatedly applies a binary function to an array from left\n\t\t\t//\t\tto right using a seed value as a starting point; returns the final\n\t\t\t//\t\tvalue.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar i, n;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tfor(i = 0, n = a.length; i < n; z = f.call(o, z, a[i], i, a), ++i);\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tfor(i = 0; a.hasNext(); z = f.call(o, z, a.next(), i++, a));\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tz = f.call(o, z, a[i], i, a);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn z;\t// Object\n\t\t},\n\t\tfoldl1: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\trepeatedly applies a binary function to an array from left\n\t\t\t//\t\tto right; returns the final value.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar z, i, n;\n\t\t\tif(lang.isArray(a)){\n\t\t\t\t// array\n\t\t\t\tz = a[0];\n\t\t\t\tfor(i = 1, n = a.length; i < n; z = f.call(o, z, a[i], i, a), ++i);\n\t\t\t}else if(typeof a.hasNext == \"function\" && typeof a.next == \"function\"){\n\t\t\t\t// iterator\n\t\t\t\tif(a.hasNext()){\n\t\t\t\t\tz = a.next();\n\t\t\t\t\tfor(i = 1; a.hasNext(); z = f.call(o, z, a.next(), i++, a));\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// object/dictionary\n\t\t\t\tvar first = true;\n\t\t\t\tfor(i in a){\n\t\t\t\t\tif(!(i in empty)){\n\t\t\t\t\t\tif(first){\n\t\t\t\t\t\t\tz = a[i];\n\t\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tz = f.call(o, z, a[i], i, a);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn z;\t// Object\n\t\t},\n\t\tfoldr: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object*/ z, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\trepeatedly applies a binary function to an array from right\n\t\t\t//\t\tto left using a seed value as a starting point; returns the final\n\t\t\t//\t\tvalue.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tfor(var i = a.length; i > 0; --i, z = f.call(o, z, a[i], i, a));\n\t\t\treturn z;\t// Object\n\t\t},\n\t\tfoldr1: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\trepeatedly applies a binary function to an array from right\n\t\t\t//\t\tto left; returns the final value.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar n = a.length, z = a[n - 1], i = n - 1;\n\t\t\tfor(; i > 0; --i, z = f.call(o, z, a[i], i, a));\n\t\t\treturn z;\t// Object\n\t\t},\n\t\t// JS 1.8 standard array functions, which can take a lambda as a parameter.\n\t\treduce: function(/*Array|String|Object*/ a, /*Function|String|Array*/ f, /*Object?*/ z){\n\t\t\t// summary:\n\t\t\t//\t\tapply a function simultaneously against two values of the array\n\t\t\t//\t\t(from left-to-right) as to reduce it to a single value.\n\t\t\treturn arguments.length < 3 ? df.foldl1(a, f) : df.foldl(a, f, z);\t// Object\n\t\t},\n\t\treduceRight: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ z){\n\t\t\t// summary:\n\t\t\t//\t\tapply a function simultaneously against two values of the array\n\t\t\t//\t\t(from right-to-left) as to reduce it to a single value.\n\t\t\treturn arguments.length < 3 ? df.foldr1(a, f) : df.foldr(a, f, z);\t// Object\n\t\t},\n\t\t// the fold's counterpart: unfold\n\t\tunfold: function(/*Function|String|Array*/ pr, /*Function|String|Array*/ f,\n\t\t\t\t\t\t/*Function|String|Array*/ g, /*Object*/ z, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tbuilds an array by unfolding a value\n\t\t\to = o || kernel.global; f = df.lambda(f); g = df.lambda(g); pr = df.lambda(pr);\n\t\t\tvar t = [];\n\t\t\tfor(; !pr.call(o, z); t.push(f.call(o, z)), z = g.call(o, z));\n\t\t\treturn t;\t// Array\n\t\t}\n\t});\n});\n","define([\"../..\", \"dojo/_base/lang\", \"dojo/_base/array\"], function(dojox, lang, arr){\n\tvar df = lang.getObject(\"lang.functional\", true, dojox);\n\n// This module adds high-level functions and related constructs:\n//\t- anonymous functions built from the string\n\n// Acknowledgements:\n//\t- lambda() is based on work by Oliver Steele\n//\t\t(http://osteele.com/sources/javascript/functional/functional.js)\n//\t\twhich was published under MIT License\n\n// Notes:\n//\t- lambda() produces functions, which after the compilation step are\n//\t\tas fast as regular JS functions (at least theoretically).\n\n// Lambda input values:\n//\t- returns functions unchanged\n//\t- converts strings to functions\n//\t- converts arrays to a functional composition\n\n\tvar lcache = {};\n\n\t// split() is augmented on IE6 to ensure the uniform behavior\n\tvar split = \"ab\".split(/a*/).length > 1 ? String.prototype.split :\n\t\t\tfunction(sep){\n\t\t\t\t var r = this.split.call(this, sep),\n\t\t\t\t\t m = sep.exec(this);\n\t\t\t\t if(m && m.index == 0){ r.unshift(\"\"); }\n\t\t\t\t return r;\n\t\t\t};\n\t\t\t\n\tvar lambda = function(/*String*/ s){\n\t\tvar args = [], sects = split.call(s, /\\s*->\\s*/m);\n\t\tif(sects.length > 1){\n\t\t\twhile(sects.length){\n\t\t\t\ts = sects.pop();\n\t\t\t\targs = sects.pop().split(/\\s*,\\s*|\\s+/m);\n\t\t\t\tif(sects.length){ sects.push(\"(function(\" + args.join(\", \") + \"){ return (\" + s + \"); })\"); }\n\t\t\t}\n\t\t}else if(s.match(/\\b_\\b/)){\n\t\t\targs = [\"_\"];\n\t\t}else{\n\t\t\tvar l = s.match(/^\\s*(?:[+*\\/%&|\\^\\.=<>]|!=)/m),\n\t\t\t\tr = s.match(/[+\\-*\\/%&|\\^\\.=<>!]\\s*$/m);\n\t\t\tif(l || r){\n\t\t\t\tif(l){\n\t\t\t\t\targs.push(\"$1\");\n\t\t\t\t\ts = \"$1\" + s;\n\t\t\t\t}\n\t\t\t\tif(r){\n\t\t\t\t\targs.push(\"$2\");\n\t\t\t\t\ts = s + \"$2\";\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// the point of the long regex below is to exclude all well-known\n\t\t\t\t// lower-case words from the list of potential arguments\n\t\t\t\tvar vars = s.\n\t\t\t\t\treplace(/(?:\\b[A-Z]|\\.[a-zA-Z_$])[a-zA-Z_$\\d]*|[a-zA-Z_$][a-zA-Z_$\\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"/g, \"\").\n\t\t\t\t\tmatch(/([a-z_$][a-z_$\\d]*)/gi) || [], t = {};\n\t\t\t\tarr.forEach(vars, function(v){\n\t\t\t\t\tif(!t.hasOwnProperty(v)){\n\t\t\t\t\t\targs.push(v);\n\t\t\t\t\t\tt[v] = 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn {args: args, body: s};\t// Object\n\t};\n\n\tvar compose = function(/*Array*/ a){\n\t\treturn a.length ?\n\t\t\t\t\tfunction(){\n\t\t\t\t\t\tvar i = a.length - 1, x = df.lambda(a[i]).apply(this, arguments);\n\t\t\t\t\t\tfor(--i; i >= 0; --i){ x = df.lambda(a[i]).call(this, x); }\n\t\t\t\t\t\treturn x;\n\t\t\t\t\t}\n\t\t\t\t:\n\t\t\t\t\t// identity\n\t\t\t\t\tfunction(x){ return x; };\n\t};\n\n\tlang.mixin(df, {\n\t\t// lambda\n\t\trawLambda: function(/*String*/ s){\n\t\t\t// summary:\n\t\t\t//\t\tbuilds a function from a snippet, or array (composing),\n\t\t\t//\t\treturns an object describing the function; functions are\n\t\t\t//\t\tpassed through unmodified.\n\t\t\t// description:\n\t\t\t//\t\tThis method is to normalize a functional representation (a\n\t\t\t//\t\ttext snippet) to an object that contains an array of\n\t\t\t//\t\targuments, and a body , which is used to calculate the\n\t\t\t//\t\treturning value.\n\t\t\treturn lambda(s);\t// Object\n\t\t},\n\t\tbuildLambda: function(/*String*/ s){\n\t\t\t// summary:\n\t\t\t//\t\tbuilds a function from a snippet, returns a string, which\n\t\t\t//\t\trepresents the function.\n\t\t\t// description:\n\t\t\t//\t\tThis method returns a textual representation of a function\n\t\t\t//\t\tbuilt from the snippet. It is meant to be evaled in the\n\t\t\t//\t\tproper context, so local variables can be pulled from the\n\t\t\t//\t\tenvironment.\n\t\t\tvar l = lambda(s);\n\t\t\treturn \"function(\" + l.args.join(\",\") + \"){return (\" + l.body + \");}\";\t// String\n\t\t},\n\t\tlambda: function(/*Function|String|Array*/ s){\n\t\t\t// summary:\n\t\t\t//\t\tbuilds a function from a snippet, or array (composing),\n\t\t\t//\t\treturns a function object; functions are passed through\n\t\t\t//\t\tunmodified.\n\t\t\t// description:\n\t\t\t//\t\tThis method is used to normalize a functional\n\t\t\t//\t\trepresentation (a text snippet, an array, or a function) to\n\t\t\t//\t\ta function object.\n\t\t\tif(typeof s == \"function\"){ return s; }\n\t\t\tif(s instanceof Array){ return compose(s); }\n\t\t\tif(lcache.hasOwnProperty(s)){ return lcache[s]; }\n\t\t\tvar l = lambda(s);\n\t\t\treturn lcache[s] = new Function(l.args, \"return (\" + l.body + \");\");\t// Function\n\t\t},\n\t\tclearLambdaCache: function(){\n\t\t\t// summary:\n\t\t\t//\t\tclears internal cache of lambdas\n\t\t\tlcache = {};\n\t\t}\n\t});\n\t\n\treturn df;\n});\n","define([\"dojo/_base/kernel\", \"dojo/_base/lang\", \"./lambda\"], function(kernel, lang, df){\n\n// This module adds high-level functions and related constructs:\n//\t- object/dictionary helpers\n\n// Defined methods:\n//\t- take any valid lambda argument as the functional argument\n//\t- skip all attributes that are present in the empty object\n//\t\t(IE and/or 3rd-party libraries).\n\n\tvar empty = {};\n\n\tlang.mixin(df, {\n\t\t// object helpers\n\t\tkeys: function(/*Object*/ obj){\n\t\t\t// summary:\n\t\t\t//\t\treturns an array of all keys in the object\n\t\t\tvar t = [];\n\t\t\tfor(var i in obj){\n\t\t\t\tif(!(i in empty)){\n\t\t\t\t\tt.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\tt; // Array\n\t\t},\n\t\tvalues: function(/*Object*/ obj){\n\t\t\t// summary:\n\t\t\t//\t\treturns an array of all values in the object\n\t\t\tvar t = [];\n\t\t\tfor(var i in obj){\n\t\t\t\tif(!(i in empty)){\n\t\t\t\t\tt.push(obj[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\tt; // Array\n\t\t},\n\t\tfilterIn: function(/*Object*/ obj, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tcreates new object with all attributes that pass the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar t = {}, v, i;\n\t\t\tfor(i in obj){\n\t\t\t\tif(!(i in empty)){\n\t\t\t\t\tv = obj[i];\n\t\t\t\t\tif(f.call(o, v, i, obj)){ t[i] = v; }\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\t// Object\n\t\t},\n\t\tforIn: function(/*Object*/ obj, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\titerates over all object attributes.\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tfor(var i in obj){\n\t\t\t\tif(!(i in empty)){\n\t\t\t\t\tf.call(o, obj[i], i, obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn o;\t// Object\n\t\t},\n\t\tmapIn: function(/*Object*/ obj, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tcreates new object with the results of calling\n\t\t\t//\t\ta provided function on every attribute in this object.\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar t = {}, i;\n\t\t\tfor(i in obj){\n\t\t\t\tif(!(i in empty)){\n\t\t\t\t\tt[i] = f.call(o, obj[i], i, obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\t// Object\n\t\t}\n\t});\n\t\n\treturn df;\n});\n","define([\"dojo/_base/lang\", \"dojo/_base/kernel\" ,\"./lambda\"],\n\tfunction(lang, kernel, df){\n// This module adds high-level functions and related constructs:\n//\t- reversed versions of array-processing functions similar to standard JS functions\n\n// Notes:\n//\t- this module provides reversed versions of standard array-processing functions:\n//\t\tforEachRev, mapRev, filterRev\n\n// Defined methods:\n//\t- take any valid lambda argument as the functional argument\n//\t- operate on dense arrays\n//\t- take a string as the array argument\n\n\tlang.mixin(df, {\n\t\t// JS 1.6 standard array functions, which can take a lambda as a parameter.\n\t\t// Consider using dojo._base.array functions, if you don't need the lambda support.\n\t\tfilterRev: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a new array with all elements that pass the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar t = [], v, i = a.length - 1;\n\t\t\tfor(; i >= 0; --i){\n\t\t\t\tv = a[i];\n\t\t\t\tif(f.call(o, v, i, a)){ t.push(v); }\n\t\t\t}\n\t\t\treturn t;\t// Array\n\t\t},\n\t\tforEachRev: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\texecutes a provided function once per array element.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tfor(var i = a.length - 1; i >= 0; f.call(o, a[i], i, a), --i);\n\t\t},\n\t\tmapRev: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\tcreates a new array with the results of calling\n\t\t\t//\t\ta provided function on every element in this array.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tvar n = a.length, t = new Array(n), i = n - 1, j = 0;\n\t\t\tfor(; i >= 0; t[j++] = f.call(o, a[i], i, a), --i);\n\t\t\treturn t;\t// Array\n\t\t},\n\t\teveryRev: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\ttests whether all elements in the array pass the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tfor(var i = a.length - 1; i >= 0; --i){\n\t\t\t\tif(!f.call(o, a[i], i, a)){\n\t\t\t\t\treturn false;\t// Boolean\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\t// Boolean\n\t\t},\n\t\tsomeRev: function(/*Array|String*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\n\t\t\t// summary:\n\t\t\t//\t\ttests whether some element in the array passes the test\n\t\t\t//\t\timplemented by the provided function.\n\t\t\tif(typeof a == \"string\"){ a = a.split(\"\"); }\n\t\t\to = o || kernel.global; f = df.lambda(f);\n\t\t\tfor(var i = a.length - 1; i >= 0; --i){\n\t\t\t\tif(f.call(o, a[i], i, a)){\n\t\t\t\t\treturn true;\t// Boolean\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\t// Boolean\n\t\t}\n\t});\n\t\n\treturn df;\n});\n","define([\"..\", \"dojo/_base/lang\"], \n  function(dojox, lang){\n\tvar du = lang.getObject(\"lang.utils\", true, dojox);\n\t\n\tvar empty = {}, opts = Object.prototype.toString;\n\n\tvar clone = function(o){\n\t\tif(o){\n\t\t\tswitch(opts.call(o)){\n\t\t\t\tcase \"[object Array]\":\n\t\t\t\t\treturn o.slice(0);\n\t\t\t\tcase \"[object Object]\":\n\t\t\t\t\treturn lang.delegate(o);\n\t\t\t}\n\t\t}\n\t\treturn o;\n\t}\n\t\n\tlang.mixin(du, {\n\t\tcoerceType: function(target, source){\n\t\t\t// summary:\n\t\t\t//\t\tCoerces one object to the type of another.\n\t\t\t// target: Object\n\t\t\t//\t\tobject, which typeof result is used to coerce \"source\" object.\n\t\t\t// source: Object\n\t\t\t//\t\tobject, which will be forced to change type.\n\t\t\tswitch(typeof target){\n\t\t\t\tcase \"number\":\treturn Number(eval(\"(\" + source + \")\"));\n\t\t\t\tcase \"string\":\treturn String(source);\n\t\t\t\tcase \"boolean\":\treturn Boolean(eval(\"(\" + source + \")\"));\n\t\t\t}\n\t\t\treturn eval(\"(\" + source + \")\");\n\t\t},\n\t\t\n\t\tupdateWithObject: function(target, source, conv){\n\t\t\t// summary:\n\t\t\t//\t\tUpdates an existing object in place with properties from an \"source\" object.\n\t\t\t// target: Object\n\t\t\t//\t\tthe \"target\" object to be updated\n\t\t\t// source: Object\n\t\t\t//\t\tthe \"source\" object, whose properties will be used to source the existed object.\n\t\t\t// conv: Boolean?\n\t\t\t//\t\tforce conversion to the original type\n\t\t\tif(!source){ return target; }\n\t\t\tfor(var x in target){\n\t\t\t\tif(x in source && !(x in empty)){\n\t\t\t\t\tvar t = target[x];\n\t\t\t\t\tif(t && typeof t == \"object\"){\n\t\t\t\t\t\tdu.updateWithObject(t, source[x], conv);\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttarget[x] = conv ? du.coerceType(t, source[x]) : clone(source[x]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn target;\t// Object\n\t\t},\n\t\n\t\tupdateWithPattern: function(target, source, pattern, conv){\n\t\t\t// summary:\n\t\t\t//\t\tUpdates an existing object in place with properties from an \"source\" object.\n\t\t\t// target: Object\n\t\t\t//\t\tthe \"target\" object to be updated\n\t\t\t// source: Object\n\t\t\t//\t\tthe \"source\" object, whose properties will be used to source the existed object.\n\t\t\t// pattern: Object\n\t\t\t//\t\tobject, whose properties will be used to pull values from the \"source\"\n\t\t\t// conv: Boolean?\n\t\t\t//\t\tforce conversion to the original type\n\t\t\tif(!source || !pattern){ return target; }\n\t\t\tfor(var x in pattern){\n\t\t\t\tif(x in source && !(x in empty)){\n\t\t\t\t\ttarget[x] = conv ? du.coerceType(pattern[x], source[x]) : clone(source[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn target;\t// Object\n\t\t},\n\t\t\n\t\tmerge: function(object, mixin){\n\t\t\t// summary:\n\t\t\t//\t\tMerge two objects structurally, mixin properties will override object's properties.\n\t\t\t// object: Object\n\t\t\t//\t\toriginal object.\n\t\t\t// mixin: Object\n\t\t\t//\t\tadditional object, which properties will override object's properties.\n\t\t\tif(mixin){\n\t\t\t\tvar otype = opts.call(object), mtype = opts.call(mixin), t, i, l, m;\n\t\t\t\tswitch(mtype){\n\t\t\t\t\tcase \"[object Array]\":\n\t\t\t\t\t\tif(mtype == otype){\n\t\t\t\t\t\t\tt = new Array(Math.max(object.length, mixin.length));\n\t\t\t\t\t\t\tfor(i = 0, l = t.length; i < l; ++i){\n\t\t\t\t\t\t\t\tt[i] = du.merge(object[i], mixin[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn t;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn mixin.slice(0);\n\t\t\t\t\tcase \"[object Object]\":\n\t\t\t\t\t\tif(mtype == otype && object){\n\t\t\t\t\t\t\tt = lang.delegate(object);\n\t\t\t\t\t\t\tfor(i in mixin){\n\t\t\t\t\t\t\t\tif(i in object){\n\t\t\t\t\t\t\t\t\tl = object[i];\n\t\t\t\t\t\t\t\t\tm = mixin[i];\n\t\t\t\t\t\t\t\t\tif(m !== l){\n\t\t\t\t\t\t\t\t\t\tt[i] = du.merge(l, m);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tt[i] = lang.clone(mixin[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn t;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn lang.clone(mixin);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn mixin;\n\t\t}\n\t});\n\t\n\treturn du;\n});\n","define([\"dojo/_base/kernel\"], function(dojo) {\n\t// module:\n\t//\t\tdojox/main\n\n\t/*=====\n\treturn {\n\t\t// summary:\n\t\t//\t\tThe dojox package main module; dojox package is somewhat unusual in that the main module currently just provides an empty object.\n\t\t//\t\tApps should require modules from the dojox packages directly, rather than loading this module.\n\t};\n\t=====*/\n\n\treturn dojo.dojox;\n});","define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/Stateful\"],\n  function(lang,declare,Stateful) {\n\tlang.getObject(\"string\", true, dojox);\n\n\tvar BidiEngine = declare(\"dojox.string.BidiEngine\", Stateful, {\n\t\t// summary:\n\t\t//\t\tThis class provides a bidi transformation engine, i.e.\n\t\t//\t\tfunctions for reordering and shaping bidi text.\n\t\t// description:\n\t\t//\t\tBidi stands for support for languages with a bidirectional script.\n\t\t//\n\t\t//\t\tUsually Unicode Bidi Algorithm used by OS platform (and web browsers) is capable of properly\n\t\t//\t\ttransforming Bidi text and as a result it is adequately displayed on the screen.\n\t\t//\t\tHowever, in some situations, Unicode Bidi Algorithm is not invoked or is not properly applied.\n\t\t//\t\tThis may occur in situation in which software responsible for rendering the text is not leveraging\n\t\t//\t\tUnicode Bidi Algorithm implemented by OS (e.g. GFX renderers).\n\t\t//\n\t\t//\t\tBidi engine provided in this class implements Unicode Bidi Algorithm as specified at\n\t\t//\t\thttp://www.unicode.org/reports/tr9/.\n\t\t//\n\t\t//\t\tFor more information on basic Bidi concepts please read\n\t\t//\t\t\"Bidirectional script support - A primer\" available from\n\t\t//\t\thttp://www.ibm.com/developerworks/websphere/library/techarticles/bidi/bidigen.html.\n\t\t//\n\t\t//\t\tAs of February 2011, Bidi engine has following limitations:\n\t\t//\n\t\t//\t\t1. No support for following numeric shaping options:\n\t\t//\t\t\t- H - Hindi,\n\t\t//\t\t\t- C - Contextual,\n\t\t//\t\t\t- N - Nominal.\n\t\t//\t\t2. No support for following shaping options:\n\t\t//\t\t\t- I - Initial shaping,\n\t\t//\t\t\t- M - Middle shaping,\n\t\t//\t\t\t- F - Final shaping,\n\t\t//\t\t\t- B - Isolated shaping.\n\t\t//\t\t3. No support for LRE/RLE/LRO/RLO/PDF (they are handled like neutrals).\n\t\t//\t\t4. No support for Windows compatibility.\n\t\t//\t\t5. No support for  insert/remove marks.\n\t\t//\t\t6. No support for code pages.\n\t\t//\n\n\t\t// Input Bidi layout in which inputText is passed to the function.\n\t\tinputFormat: \"ILYNN\",\n\n\t\t// Output Bidi layout to which inputText should be transformed.\n\t\toutputFormat: \"VLNNN\",\n\n\t\t// Array, containing positions of each character from the source text in the resulting text.\n\t\tsourceToTarget: [],\n\n\t\t// Array, containing positions of each character from the resulting text in the source text.\n\t\ttargetToSource: [],\n\n\t\t// Array, containing bidi level of each character from the source text\n\t\tlevels: [],\n\n\t\tbidiTransform: function (/*String*/text, /*String*/formatIn, /*String*/formatOut) {\n\t\t\t// summary:\n\t\t\t//\t\tCentral public API for Bidi engine. Transforms the text according to formatIn, formatOut\n\t\t\t//\t\tparameters. If formatIn or formatOut parametrs are not valid throws an exception.\n\t\t\t// inputText:\n\t\t\t//\t\tInput text subject to application of Bidi transformation.\n\t\t\t// formatIn:\n\t\t\t//\t\tInput Bidi layout in which inputText is passed to the function.\n\t\t\t// formatOut:\n\t\t\t//\t\tOutput Bidi layout to which inputText should be transformed.\n\t\t\t// description:\n\t\t\t//\t\tBoth formatIn and formatOut parameters are 5 letters long strings.\n\t\t\t//\t\tFor example - \"ILYNN\". Each letter is associated with specific attribute of Bidi layout.\n\t\t\t//\t\tPossible and default values for each one of the letters are provided below:\n\t\t\t//\n\t\t\t//\t\tFirst letter:\n\t\t\t//\n\t\t\t//\t\t- Letter position/index:\n\t\t\t//\t\t\t1\n\t\t\t//\t\t- Letter meaning:\n\t\t\t//\t\t\tOrdering Schema.\n\t\t\t//\t\t- Possible values:\n\t\t\t//\t\t\t- I - Implicit (Logical).\n\t\t\t//\t\t\t- V - Visual.\n\t\t\t//\t\t- Default value:\n\t\t\t//\t\t\tI\n\t\t\t//\n\t\t\t//\t\tSecond letter:\n\t\t\t//\n\t\t\t//\t\t- Letter position/index:\n\t\t\t//\t\t\t2\n\t\t\t//\t\t- Letter meaning:\n\t\t\t//\t\t\tOrientation.\n\t\t\t//\t\t- Possible values:\n\t\t\t//\t\t\t- L - Left To Right.\n\t\t\t//\t\t\t- R - Right To Left.\n\t\t\t//\t\t\t- C - Contextual Left to Right.\n\t\t\t//\t\t\t- D - Contextual Right to Left.\n\t\t\t//\t\t- Default value:\n\t\t\t//\t\t\tL\n\t\t\t//\n\t\t\t//\t\tThird letter:\n\t\t\t//\n\t\t\t//\t\t- Letter position/index:\n\t\t\t//\t\t\t3\n\t\t\t//\t\t- Letter meaning:\n\t\t\t//\t\t\tSymmetric Swapping.\n\t\t\t//\t\t- Possible values:\n\t\t\t//\t\t\t- Y - Symmetric swapping is on.\n\t\t\t//\t\t\t- N - Symmetric swapping is off.\n\t\t\t//\t\t- Default value:\n\t\t\t//\t\t\tY\n\t\t\t//\n\t\t\t//\t\tFourth letter:\n\t\t\t//\n\t\t\t//\t\t- Letter position/index:\n\t\t\t//\t\t\t4\n\t\t\t//\t\t- Letter meaning:\n\t\t\t//\t\t\tShaping.\n\t\t\t//\t\t- Possible values:\n\t\t\t//\t\t\t- S - Text is shaped.\n\t\t\t//\t\t\t- N - Text is not shaped.\n\t\t\t//\t\t- Default value:\n\t\t\t//\t\t\tN\n\t\t\t//\n\t\t\t//\t\tFifth letter:\n\t\t\t//\n\t\t\t//\t\t- Letter position/index:\n\t\t\t//\t\t\t5\n\t\t\t//\t\t- Letter meaning:\n\t\t\t//\t\t\tNumeric Shaping.\n\t\t\t//\t\t- Possible values:\n\t\t\t//\t\t\t- N - Nominal.\n\t\t\t//\t\t- Default value:\n\t\t\t//\t\t\tN\n\t\t\t//\n\t\t\t//\t\tThe output of this function is original text (passed via first argument) transformed from\n\t\t\t//\t\tinput Bidi layout (second argument) to output Bidi layout (last argument).\n\t\t\t//\n\t\t\t//\t\tSample call:\n\t\t\t//\t|\tmytext = bidiTransform(\"HELLO WORLD\", \"ILYNN\", \"VLYNN\");\n\t\t\t//\t\tIn this case, \"HELLO WORLD\" text is transformed from Logical - LTR to Visual - LTR Bidi layout\n\t\t\t//\t\twith default values for symmetric swapping (Yes), shaping (Not shaped) and numeric shaping\n\t\t\t//\t\t(Nominal).\n\t\t\t// returns: String\n\t\t\t//\t\tOriginal text transformed from input Bidi layout (second argument)\n\t\t\t//\t\tto output Bidi layout (last argument).\n\t\t\t//\t\tThrows an exception if the bidi layout strings are not valid.\n\t\t\t// tags:\n\t\t\t//\t\tpublic\n\n\t\t\tthis.sourceToTarget = [];\n\t\t\tthis.targetToSource = [];\n\t\t\tif (!text) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t\tinitMaps(this.sourceToTarget, this.targetToSource, text.length);\n\t\t\tif (!this.checkParameters(formatIn, formatOut)) {\n\t\t\t\treturn text;\n\t\t\t}\n\n\t\t\tformatIn = this.inputFormat;\n\t\t\tformatOut = this.outputFormat;\n\t\t\tvar result = text;\n\t\t\tvar bdx = BDX;\n\t\t\tvar orientIn = getOrientation(formatIn.charAt(1)),\n\t\t\t\torientOut = getOrientation(formatOut.charAt(1)),\n\t\t\t\tosIn = (formatIn.charAt(0) === \"I\") ? \"L\" : formatIn.charAt(0),\n\t\t\t\tosOut = (formatOut.charAt(0) === \"I\") ? \"L\" : formatOut.charAt(0),\n\t\t\t\tinFormat = osIn + orientIn,\n\t\t\t\toutFormat = osOut + orientOut,\n\t\t\t\tswap = formatIn.charAt(2) + formatOut.charAt(2);\n\n\t\t\tbdx.defInFormat = inFormat;\n\t\t\tbdx.defOutFormat = outFormat;\n\t\t\tbdx.defSwap = swap;\n\n\t\t\tvar stage1Text = doBidiReorder(text, inFormat, outFormat, swap, bdx),\n\t\t\t\tisRtl = false;\n\n\t\t\tif (formatOut.charAt(1) === \"R\") {\n\t\t\t\tisRtl = true;\n\t\t\t} else if (formatOut.charAt(1) === \"C\" || formatOut.charAt(1) === \"D\") {\n\t\t\t\tisRtl = this.checkContextual(stage1Text);\n\t\t\t}\n\n\t\t\tthis.sourceToTarget = stMap;\n\t\t\tthis.targetToSource = reverseMap(this.sourceToTarget);\n\t\t\ttsMap = this.targetToSource;\n\n\t\t\tif (formatIn.charAt(3) === formatOut.charAt(3)) {\n\t\t\t\tresult = stage1Text;\n\t\t\t} else if (formatOut.charAt(3) === \"S\") {\n\t\t\t\tresult = shape(isRtl, stage1Text, true);\n\t\t\t} else {  //formatOut.charAt(3) === \"N\"\n\t\t\t\tresult = deshape(stage1Text, isRtl, true);\n\t\t\t}\n\t\t\tthis.sourceToTarget = stMap;\n\t\t\tthis.targetToSource = tsMap;\n\t\t\tthis.levels = lvMap;\n\t\t\treturn result;\n\t\t},\n\n\t\t_inputFormatSetter: function (format) {\n\t\t\tif (!validFormat.test(format)) {\n\t\t\t\tthrow new Error(\"dojox/string/BidiEngine: the bidi layout string is wrong!\");\n\t\t\t}\n\t\t\tthis.inputFormat = format;\n\t\t},\n\n\t\t_outputFormatSetter: function (format) {\n\t\t\tif (!validFormat.test(format)) {\n\t\t\t\tthrow new Error(\"dojox/string/BidiEngine: the bidi layout string is wrong!\");\n\t\t\t}\n\t\t\tthis.outputFormat = format;\n\t\t},\n\n\t\tcheckParameters: function (/*String*/formatIn, /*String*/formatOut) {\n\t\t\t// summary:\n\t\t\t//\t\tChecks layout parameters.\n\t\t\t// formatIn:\n\t\t\t//\t\tInput Bidi layout in which inputText is passed to the function.\n\t\t\t// formatOut:\n\t\t\t//\t\tOutput Bidi layout to which inputText should be transformed.\n\t\t\t// description:\n\t\t\t//\t\tChecks, that layout parameters are different and contain allowed values.\n\t\t\t//\t\tAllowed values for format string are:\n\t\t\t//\t\t\t- 1st letter: I, V\n\t\t\t//\t\t\t- 2nd letter: L, R, C, D\n\t\t\t//\t\t\t- 3rd letter: Y, N\n\t\t\t//\t\t\t- 4th letter: S, N\n\t\t\t//\t\t\t- 5th letter: N\n\t\t\t// returns: /*Boolean*/\n\t\t\t//\t\ttrue - if layout parameters are valid.\n\t\t\t//\t\tfalse - otherwise.\n\t\t\t// tags:\n\t\t\t//\t\tprivate\n\n\t\t\tif (!formatIn) {\n\t\t\t\tformatIn = this.inputFormat;\n\t\t\t} else {\n\t\t\t\tthis.set(\"inputFormat\", formatIn);\n\t\t\t}\n\t\t\tif (!formatOut) {\n\t\t\t\tformatOut = this.outputFormat;\n\t\t\t} else {\n\t\t\t\tthis.set(\"outputFormat\", formatOut);\n\t\t\t}\n\t\t\tif (formatIn === formatOut) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tcheckContextual: function (/*String*/text) {\n\t\t\t// summary:\n\t\t\t//\t\tDetermine the base direction of a bidi text according\n\t\t\t//\t\tto its first strong directional character.\n\t\t\t// text:\n\t\t\t//\t\tThe text to check.\n\t\t\t// returns: /*String*/\n\t\t\t//\t\t\"ltr\" or \"rtl\" according to the first strong character.\n\t\t\t//\t\tIf there is no strong character, returns the value of the\n\t\t\t//\t\tdocument dir property.\n\t\t\t// tags:\n\t\t\t//\t\tpublic\n\t\t\tvar dir = firstStrongDir(text);\n\t\t\tif (dir !== \"ltr\" && dir !== \"rtl\") {\n\t\t\t\ttry {\n\t\t\t\t\tdir = document.dir.toLowerCase();\n\t\t\t\t} catch (e) {\n\t\t\t\t}\n\t\t\t\tif (dir !== \"ltr\" && dir !== \"rtl\") {\n\t\t\t\t\tdir = \"ltr\";\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dir;\n\t\t},\n\n\t\thasBidiChar: function (/*String*/text) {\n\t\t\t// summary:\n\t\t\t//\t\tReturn true if text contains RTL directed character.\n\t\t\t// text:\n\t\t\t//\t\tThe source string.\n\t\t\t// description:\n\t\t\t//\t\tSearches for RTL directed character.\n\t\t\t//\t\tReturns true if found, else returns false.\n\t\t\t// returns: /*Boolean*/\n\t\t\t//\t\ttrue - if text has a RTL directed character.\n\t\t\t//\t\tfalse - otherwise.\n\t\t\t// tags:\n\t\t\t//\t\tpublic\n\n\t\t    return bidiChars.test(text);\n\t\t}\n\t});\n\n\tfunction doBidiReorder(/*String*/text, /*String*/inFormat,\n\t\t\t\t/*String*/outFormat, /*String*/swap, /*Object*/bdx) {\n\t\t// summary:\n\t\t//\t\tReorder the source text according to the bidi attributes\n\t\t//\t\tof source and result.\n\t\t// text:\n\t\t//\t\tThe text to reorder.\n\t\t// inFormat:\n\t\t//\t\tOrdering scheme and base direction of the source text.\n\t\t//\t\tCan be \"LLTR\", \"LRTL\", \"LCLR\", \"LCRL\", \"VLTR\", \"VRTL\",\n\t\t//\t\t\"VCLR\", \"VCRL\".\n\t\t//\t\tThe first letter is \"L\" for logical ordering scheme,\n\t\t//\t\t\"V\" for visual ordering scheme.\n\t\t//\t\tThe other letters specify the base direction.\n\t\t//\t\t\"CLR\" means contextual direction defaulting to LTR if\n\t\t//\t\tthere is no strong letter.\n\t\t//\t\t\"CRL\" means contextual direction defaulting to RTL if\n\t\t//\t\tthere is no strong letter.\n\t\t//\t\tThe initial value is \"LLTR\", if none, the initial value is used.\n\t\t// outFormat:\n\t\t//\t\tRequired ordering scheme and base direction of the\n\t\t//\t\tresult. Has the same format as inFormat.\n\t\t//\t\tIf none, the initial value \"VLTR\" is used.\n\t\t// swap:\n\t\t//\t\tSymmetric swapping attributes of source and result.\n\t\t//\t\tThe allowed values can be \"YN\", \"NY\", \"YY\" and \"NN\".\n\t\t//\t\tThe first letter reflects the symmetric swapping attribute\n\t\t//\t\tof the source, the second letter that of the result.\n\t\t// bdx: Object\n\t\t//\t\tUsed for intermediate data storage\n\t\t// returns:\n\t\t//\t\tText reordered according to source and result attributes.\n\n\t\tvar params = prepareReorderingParameters(text, {inFormat: inFormat, outFormat: outFormat, swap: swap}, bdx);\n\t\tif (params.inFormat === params.outFormat) {\n\t\t\treturn text;\n\t\t}\n\t\tinFormat = params.inFormat;\n\t\toutFormat = params.outFormat;\n\t\tswap = params.swap;\n\t\tvar inOrdering = inFormat.substring(0, 1),\n\t\tinOrientation = inFormat.substring(1, 4),\n\t\toutOrdering = outFormat.substring(0, 1),\n\t\toutOrientation = outFormat.substring(1, 4);\n\t\tbdx.inFormat = inFormat;\n\t\tbdx.outFormat = outFormat;\n\t\tbdx.swap = swap;\n\t\tif ((inOrdering === \"L\") && (outFormat === \"VLTR\")) { //core cases\n\t\t\t//cases: LLTR->VLTR, LRTL->VLTR\n\t\t\tif (inOrientation === \"LTR\") {\n\t\t\t\tbdx.dir = LTR;\n\t\t\t\treturn doReorder(text, bdx);\n\t\t\t}\n\t\t\tif (inOrientation === \"RTL\") {\n\t\t\t\tbdx.dir = RTL;\n\t\t\t\treturn doReorder(text, bdx);\n\t\t\t}\n\t\t}\n\t\tif ((inOrdering === \"V\") && (outOrdering === \"V\")) {\n\t\t\t//inOrientation != outOrientation\n\t\t\t//cases: VRTL->VLTR, VLTR->VRTL\n\t\t\tbdx.dir = inOrientation === \"RTL\"? RTL : LTR;\n\t\t\treturn invertStr(text, bdx);\n\t\t}\n\t\tif ((inOrdering === \"L\") && (outFormat === \"VRTL\")) {\n\t\t\t//cases: LLTR->VRTL, LRTL->VRTL\n\t\t\tif (inOrientation === \"LTR\") {\n\t\t\t\tbdx.dir = LTR;\n\t\t\t\ttext = doReorder(text, bdx);\n\t\t\t} else {\n\t\t\t\t//inOrientation == RTL\n\t\t\t\tbdx.dir = RTL;\n\t\t\t\ttext = doReorder(text, bdx);\n\t\t\t}\n\t\t\treturn invertStr(text);\n\t\t}\n\t\tif ((inFormat === \"VLTR\") && (outFormat === \"LLTR\")) {\n\t\t\t//case: VLTR->LLTR\n\t\t\tbdx.dir = LTR;\n\t\t\treturn doReorder(text, bdx);\n\t\t}\n\t\tif ((inOrdering === \"V\") && (outOrdering === \"L\") && (inOrientation !== outOrientation)) {\n\t\t\t//cases: VLTR->LRTL, VRTL->LLTR\n\t\t\ttext = invertStr(text);\n\t\t\treturn (inOrientation === \"RTL\") ? doBidiReorder(text, \"LLTR\", \"VLTR\", swap, bdx) :\n\t\t\t\t\t\t\t\t\t\t\t\tdoBidiReorder(text, \"LRTL\", \"VRTL\", swap, bdx);\n\t\t}\n\t\tif ((inFormat === \"VRTL\") && (outFormat === \"LRTL\")) {\n\t\t\t//case VRTL->LRTL\n\t\t\treturn doBidiReorder(text, \"LRTL\", \"VRTL\", swap, bdx);\n\t\t}\n\t\tif ((inOrdering === \"L\") && (outOrdering === \"L\")) {\n\t\t\t//inOrientation != outOrientation\n\t\t\t//cases: LRTL->LLTR, LLTR->LRTL\n\t\t\tvar saveSwap = bdx.swap;\n\t\t\tbdx.swap = saveSwap.substr(0, 1) + \"N\";\n\t\t\tif (inOrientation === \"RTL\") {\n\t\t\t\t//LRTL->LLTR\n\t\t\t\tbdx.dir = RTL;\n\t\t\t\ttext = doReorder(text, bdx);\n\t\t\t\tbdx.swap = \"N\" + saveSwap.substr(1, 2);\n\t\t\t\tbdx.dir = LTR;\n\t\t\t\ttext = doReorder(text, bdx);\n\t\t\t} else { //LLTR->LRTL\n\t\t\t\tbdx.dir = LTR;\n\t\t\t\ttext = doReorder(text, bdx);\n\t\t\t\tbdx.swap = \"N\" + saveSwap.substr(1, 2);\n\t\t\t\ttext = doBidiReorder(text, \"VLTR\", \"LRTL\", bdx.swap, bdx);\n\t\t\t}\n\t\t\treturn text;\n\t\t}\n\t}\n\n\tfunction prepareReorderingParameters(/*String*/text, /*Object*/params, /*Object*/bdx) {\n\t\t// summary:\n\t\t//\t\tPrepare reordering parameters\n\t\t// text:\n\t\t//\t\tThe text to reorder.\n\t\t// params:\n\t\t//      Object, containing reordering parameters:\n\t\t//         - inFormat: Ordering scheme and base direction of the source text.\n\t\t//         - outFormat: Required ordering scheme and base direction of the result.\n\t\t//         - swap: Symmetric swapping attributes of source and result.\n\t\t// bdx: Object\n\t\t//\t\tUsed for intermediate data storage\n\t\t// tags:\n\t\t//\t\tprivate\n\n\t\tif (params.inFormat === undefined) {\n\t\t\tparams.inFormat = bdx.defInFormat;\n\t\t}\n\t\tif (params.outFormat === undefined) {\n\t\t\tparams.outFormat = bdx.defOutFormat;\n\t\t}\n\t\tif (params.swap === undefined) {\n\t\t\tparams.swap = bdx.defSwap;\n\t\t}\n\t\tif (params.inFormat === params.outFormat) {\n\t\t\treturn params;\n\t\t}\n\t\tvar dir, inOrdering = params.inFormat.substring(0, 1),\n\t\tinOrientation = params.inFormat.substring(1, 4),\n\t\toutOrdering = params.outFormat.substring(0, 1),\n\t\toutOrientation = params.outFormat.substring(1, 4);\n\t\tif (inOrientation.charAt(0) === \"C\") {\n\t\t\tdir = firstStrongDir(text);\n\t\t\tif (dir === \"ltr\" || dir === \"rtl\") {\n\t\t\t\tinOrientation = dir.toUpperCase();\n\t\t\t} else {\n\t\t\t\tinOrientation = params.inFormat.charAt(2) === \"L\" ? \"LTR\" : \"RTL\";\n\t\t\t}\n\t\t\tparams.inFormat = inOrdering + inOrientation;\n\t\t}\n\t\tif (outOrientation.charAt(0) === \"C\") {\n\t\t\tdir = firstStrongDir(text);\n\t\t\tif (dir === \"rtl\") {\n\t\t\t\toutOrientation = \"RTL\";\n\t\t\t} else if (dir === \"ltr\") {\n\t\t\t\tdir = lastStrongDir(text);\n\t\t\t\toutOrientation = dir.toUpperCase();\n\t\t\t} else {\n\t\t\t\toutOrientation = params.outFormat.charAt(2) === \"L\" ? \"LTR\" : \"RTL\";\n\t\t\t}\n\t\t\tparams.outFormat = outOrdering + outOrientation;\n\t\t}\n\t\treturn params;\n\t}\n\n\tfunction shape(/*boolean*/rtl, /*String*/text, /*boolean*/compress) {\n\t\t// summary:\n\t\t//\t\tShape the source text.\n\t\t// rtl:\n\t\t//\t\tFlag indicating if the text is in RTL direction (logical\n\t\t//\t\tdirection for Arabic words).\n\t\t// text:\n\t\t//\t\tThe text to shape.\n\t\t// compress:\n\t\t//\t\tA flag indicates to insert extra space after the lam alef compression\n\t\t//\t\tto preserve the buffer size or not insert an extra space which will lead\n\t\t//\t\tto decrease the buffer size. This option can be:\n\t\t//\n\t\t//\t\t- true (default) to not insert extra space after compressing Lam+Alef into one character Lamalef\n\t\t//\t\t- false to insert an extra space after compressed Lamalef to preserve the buffer size\n\t\t// returns:\n\t\t//\t\ttext shaped.\n\t\t// tags:\n\t\t//\t\tprivate.\n\n\t\tif (text.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (rtl === undefined) {\n\t\t\trtl = true;\n\t\t}\n\t\tif (compress === undefined) {\n\t\t\tcompress = true;\n\t\t}\n\t\ttext = String(text);\n\n\t\tvar str06 = text.split(\"\"),\n\t\t\tIx = 0,\n\t\t\tstep = +1,\n\t\t\tnIEnd = str06.length;\n\t\tif (!rtl) {\n\t\t\tIx = str06.length - 1;\n\t\t\tstep = -1;\n\t\t\tnIEnd = 1;\n\t\t}\n\t\tvar compressArray = doShape(str06, Ix, step, nIEnd, compress);\n\t\tvar outBuf = \"\";\n\t\tfor (var idx = 0; idx < str06.length; idx++) {\n\t\t\tif (!(compress && indexOf(compressArray, compressArray.length, idx) > -1)) {\n\t\t\t\toutBuf += str06[idx];\n\t\t\t} else {\n\t\t\t\tupdateMap(tsMap, idx, !rtl, -1);\n\t\t\t\tstMap.splice(idx, 1);\n\t\t\t}\n\t\t}\n\t\treturn outBuf;\n\t}\n\n\tfunction doShape(str06, Ix, step, nIEnd, compress) {\n\t\t// summary:\n\t\t//\t\tShape the source text.\n\t\t// str06:\n\t\t//\t\tArray containing source text\n\t\t// Ix:\n\t\t//\t\tIndex of the first handled element\n\t\t// step:\n\t\t//\t\tdirection of the process\n\t\t// nIEnd:\n\t\t//\t\tIndex of the last handled element\n\t\t// compress:\n\t\t//\t\tA flag indicates to insert extra space after the lam alef compression\n\t\t//\t\tto preserve the buffer size or not insert an extra space which will lead\n\t\t//\t\tto decrease the buffer size.\n\t\t// returns:\n\t\t//\t\tArray, contained shaped text.\n\t\t// tags:\n\t\t//\t\tprivate.\n\n\t\tvar previousCursive = 0, compressArray = [], compressArrayIndx = 0;\n\t\tfor (var index = Ix; index * step < nIEnd; index = index + step) {\n\t\t\tif (isArabicAlefbet(str06[index]) || isArabicDiacritics(str06[index])) {\n\t\t\t\t// Arabic letter Lam\n\t\t\t\tif (str06[index] === \"\\u0644\" && isNextAlef(str06, (index + step), step, nIEnd)) {\n\t\t\t\t\tstr06[index] = (previousCursive === 0) ?\n\t\t\t\t\t\t\tgetLamAlefFE(str06[index + step], LamAlefInialTableFE) :\n\t\t\t\t\t\t\tgetLamAlefFE(str06[index + step], LamAlefMedialTableFE);\n\t\t\t\t\tindex += step;\n\t\t\t\t\tsetAlefToSpace(str06, index, step, nIEnd);\n\t\t\t\t\tif (compress) {\n\t\t\t\t\t\tcompressArray[compressArrayIndx] = index;\n\t\t\t\t\t\tcompressArrayIndx++;\n\t\t\t\t\t}\n\t\t\t\t\tpreviousCursive = 0;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tvar currentChr = str06[index];\n\t\t\t\tif (previousCursive === 1) {\n\t\t\t\t\t// if next is Arabic\n\t\t\t\t\t// Character is in medial form\n\t\t\t\t\t// else character is in final form\n\t\t\t\t\tstr06[index] = (isNextArabic(str06, (index + step), step, nIEnd)) ?\n\t\t\t\t\t\tgetMedialFormCharacterFE(str06[index]) : getFormCharacterFE(str06[index], FinalForm);\n\t\t\t\t} else {\n\t\t\t\t\tif (isNextArabic(str06, (index + step), step, nIEnd) === true) {\n\t\t\t\t\t\t//character is in Initial form\n\t\t\t\t\t\tstr06[index] = getFormCharacterFE(str06[index], InitialForm);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr06[index] = getFormCharacterFE(str06[index], IsolatedForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//exam if the current character is cursive\n\t\t\t\tif (!isArabicDiacritics(currentChr)) {\n\t\t\t\t\tpreviousCursive = 1;\n\t\t\t\t}\n\t\t\t\tif (isStandAlonCharacter(currentChr) === true) {\n\t\t\t\t\tpreviousCursive = 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpreviousCursive = 0;\n\t\t\t}\n\t\t}\n\t\treturn compressArray;\n\t}\n\n\tfunction firstStrongDir(/*String*/text) {\n\t\t// summary:\n\t\t//\t\tReturn the first strong character direction\n\t\t// text:\n\t\t//\t\tThe source string.\n\t\t// description:\n\t\t//\t\tSearches for first \"strong\" character.\n\t\t//\t\tReturns if strong character was found with the direction defined by this\n\t\t//\t\tcharacter, if no strong character was found returns an empty string.\n\t\t// returns: String\n\t\t//\t\t\"ltr\" - if the first strong character is Latin.\n\t\t//\t\t\"rtl\" - if the first strong character is RTL directed character.\n\t\t//\t\t\"\" - if the strong character wasn't found.\n\t\t// tags:\n\t\t//\t\tprivate\n\n\t\tvar fdc = /[A-Za-z\\u05d0-\\u065f\\u066a-\\u06ef\\u06fa-\\u07ff\\ufb1d-\\ufdff\\ufe70-\\ufefc]/.exec(text);\n\t\t// if found return the direction that defined by the character\n\t\treturn fdc ? (fdc[0] <= \"z\" ? \"ltr\" : \"rtl\") : \"\";\n\t}\n\n\tfunction lastStrongDir(text) {\n\t\t// summary:\n\t\t//\t\tReturn the last strong character direction\n\t\t// text:\n\t\t//\t\tThe source string.\n\t\t// description:\n\t\t//\t\tSearches for first (from the end) \"strong\" character.\n\t\t//\t\tReturns if strong character was found with the direction defined by this\n\t\t//\t\tcharacter, if no strong character was found returns an empty string.\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tvar chars = text.split(\"\");\n\t\tchars.reverse();\n\t\treturn firstStrongDir(chars.join(\"\"));\n\t}\n\n\tfunction deshape(/*String*/text, /*boolean*/rtl, /*boolean*/consumeNextSpace) {\n\t\t// summary:\n\t\t//\t\tdeshape the source text.\n\t\t// text:\n\t\t//\t\tthe text to be deshape.\n\t\t// rtl:\n\t\t//\t\tflag indicating if the text is in RTL direction (logical\n\t\t//\t\tdirection for Arabic words).\n\t\t// consumeNextSpace:\n\t\t//\t\tflag indicating whether to consume the space next to the\n\t\t//\t\tthe lam alef if there is a space followed the Lamalef character to preserve the buffer size.\n\t\t//\t\tIn case there is no space next to the lam alef the buffer size will be increased due to the\n\t\t//\t\texpansion of the lam alef one character into lam+alef two characters\n\t\t// returns:\n\t\t//\t\ttext deshaped.\n\t\tif (text.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (consumeNextSpace === undefined) {\n\t\t\tconsumeNextSpace = true;\n\t\t}\n\t\tif (rtl === undefined) {\n\t\t\trtl = true;\n\t\t}\n\t\ttext = String(text);\n\n\t\tvar outBuf = \"\", strFE = [];\n\t\tstrFE = text.split(\"\");\n\t\tfor (var i = 0; i < text.length; i++) {\n\t\t\tvar increase = false;\n\t\t\tif (strFE[i] >= \"\\uFE70\" && strFE[i] < \"\\uFEFF\") {\n\t\t\t\tvar chNum = text.charCodeAt(i);\n\t\t\t\tif (strFE[i] >= \"\\uFEF5\" && strFE[i] <= \"\\uFEFC\") {\n\t\t\t\t\t//expand the LamAlef\n\t\t\t\t\tif (rtl) {\n\t\t\t\t\t\t//Lam + Alef\n\t\t\t\t\t\tif (i > 0 && consumeNextSpace && strFE[i - 1] === \" \") {\n\t\t\t\t\t\t\toutBuf = outBuf.substring(0, outBuf.length - 1) + \"\\u0644\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toutBuf += \"\\u0644\";\n\t\t\t\t\t\t\tincrease = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutBuf += AlefTable[(chNum - 65269) / 2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutBuf += AlefTable[(chNum - 65269) / 2];\n\t\t\t\t\t\toutBuf += \"\\u0644\";\n\t\t\t\t\t\tif (i + 1 < text.length && consumeNextSpace && strFE[i + 1] === \" \") {\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tincrease = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (increase) {\n\t\t\t\t\t\tupdateMap(tsMap, i, true, 1);\n\t\t\t\t\t\tstMap.splice(i, 0, stMap[i]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutBuf += FETo06Table[chNum - 65136];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutBuf += strFE[i];\n\t\t\t}\n\t\t}\n\t\treturn outBuf;\n\t}\n\n\tfunction doReorder(str, bdx) {\n\t\t// summary:\n\t\t//\t\tHelper to the doBidiReorder. Manages the UBA.\n\t\t// str:\n\t\t//\t\tthe string to reorder.\n\t\t// bdx: Object\n\t\t//\t\tUsed for intermediate data storage\n\t\t// returns:\n\t\t//\t\ttext reordered according to source and result attributes.\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tvar chars = str.split(\"\"), levels = [];\n\n\t\tcomputeLevels(chars, levels, bdx);\n\t\tswapChars(chars, levels, bdx);\n\t\tinvertLevel(2, chars, levels, bdx);\n\t\tinvertLevel(1, chars, levels, bdx);\n\t\tlvMap = levels;\n\t\treturn chars.join(\"\");\n\t}\n\n\tfunction computeLevels(chars, levels, bdx) {\n\t\tvar len = chars.length,\n\t\t\timpTab = bdx.dir ? impTabRtl : impTabLtr,\n\t\t\tprevState = null, newClass = null, newLevel = null, newState = 0,\n\t\t\taction = null, cond = null, condPos = -1, i = null, ix = null,\n\t\t\ttypes = [],\n\t\t\tclasses = [];\n\t\tbdx.hiLevel = bdx.dir;\n\t\tbdx.lastArabic = false;\n\t\tbdx.hasUbatAl = false;\n\t\tbdx.hasUbatB = false;\n\t\tbdx.hasUbatS = false;\n\t\tfor (i = 0; i < len; i++) {\n\t\t\ttypes[i] = getCharacterType(chars[i]);\n\t\t}\n\t\tfor (ix = 0; ix < len; ix++) {\n\t\t\tprevState = newState;\n\t\t\tclasses[ix] = newClass = getCharClass(chars, types, classes, ix, bdx);\n\t\t\tnewState = impTab[prevState][newClass];\n\t\t\taction = newState & 0xF0;\n\t\t\tnewState &= 0x0F;\n\t\t\tlevels[ix] = newLevel = impTab[newState][ITIL];\n\t\t\tif (action > 0) {\n\t\t\t\tif (action === 0x10) {\t// set conditional run to level 1\n\t\t\t\t\tfor (i = condPos; i < ix; i++) {\n\t\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t\t}\n\t\t\t\t\tcondPos = -1;\n\t\t\t\t} else {\t// 0x20 confirm the conditional run\n\t\t\t\t\tcondPos = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcond = impTab[newState][ITCOND];\n\t\t\tif (cond) {\n\t\t\t\tif (condPos === -1) {\n\t\t\t\t\tcondPos = ix;\n\t\t\t\t}\n\t\t\t} else {\t// unconditional level\n\t\t\t\tif (condPos > -1) {\n\t\t\t\t\tfor (i = condPos; i < ix; i++) {\n\t\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t\t}\n\t\t\t\t\tcondPos = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (types[ix] === UBAT_B) {\n\t\t\t\tlevels[ix] = 0;\n\t\t\t}\n\t\t\tbdx.hiLevel |= newLevel;\n\t\t}\n\t\tif (bdx.hasUbatS) {\n\t\t\thandleUbatS(types, levels, len, bdx);\n\t\t}\n\t}\n\n\tfunction handleUbatS(types, levels, len, bdx) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (types[i] === UBAT_S) {\n\t\t\t\tlevels[i] = bdx.dir;\n\t\t\t\tfor (var j = i - 1; j >= 0; j--) {\n\t\t\t\t\tif (types[j] === UBAT_WS) {\n\t\t\t\t\t\tlevels[j] = bdx.dir;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction swapChars(chars, levels, bdx) {\n\t\t// summary:\n\t\t//\t\tSwap characters with symmetrical mirroring as all kinds of parenthesis.\n\t\t//\t\t(When needed).\n\t\t// chars:\n\t\t//\t\tThe source string as Array of characters.\n\t\t// levels:\n\t\t//\t\tAn array (like hash) of flags for each character in the source string,\n\t\t//\t\tthat defines if swapping should be applied on the following character.\n\t\t// bdx: Object\n\t\t//\t\tUsed for intermediate data storage\n\t\t// tags:\n\t\t//\t\tprivate\n\n\t\tif (bdx.hiLevel === 0 || bdx.swap.substr(0, 1) === bdx.swap.substr(1, 2)) {\n\t\t\treturn;\n\t\t}\n\t\tfor (var i = 0; i < chars.length; i++) {\n\t\t\tif (levels[i] === 1) {\n\t\t\t\tchars[i] = getMirror(chars[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getCharacterType(ch) {\n\t\t// summary:\n\t\t//\t\tReturn the type of the character.\n\t\t// ch:\n\t\t//\t\tThe character to be checked.\n\n\t\t// description:\n\t\t//\t\tCheck the type of the character according to MasterTable,\n\t\t//\t\ttype = LTR, RTL, neutral,Arabic-Indic digit etc.\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tvar uc = ch.charCodeAt(0),\n\t\t\thi = MasterTable[uc >> 8];\n\t\treturn (hi < TBBASE) ? hi : UnicodeTable[hi - TBBASE][uc & 0xFF];\n\t}\n\n\tfunction invertStr(str, bdx) {\n\t\t// summary:\n\t\t//\t\tReturn the reversed string.\n\t\t// str:\n\t\t//\t\tThe string to be reversed.\n\t\t// description:\n\t\t//\t\tReverse the string str.\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tvar chars = str.split(\"\");\n\t\tif (bdx) {\n\t\t\tvar levels = [];\n\t\t\tcomputeLevels(chars, levels, bdx);\n\t\t\tlvMap = levels;\n\t\t}\n\t\tchars.reverse();\n\t\tstMap.reverse();\n\t\treturn chars.join(\"\");\n\t}\n\n\tfunction indexOf(cArray, cLength, idx) {\n\t\tfor (var i = 0; i < cLength; i++) {\n\t\t\tif (cArray[i] === idx) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tfunction isArabicAlefbet(c) {\n\t\tfor (var i = 0; i < ArabicAlefBetIntervalsBegine.length; i++) {\n\t\t\tif (c >= ArabicAlefBetIntervalsBegine[i] && c <= ArabicAlefBetIntervalsEnd[i]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction isNextArabic(str06, index, step, nIEnd) {\n\t\twhile (((index) * step) < nIEnd && isArabicDiacritics(str06[index])) {\n\t\t\tindex += step;\n\t\t}\n\t\tif (((index) * step) < nIEnd && isArabicAlefbet(str06[index])) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction isNextAlef(str06, index, step, nIEnd) {\n\t\twhile (((index) * step) < nIEnd && isArabicDiacritics(str06[index])) {\n\t\t\tindex += step;\n\t\t}\n\t\tvar c = \" \";\n\t\tif (((index) * step) < nIEnd) {\n\t\t\tc = str06[index];\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < AlefTable.length; i++) {\n\t\t\tif (AlefTable[i] === c) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction invertLevel(lev, chars, levels, bdx) {\n\t\tif (bdx.hiLevel < lev) {\n\t\t\treturn;\n\t\t}\n\t\tif (lev === 1 && bdx.dir === RTL && !bdx.hasUbatB) {\n\t\t\tchars.reverse();\n\t\t\tstMap.reverse();\n\t\t\treturn;\n\t\t}\n\t\tvar len = chars.length, start = 0, end, lo, hi, tmp;\n\t\twhile (start < len) {\n\t\t\tif (levels[start] >= lev) {\n\t\t\t\tend = start + 1;\n\t\t\t\twhile (end < len && levels[end] >= lev) {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t\tfor (lo = start, hi = end - 1 ; lo < hi; lo++, hi--) {\n\t\t\t\t\ttmp = chars[lo];\n\t\t\t\t\tchars[lo] = chars[hi];\n\t\t\t\t\tchars[hi] = tmp;\n\t\t\t\t\ttmp = stMap[lo];\n\t\t\t\t\tstMap[lo] = stMap[hi];\n\t\t\t\t\tstMap[hi] = tmp;\n\t\t\t\t}\n\t\t\t\tstart = end;\n\t\t\t}\n\t\t\tstart++;\n\t\t}\n\t}\n\n\tfunction getCharClass(chars, types, classes, ix, bdx) {\n\t\t// summary:\n\t\t//\t\tReturn the class if ix character in chars.\n\t\t// chars:\n\t\t//\t\tThe source string as Array of characters.\n\t\t// types:\n\t\t//\t\tArray of types, for each character in chars.\n\t\t// classes:\n\t\t//\t\tArray of classes that already been solved.\n\t\t// ix:\n\t\t//\t\tthe index of checked character.\n\t\t// bdx: Object\n\t\t//\t\tUsed for intermediate data storage\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tvar cType = types[ix],\n\t\t\tresults = {\n\t\t\t\tUBAT_L : function () { bdx.lastArabic = false; return UBAT_L; },\n\t\t\t\tUBAT_R : function () { bdx.lastArabic = false; return UBAT_R; },\n\t\t\t\tUBAT_ON : function () { return UBAT_ON; },\n\t\t\t\tUBAT_AN : function () { return UBAT_AN; },\n\t\t\t\tUBAT_EN : function () { return bdx.lastArabic ? UBAT_AN : UBAT_EN; },\n\t\t\t\tUBAT_AL : function () { bdx.lastArabic = true; bdx.hasUbatAl = true; return UBAT_R; },\n\t\t\t\tUBAT_WS : function () { return UBAT_ON; },\n\t\t\t\tUBAT_CS : function () {\n\t\t\t\t\t\t\t\t\t\tvar wType, nType;\n\t\t\t\t\t\t\t\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t\t\t\t\t\t\t\t((wType = classes[ix - 1]) !== UBAT_EN && wType !== UBAT_AN) ||\n\t\t\t\t\t\t\t\t\t\t\t((nType = types[ix + 1]) !== UBAT_EN && nType !== UBAT_AN)) {\n\t\t\t\t\t\t\t\t\t\t\treturn UBAT_ON;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (bdx.lastArabic) {\n\t\t\t\t\t\t\t\t\t\t\tnType = UBAT_AN;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn nType === wType ? nType : UBAT_ON;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\tUBAT_ES : function () {\n\t\t\t\t\t\t\t\t\t\tvar wType = ix > 0 ? classes[ix - 1] : UBAT_B;\n\t\t\t\t\t\t\t\t\t\tif (wType === UBAT_EN && (ix + 1) < types.length && types[ix + 1] === UBAT_EN) {\n\t\t\t\t\t\t\t\t\t\t\treturn UBAT_EN;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn UBAT_ON;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\tUBAT_ET : function () {\n\t\t\t\t\t\t\t\t\t\tif (ix > 0 && classes[ix - 1] === UBAT_EN) {\n\t\t\t\t\t\t\t\t\t\t\treturn UBAT_EN;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (bdx.lastArabic) {\n\t\t\t\t\t\t\t\t\t\t\treturn UBAT_ON;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvar i = ix + 1,\n\t\t\t\t\t\t\t\t\t\t\tlen = types.length;\n\t\t\t\t\t\t\t\t\t\twhile (i < len && types[i] === UBAT_ET) {\n\t\t\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (i < len && types[i] === UBAT_EN) {\n\t\t\t\t\t\t\t\t\t\t\treturn UBAT_EN;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn UBAT_ON;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\tUBAT_NSM : function () {\n\t\t\t\t\t\t\t\t\t\tif (bdx.inFormat === \"VLTR\") {\t// visual to implicit transformation\n\t\t\t\t\t\t\t\t\t\t\tvar len = types.length,\n\t\t\t\t\t\t\t\t\t\t\t\ti = ix + 1;\n\t\t\t\t\t\t\t\t\t\t\twhile (i < len && types[i] === UBAT_NSM) {\n\t\t\t\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (i < len) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar c = chars[ix],\n\t\t\t\t\t\t\t\t\t\t\t\t\trtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c === 0xFB1E,\n\t\t\t\t\t\t\t\t\t\t\t\t\twType = types[i];\n\t\t\t\t\t\t\t\t\t\t\t\tif (rtlCandidate && (wType === UBAT_R || wType === UBAT_AL)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn UBAT_R;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (ix < 1 || types[ix - 1] === UBAT_B) {\n\t\t\t\t\t\t\t\t\t\t\treturn UBAT_ON;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn classes[ix - 1];\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\tUBAT_B : function () { bdx.lastArabic = true; bdx.hasUbatB = true; return bdx.dir; },\n\t\t\t\tUBAT_S : function () { bdx.hasUbatS = true; return UBAT_ON; },\n\t\t\t\tUBAT_LRE : function () { bdx.lastArabic = false; return UBAT_ON; },\n\t\t\t\tUBAT_RLE : function () { bdx.lastArabic = false; return UBAT_ON; },\n\t\t\t\tUBAT_LRO : function () { bdx.lastArabic = false; return UBAT_ON; },\n\t\t\t\tUBAT_RLO : function () { bdx.lastArabic = false; return UBAT_ON; },\n\t\t\t\tUBAT_PDF : function () { bdx.lastArabic = false; return UBAT_ON; },\n\t\t\t\tUBAT_BN : function () { return UBAT_ON; }\n\t\t\t};\n\t\treturn results[TYPES_NAMES[cType]]();\n\t}\n\n\tfunction getMirror(c) {\n\t\t// summary:\n\t\t//\t\tCalculates the mirrored character of c\n\t\t// c:\n\t\t//\t\tThe character to be mirrored.\n\t\t// tags:\n\t\t//\t\tprivate\n\t\tvar mid, low = 0, high = SwapTable.length - 1;\n\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor((low + high) / 2);\n\t\t\tif (c < SwapTable[mid][0]) {\n\t\t\t\thigh = mid - 1;\n\t\t\t} else if (c > SwapTable[mid][0]) {\n\t\t\t\tlow = mid + 1;\n\t\t\t} else {\n\t\t\t\treturn SwapTable[mid][1];\n\t\t\t}\n\t\t}\n\t\treturn c;\n\t}\n\n\tfunction isStandAlonCharacter(c) {\n\t\tfor (var i = 0; i < StandAlonForm.length; i++) {\n\t\t\tif (StandAlonForm[i] === c) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction getMedialFormCharacterFE(c) {\n\t\tfor (var i = 0; i < BaseForm.length; i++) {\n\t\t\tif (c === BaseForm[i]) {\n\t\t\t\treturn MedialForm[i];\n\t\t\t}\n\t\t}\n\t\treturn c;\n\t}\n\n\tfunction getFormCharacterFE(/*char*/ c, /*char[]*/formArr) {\n\t\tfor (var i = 0; i < BaseForm.length; i++) {\n\t\t\tif (c === BaseForm[i]) {\n\t\t\t\treturn formArr[i];\n\t\t\t}\n\t\t}\n\t\treturn c;\n\t}\n\n\tfunction isArabicDiacritics(c) {\n\t\treturn\t(c >= \"\\u064b\" && c <= \"\\u0655\") ? true : false;\n\t}\n\n\tfunction getOrientation(/*Char*/ oc) {\n\t\tif (oc === \"L\") {\n\t\t\treturn \"LTR\";\n\t\t}\n\t\tif (oc === \"R\") {\n\t\t\treturn \"RTL\";\n\t\t}\n\t\tif (oc === \"C\") {\n\t\t\treturn \"CLR\";\n\t\t}\n\t\tif (oc === \"D\") {\n\t\t\treturn \"CRL\";\n\t\t}\n\t}\n\n\tfunction setAlefToSpace(str06, index, step, nIEnd) {\n\t\twhile (((index) * step) < nIEnd && isArabicDiacritics(str06[index])) {\n\t\t\tindex += step;\n\t\t}\n\t\tif (((index) * step) < nIEnd) {\n\t\t\tstr06[index] = \" \";\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction getLamAlefFE(alef06, LamAlefForm) {\n\t\tfor (var i = 0; i < AlefTable.length; i++) {\n\t\t\tif (alef06 === AlefTable[i]) {\n\t\t\t\treturn LamAlefForm[i];\n\t\t\t}\n\t\t}\n\t\treturn alef06;\n\t}\n\n\tfunction initMaps(map1, map2, length) {\n\t\tstMap = [];\n\t\tlvMap = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tmap1[i] = i;\n\t\t\tmap2[i] = i;\n\t\t\tstMap[i] = i;\n\t\t}\n\t}\n\n\tfunction reverseMap(sourceMap) {\n\t\tvar map = new Array(sourceMap.length);\n\t\tfor (var i = 0; i < sourceMap.length; i++) {\n\t\t\tmap[sourceMap[i]] = i;\n\t\t}\n\t\treturn map;\n\t}\n\n\tfunction updateMap(map, value, isGreater, update) {\n\t\tfor (var i = 0; i < map.length; i++) {\n\t\t\tif (map[i] > value || (!isGreater && map[i] === value)) {\n\t\t\t\tmap[i] += update;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar stMap = [];\n\tvar tsMap = [];\n\tvar lvMap = [];\n\n\tvar\tBDX = {\n\t\t\tdir: 0,\n\t\t\tdefInFormat: \"LLTR\",\n\t\t\tdefoutFormat: \"VLTR\",\n\t\t\tdefSwap: \"YN\",\n\t\t\tinFormat: \"LLTR\",\n\t\t\toutFormat: \"VLTR\",\n\t\t\tswap: \"YN\",\n\t\t\thiLevel: 0,\n\t\t\tlastArabic: false,\n\t\t\thasUbatAl: false,\n\t\t\thasBlockSep: false,\n\t\t\thasSegSep: false\n\t\t};\n\n\tvar ITIL = 5;\n\n\tvar ITCOND = 6;\n\n\tvar LTR = 0;\n\n\tvar RTL = 1;\n\n\tvar validFormat = /^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/;\n\n\tvar bidiChars = /[\\u0591-\\u06ff\\ufb1d-\\ufefc]/;\n\n\t/****************************************************************************/\n\t/* Array in which directional characters are replaced by their symmetric.\t*/\n\t/****************************************************************************/\n\tvar SwapTable = [\n\t\t[ \"\\u0028\", \"\\u0029\" ],\t/* Round brackets\t\t\t\t\t*/\n\t\t[ \"\\u0029\", \"\\u0028\" ],\n\t\t[ \"\\u003C\", \"\\u003E\" ],\t/* Less than/greater than\t\t\t*/\n\t\t[ \"\\u003E\", \"\\u003C\" ],\n\t\t[ \"\\u005B\", \"\\u005D\" ],\t/* Square brackets\t\t\t\t\t*/\n\t\t[ \"\\u005D\", \"\\u005B\" ],\n\t\t[ \"\\u007B\", \"\\u007D\" ],\t/* Curly brackets\t\t\t\t\t*/\n\t\t[ \"\\u007D\", \"\\u007B\" ],\n\t\t[ \"\\u00AB\", \"\\u00BB\" ],\t/* Double angle quotation marks\t\t*/\n\t\t[ \"\\u00BB\", \"\\u00AB\" ],\n\t\t[ \"\\u2039\", \"\\u203A\" ],\t/* single angle quotation mark\t\t*/\n\t\t[ \"\\u203A\", \"\\u2039\" ],\n\t\t[ \"\\u207D\", \"\\u207E\" ],\t/* Superscript parentheses\t\t\t*/\n\t\t[ \"\\u207E\", \"\\u207D\" ],\n\t\t[ \"\\u208D\", \"\\u208E\" ],\t/* Subscript parentheses\t\t\t*/\n\t\t[ \"\\u208E\", \"\\u208D\" ],\n\t\t[ \"\\u2264\", \"\\u2265\" ],\t/* Less/greater than or equal\t\t*/\n\t\t[ \"\\u2265\", \"\\u2264\" ],\n\t\t[ \"\\u2329\", \"\\u232A\" ],\t/* Angle brackets\t\t\t\t\t*/\n\t\t[ \"\\u232A\", \"\\u2329\" ],\n\t\t[ \"\\uFE59\", \"\\uFE5A\" ],\t/* Small round brackets\t\t\t\t*/\n\t\t[ \"\\uFE5A\", \"\\uFE59\" ],\n\t\t[ \"\\uFE5B\", \"\\uFE5C\" ],\t/* Small curly brackets\t\t\t\t*/\n\t\t[ \"\\uFE5C\", \"\\uFE5B\" ],\n\t\t[ \"\\uFE5D\", \"\\uFE5E\" ],\t/* Small tortoise shell brackets\t*/\n\t\t[ \"\\uFE5E\", \"\\uFE5D\" ],\n\t\t[ \"\\uFE64\", \"\\uFE65\" ],\t/* Small less than/greater than\t\t*/\n\t\t[ \"\\uFE65\", \"\\uFE64\" ]\n\t];\n\tvar AlefTable = [\"\\u0622\", \"\\u0623\", \"\\u0625\", \"\\u0627\"];\n\n\tvar LamAlefInialTableFE = [\"\\ufef5\", \"\\ufef7\", \"\\ufef9\", \"\\ufefb\"];\n\n\tvar LamAlefMedialTableFE = [\"\\ufef6\", \"\\ufef8\", \"\\ufefa\", \"\\ufefc\"];\n\t/**\n\t * Arabic Characters in the base form\n\t */\n\tvar BaseForm = [\"\\u0627\", \"\\u0628\", \"\\u062A\", \"\\u062B\", \"\\u062C\", \"\\u062D\", \"\\u062E\", \"\\u062F\", \"\\u0630\", \"\\u0631\",\n                    \"\\u0632\", \"\\u0633\", \"\\u0634\", \"\\u0635\", \"\\u0636\", \"\\u0637\", \"\\u0638\", \"\\u0639\", \"\\u063A\", \"\\u0641\",\n                    \"\\u0642\", \"\\u0643\", \"\\u0644\", \"\\u0645\", \"\\u0646\", \"\\u0647\", \"\\u0648\", \"\\u064A\", \"\\u0625\", \"\\u0623\",\n                    \"\\u0622\", \"\\u0629\", \"\\u0649\", \"\\u0644\", \"\\u0645\", \"\\u0646\", \"\\u0647\", \"\\u0648\", \"\\u064A\", \"\\u0625\",\n                    \"\\u0623\", \"\\u0622\", \"\\u0629\", \"\\u0649\", \"\\u06CC\", \"\\u0626\", \"\\u0624\"];\n\n\t/**\n\t * Arabic shaped characters in Isolated form\n\t */\n\tvar IsolatedForm = [\"\\uFE8D\", \"\\uFE8F\", \"\\uFE95\", \"\\uFE99\", \"\\uFE9D\", \"\\uFEA1\", \"\\uFEA5\", \"\\uFEA9\", \"\\uFEAB\",\n                        \"\\uFEAD\", \"\\uFEAF\", \"\\uFEB1\", \"\\uFEB5\", \"\\uFEB9\", \"\\uFEBD\", \"\\uFEC1\", \"\\uFEC5\", \"\\uFEC9\",\n                        \"\\uFECD\", \"\\uFED1\", \"\\uFED5\", \"\\uFED9\", \"\\uFEDD\", \"\\uFEE1\", \"\\uFEE5\", \"\\uFEE9\", \"\\uFEED\",\n                        \"\\uFEF1\", \"\\uFE87\", \"\\uFE83\", \"\\uFE81\", \"\\uFE93\", \"\\uFEEF\", \"\\uFBFC\", \"\\uFE89\", \"\\uFE85\",\n                        \"\\uFE70\", \"\\uFE72\", \"\\uFE74\", \"\\uFE76\", \"\\uFE78\", \"\\uFE7A\", \"\\uFE7C\", \"\\uFE7E\", \"\\uFE80\",\n                        \"\\uFE89\", \"\\uFE85\"];\n\n\t/**\n\t * Arabic shaped characters in Final form\n\t */\n\tvar FinalForm = [\"\\uFE8E\", \"\\uFE90\", \"\\uFE96\", \"\\uFE9A\", \"\\uFE9E\", \"\\uFEA2\", \"\\uFEA6\", \"\\uFEAA\", \"\\uFEAC\", \"\\uFEAE\",\n                     \"\\uFEB0\", \"\\uFEB2\", \"\\uFEB6\", \"\\uFEBA\", \"\\uFEBE\", \"\\uFEC2\", \"\\uFEC6\", \"\\uFECA\", \"\\uFECE\", \"\\uFED2\",\n                     \"\\uFED6\", \"\\uFEDA\", \"\\uFEDE\", \"\\uFEE2\", \"\\uFEE6\", \"\\uFEEA\", \"\\uFEEE\", \"\\uFEF2\", \"\\uFE88\", \"\\uFE84\",\n                     \"\\uFE82\", \"\\uFE94\", \"\\uFEF0\", \"\\uFBFD\", \"\\uFE8A\", \"\\uFE86\", \"\\uFE70\", \"\\uFE72\", \"\\uFE74\", \"\\uFE76\",\n                     \"\\uFE78\", \"\\uFE7A\", \"\\uFE7C\", \"\\uFE7E\", \"\\uFE80\", \"\\uFE8A\", \"\\uFE86\"];\n\n\t/**\n\t * Arabic shaped characters in Media form\n\t */\n\tvar MedialForm = [\"\\uFE8E\", \"\\uFE92\", \"\\uFE98\", \"\\uFE9C\", \"\\uFEA0\", \"\\uFEA4\", \"\\uFEA8\", \"\\uFEAA\", \"\\uFEAC\",\n                      \"\\uFEAE\", \"\\uFEB0\", \"\\uFEB4\", \"\\uFEB8\", \"\\uFEBC\", \"\\uFEC0\", \"\\uFEC4\", \"\\uFEC8\", \"\\uFECC\",\n                      \"\\uFED0\", \"\\uFED4\", \"\\uFED8\", \"\\uFEDC\", \"\\uFEE0\", \"\\uFEE4\", \"\\uFEE8\", \"\\uFEEC\", \"\\uFEEE\",\n                      \"\\uFEF4\", \"\\uFE88\", \"\\uFE84\", \"\\uFE82\", \"\\uFE94\", \"\\uFEF0\", \"\\uFBFF\", \"\\uFE8C\", \"\\uFE86\",\n                      \"\\uFE71\", \"\\uFE72\", \"\\uFE74\", \"\\uFE77\", \"\\uFE79\", \"\\uFE7B\", \"\\uFE7D\", \"\\uFE7F\", \"\\uFE80\",\n                      \"\\uFE8C\", \"\\uFE86\"];\n\n\t/**\n\t * Arabic shaped characters in Initial form\n\t */\n\tvar InitialForm = [\"\\uFE8D\", \"\\uFE91\", \"\\uFE97\", \"\\uFE9B\", \"\\uFE9F\", \"\\uFEA3\", \"\\uFEA7\", \"\\uFEA9\", \"\\uFEAB\",\n                       \"\\uFEAD\", \"\\uFEAF\", \"\\uFEB3\", \"\\uFEB7\", \"\\uFEBB\", \"\\uFEBF\", \"\\uFEC3\", \"\\uFEC7\", \"\\uFECB\",\n                       \"\\uFECF\", \"\\uFED3\", \"\\uFED7\", \"\\uFEDB\", \"\\uFEDF\", \"\\uFEE3\", \"\\uFEE7\", \"\\uFEEB\", \"\\uFEED\",\n                       \"\\uFEF3\", \"\\uFE87\", \"\\uFE83\", \"\\uFE81\", \"\\uFE93\", \"\\uFEEF\", \"\\uFBFE\", \"\\uFE8B\", \"\\uFE85\",\n                       \"\\uFE70\", \"\\uFE72\", \"\\uFE74\", \"\\uFE76\", \"\\uFE78\", \"\\uFE7A\", \"\\uFE7C\", \"\\uFE7E\", \"\\uFE80\",\n                       \"\\uFE8B\", \"\\uFE85\"];\n\n\t/**\n\t * Arabic characters that couldn't join to the next character\n\t */\n\tvar StandAlonForm = [\"\\u0621\", \"\\u0622\", \"\\u0623\", \"\\u0624\", \"\\u0625\", \"\\u0627\", \"\\u0629\", \"\\u062F\", \"\\u0630\",\n                         \"\\u0631\", \"\\u0632\", \"\\u0648\", \"\\u0649\"];\n\n\tvar FETo06Table = [\"\\u064B\", \"\\u064B\", \"\\u064C\", \"\\u061F\", \"\\u064D\", \"\\u061F\", \"\\u064E\", \"\\u064E\", \"\\u064F\",\n                       \"\\u064F\", \"\\u0650\", \"\\u0650\", \"\\u0651\", \"\\u0651\", \"\\u0652\", \"\\u0652\", \"\\u0621\", \"\\u0622\",\n                       \"\\u0622\", \"\\u0623\", \"\\u0623\", \"\\u0624\", \"\\u0624\", \"\\u0625\", \"\\u0625\", \"\\u0626\", \"\\u0626\",\n                       \"\\u0626\", \"\\u0626\", \"\\u0627\", \"\\u0627\", \"\\u0628\", \"\\u0628\", \"\\u0628\", \"\\u0628\", \"\\u0629\",\n                       \"\\u0629\", \"\\u062A\", \"\\u062A\", \"\\u062A\", \"\\u062A\", \"\\u062B\", \"\\u062B\", \"\\u062B\", \"\\u062B\",\n                       \"\\u062C\", \"\\u062C\", \"\\u062C\", \"\\u062c\", \"\\u062D\", \"\\u062D\", \"\\u062D\", \"\\u062D\", \"\\u062E\",\n                       \"\\u062E\", \"\\u062E\", \"\\u062E\", \"\\u062F\", \"\\u062F\", \"\\u0630\", \"\\u0630\", \"\\u0631\", \"\\u0631\",\n                       \"\\u0632\", \"\\u0632\", \"\\u0633\", \"\\u0633\", \"\\u0633\", \"\\u0633\", \"\\u0634\", \"\\u0634\", \"\\u0634\",\n                       \"\\u0634\", \"\\u0635\", \"\\u0635\", \"\\u0635\", \"\\u0635\", \"\\u0636\", \"\\u0636\", \"\\u0636\", \"\\u0636\",\n                       \"\\u0637\", \"\\u0637\", \"\\u0637\", \"\\u0637\", \"\\u0638\", \"\\u0638\", \"\\u0638\", \"\\u0638\", \"\\u0639\",\n                       \"\\u0639\", \"\\u0639\", \"\\u0639\", \"\\u063A\", \"\\u063A\", \"\\u063A\", \"\\u063A\", \"\\u0641\", \"\\u0641\",\n                       \"\\u0641\", \"\\u0641\", \"\\u0642\", \"\\u0642\", \"\\u0642\", \"\\u0642\", \"\\u0643\", \"\\u0643\", \"\\u0643\",\n                       \"\\u0643\", \"\\u0644\", \"\\u0644\", \"\\u0644\", \"\\u0644\", \"\\u0645\", \"\\u0645\", \"\\u0645\", \"\\u0645\",\n                       \"\\u0646\", \"\\u0646\", \"\\u0646\", \"\\u0646\", \"\\u0647\", \"\\u0647\", \"\\u0647\", \"\\u0647\", \"\\u0648\",\n                       \"\\u0648\", \"\\u0649\", \"\\u0649\", \"\\u064A\", \"\\u064A\", \"\\u064A\", \"\\u064A\", \"\\uFEF5\", \"\\uFEF6\",\n                       \"\\uFEF7\", \"\\uFEF8\", \"\\uFEF9\", \"\\uFEFA\", \"\\uFEFB\", \"\\uFEFC\", \"\\u061F\", \"\\u061F\", \"\\u061F\"];\n\n\tvar ArabicAlefBetIntervalsBegine = [\"\\u0621\", \"\\u0641\"];\n\n\tvar ArabicAlefBetIntervalsEnd = [\"\\u063A\", \"\\u064a\"];\n\n\tvar\timpTabLtr = [\n\t/*\t\tL,\t\tR,\t\tEN,\t\tAN,\t\tN,\t\tIL,\t\tCond */\n\t\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t], /* 0 LTR text\t*/\n\t\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t], /* 1 LTR+AN\t\t*/\n\t\t[\t0,\t\t3,\t\t0,\t\t0x11,\t2,\t\t0,\t\t1\t], /* 2 LTR+AN+N\t*/\n\t\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t], /* 3 RTL text\t*/\n\t\t[\t0,\t\t3,\t\t0x15,\t0x15,\t4,\t\t0,\t\t1\t], /* 4 RTL cont\t*/\n\t\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]  /* 5 RTL+EN/AN\t*/\n\t];\n\tvar impTabRtl = [\n\t/*\t\tL,\t\tR,\t\tEN,\t\tAN,\t\tN,\t\tIL,\t\tCond */\n\t\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t], /* 0 RTL text\t*/\n\t\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t], /* 1 RTL+EN/AN\t*/\n\t\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t], /* 2 LTR text\t*/\n\t\t[\t2,\t\t0,\t\t2,\t\t0x21,\t3,\t\t1,\t\t1\t]  /* 3 LTR+cont\t*/\n\t];\n\n\tvar UBAT_L\t= 0; /* left to right\t\t\t\t*/\n\tvar UBAT_R\t= 1; /* right to left\t\t\t\t*/\n\tvar UBAT_EN = 2; /* European digit\t\t\t\t*/\n\tvar UBAT_AN = 3; /* Arabic-Indic digit\t\t\t*/\n\tvar UBAT_ON = 4; /* neutral\t\t\t\t\t\t*/\n\tvar UBAT_B\t= 5; /* block separator\t\t\t\t*/\n\tvar UBAT_S\t= 6; /* segment separator\t\t\t*/\n\tvar UBAT_AL = 7; /* Arabic Letter\t\t\t\t*/\n\tvar UBAT_WS = 8; /* white space\t\t\t\t\t*/\n\tvar UBAT_CS = 9; /* common digit separator\t\t*/\n\tvar UBAT_ES = 10; /* European digit separator\t*/\n\tvar UBAT_ET = 11; /* European digit terminator\t*/\n\tvar UBAT_NSM = 12; /* Non Spacing Mark\t\t\t*/\n\tvar UBAT_LRE = 13; /* LRE\t\t\t\t\t\t*/\n\tvar UBAT_RLE = 14; /* RLE\t\t\t\t\t\t*/\n\tvar UBAT_PDF = 15; /* PDF\t\t\t\t\t\t*/\n\tvar UBAT_LRO = 16; /* LRO\t\t\t\t\t\t*/\n\tvar UBAT_RLO = 17; /* RLO\t\t\t\t\t\t*/\n\tvar UBAT_BN\t= 18; /* Boundary Neutral\t\t\t*/\n\n\tvar TYPES_NAMES = [ \"UBAT_L\", \"UBAT_R\", \"UBAT_EN\", \"UBAT_AN\", \"UBAT_ON\", \"UBAT_B\", \"UBAT_S\", \"UBAT_AL\", \"UBAT_WS\",\n\t\t\t\t\t\t\"UBAT_CS\", \"UBAT_ES\", \"UBAT_ET\", \"UBAT_NSM\", \"UBAT_LRE\", \"UBAT_RLE\", \"UBAT_PDF\", \"UBAT_LRO\",\n\t\t\t\t\t\t\"UBAT_RLO\", \"UBAT_BN\" ];\n\tvar TBBASE = 100;\n\n\tvar TB00 = TBBASE + 0;\n\tvar TB05 = TBBASE + 1;\n\tvar TB06 = TBBASE + 2;\n\tvar TB07 = TBBASE + 3;\n\tvar TB20 = TBBASE + 4;\n\tvar TBFB = TBBASE + 5;\n\tvar TBFE = TBBASE + 6;\n\tvar TBFF = TBBASE + 7;\n\n\tvar L\t= UBAT_L;\n\tvar R\t= UBAT_R;\n\tvar EN\t= UBAT_EN;\n\tvar AN\t= UBAT_AN;\n\tvar ON\t= UBAT_ON;\n\tvar B\t= UBAT_B;\n\tvar S\t= UBAT_S;\n\tvar AL\t= UBAT_AL;\n\tvar WS\t= UBAT_WS;\n\tvar CS\t= UBAT_CS;\n\tvar ES\t= UBAT_ES;\n\tvar ET\t= UBAT_ET;\n\tvar NSM\t= UBAT_NSM;\n\tvar LRE\t= UBAT_LRE;\n\tvar RLE\t= UBAT_RLE;\n\tvar PDF\t= UBAT_PDF;\n\tvar LRO\t= UBAT_LRO;\n\tvar RLO\t= UBAT_RLO;\n\tvar BN\t= UBAT_BN;\n\n\tvar MasterTable = [\n /*******************************************************************************************************/\n /*     0     1     2     3     4     5     6     7     8     9     A     B     C     D     E     F     */\n /*******************************************************************************************************/\n /*0-*/ TB00, L,    L,    L,    L,    TB05, TB06, TB07, R,    L,    L,    L,    L,    L,    L,    L,\n /*1-*/ L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,\n /*2-*/ TB20, ON,   ON,   ON,   L,    ON,   L,    ON,   L,    ON,   ON,   ON,   L,    L,    ON,   ON,\n /*3-*/ L,    L,    L,    L,    L,    ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*4-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   L,    L,    ON,\n /*5-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*6-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*7-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*8-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*9-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   L,\n /*A-*/ L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    L,    ON,   ON,   ON,\n /*B-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*C-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*D-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   L,    L,    ON,   ON,   L,    L,    ON,   ON,   L,\n /*E-*/ L,    ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,\n /*F-*/ ON,   ON,   ON,   ON,   ON,   ON,   ON,   ON,   L,    L,    L,    TBFB, AL,   AL,   TBFE, TBFF\n\t];\n\n\tvar UnicodeTable = [\n        [ /*\tTable 00: Unicode 00xx */\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  S,   B,   S,   WS,  B,   BN,  BN,\n    /*1-*/  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  B,   B,   B,   S,\n    /*2-*/  WS,  ON,  ON,  ET,  ET,  ET,  ON,  ON,  ON,  ON,  ON,  ES,  CS,  ES,  CS,  CS,\n    /*3-*/  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  CS,  ON,  ON,  ON,  ON,  ON,\n    /*4-*/  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*5-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  ON,\n    /*6-*/  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*7-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  BN,\n    /*8-*/  BN,  BN,  BN,  BN,  BN,  B,   BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,\n    /*9-*/  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,  BN,\n    /*A-*/  CS,  ON,  ET,  ET,  ET,  ET,  ON,  ON,  ON,  ON,  L,   ON,  ON,  BN,  ON,  ON,\n    /*B-*/  ET,  ET,  EN,  EN,  ON,  L,   ON,  ON,  ON,  EN,  L,   ON,  ON,  ON,  ON,  ON,\n    /*C-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*D-*/  L,   L,   L,   L,   L,   L,   L,   ON,  L,   L,   L,   L,   L,   L,   L,   L,\n    /*E-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*F-*/  L,   L,   L,   L,   L,   L,   L,   ON,  L,   L,   L,   L,   L,   L,   L,   L\n\t\t],\n\t\t[ /*\tTable 01: Unicode 05xx */\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*1-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*2-*/  L,   L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*3-*/  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*4-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*5-*/  L,   L,   L,   L,   L,   L,   L,   ON,  ON,  L,   L,   L,   L,   L,   L,   L,\n    /*6-*/  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*7-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*8-*/  L,   L,   L,   L,   L,   L,   L,   L,   ON,  L,   ON,  ON,  ON,  ON,  ON,  ON,\n    /*9-*/  ON,  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*A-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*B-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, R,   NSM,\n    /*C-*/  R,   NSM, NSM, R,   NSM, NSM, R,   NSM, ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*D-*/  R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,\n    /*E-*/  R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   ON,  ON,  ON,  ON,  ON,\n    /*F-*/  R,   R,   R,   R,   R,   ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON\n\t\t],\n\t\t[ /*\tTable 02: Unicode 06xx */\n    /****************************************************************************************/\n\t/*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n\t/****************************************************************************************/\n    /*0-*/  AN,  AN,  AN,  AN,  ON,  ON,  ON,  ON,  AL,  ET,  ET,  AL,  CS,  AL,  ON,  ON,\n    /*1-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, AL,  ON,  ON,  AL,  AL,\n    /*2-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*3-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*4-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  NSM, NSM, NSM, NSM, NSM,\n    /*5-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*6-*/  AN,  AN,  AN,  AN,  AN,  AN,  AN,  AN,  AN,  AN,  ET,  AN,  AN,  AL,  AL,  AL,\n    /*7-*/  NSM, AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*8-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*9-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*A-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*B-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*C-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*D-*/  AL,  AL,  AL,  AL,  AL,  AL,  NSM, NSM, NSM, NSM, NSM, NSM, NSM, AN,  ON,  NSM,\n    /*E-*/  NSM, NSM, NSM, NSM, NSM, AL,  AL,  NSM, NSM, ON,  NSM, NSM, NSM, NSM, AL,  AL,\n    /*F-*/  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  AL,  AL,  AL,  AL,  AL,  AL\n\t\t],\n\t\t[\t/*\tTable\t03:\tUnicode\t07xx\t*/\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  ON,  AL,\n    /*1-*/  AL,  NSM, AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*2-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*3-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*4-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, ON,  ON,  AL,  AL,  AL,\n    /*5-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*6-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*7-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*8-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*9-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*A-*/  AL,  AL,  AL,  AL,  AL,  AL,  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*B-*/  NSM, AL,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*C-*/  R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,\n    /*D-*/  R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,\n    /*E-*/  R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   R,   NSM, NSM, NSM, NSM, NSM,\n    /*F-*/  NSM, NSM, NSM, NSM, R,   R,   ON,  ON,  ON,  ON,  R,   ON,  ON,  ON,  ON,  ON\n\t\t],\n\t\t[\t/*\tTable\t04:\tUnicode\t20xx\t*/\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  WS,  WS,  WS,  WS,  WS,  WS,  WS,  WS,  WS,  WS,  WS,  BN,  BN,  BN,  L,   R,\n    /*1-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*2-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  WS,  B,   LRE, RLE, PDF, LRO, RLO, CS,\n    /*3-*/  ET,  ET,  ET,  ET,  ET,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*4-*/  ON,  ON,  ON,  ON,  CS,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*5-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  WS,\n    /*6-*/  BN,  BN,  BN,  BN,  BN,  ON,  ON,  ON,  ON,  ON,  BN,  BN,  BN,  BN,  BN,  BN,\n    /*7-*/  EN,  L,   ON,  ON,  EN,  EN,  EN,  EN,  EN,  EN,  ES,  ES,  ON,  ON,  ON,  L,\n    /*8-*/  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  ES,  ES,  ON,  ON,  ON,  ON,\n    /*9-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,\n    /*A-*/  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,\n    /*B-*/  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ET,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*C-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*D-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*E-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*F-*/  NSM, ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON\n\t\t],\n\t\t[\t/*\tTable\t05:\tUnicode\tFBxx\t*/\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*1-*/  ON,  ON,  ON,  L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  ON,  R,   NSM, R,\n    /*2-*/  R,   R,   R,   R,   R,   R,   R,   R,   R,   ES,  R,   R,   R,   R,   R,   R,\n    /*3-*/  R,   R,   R,   R,   R,   R,   R,   ON,  R,   R,   R,   R,   R,   ON,  R,   ON,\n    /*4-*/  R,   R,   ON,  R,   R,   ON,  R,   R,   R,   R,   R,   R,   R,   R,   R,   R,\n    /*5-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*6-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*7-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*8-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*9-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*A-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*B-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*C-*/  AL,  AL,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*D-*/  ON,  ON,  ON,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*E-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*F-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL\n\t\t],\n\t\t[\t/*\tTable\t06:\tUnicode\tFExx\t*/\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM, NSM,\n    /*1-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*2-*/  NSM, NSM, NSM, NSM, NSM, NSM, NSM, ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*3-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*4-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*5-*/  CS,  ON,  CS,  ON,  ON,  CS,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ET,\n    /*6-*/  ON,  ON,  ES,  ES,  ON,  ON,  ON,  ON,  ON,  ET,  ET,  ON,  ON,  ON,  ON,  ON,\n    /*7-*/  AL,  AL,  AL,  AL,  AL,  ON,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*8-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*9-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*A-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*B-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*C-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*D-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*E-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,\n    /*F-*/  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  AL,  ON,  ON,  BN\n\t\t],\n\t\t[\t/*\tTable\t07:\tUnicode\tFFxx\t*/\n    /****************************************************************************************/\n    /*      0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F\t*/\n    /****************************************************************************************/\n    /*0-*/  ON,  ON,  ON,  ET,  ET,  ET,  ON,  ON,  ON,  ON,  ON,  ES,  CS,  ES,  CS,  CS,\n    /*1-*/  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  EN,  CS,  ON,  ON,  ON,  ON,  ON,\n    /*2-*/  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*3-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  ON,\n    /*4-*/  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*5-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   ON,  ON,  ON,  ON,  ON,\n    /*6-*/  ON,  ON,  ON,  ON,  ON,  ON,  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*7-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*8-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*9-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*A-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,\n    /*B-*/  L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   L,   ON,\n    /*C-*/  ON,  ON,  L,   L,   L,   L,   L,   L,   ON,  ON,  L,   L,   L,   L,   L,   L,\n    /*D-*/  ON,  ON,  L,   L,   L,   L,   L,   L,   ON,  ON,  L,   L,   L,   ON,  ON,  ON,\n    /*E-*/  ET,  ET,  ON,  ON,  ON,  ET,  ET,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,\n    /*F-*/  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON,  ON\n\t\t]\n\t];\n\n\treturn BidiEngine;\n});\n"],"names":["dojo","dom","style","attr","prop","cls","ctr","geom","byId","isDescendant","setSelectable","getAttr","get","setAttr","set","hasAttr","has","removeAttr","remove","getNodeProp","node","name","value","arguments","length","hasClass","contains","addClass","add","removeClass","toggleClass","toggle","replaceClass","replace","_toDom","toDom","place","create","empty","_destroyElement","destroy","_getPadExtents","getPadExtents","_getBorderExtents","getBorderExtents","_getPadBorderExtents","getPadBorderExtents","_getMarginExtents","getMarginExtents","_getMarginSize","getMarginSize","_getMarginBox","getMarginBox","setMarginBox","_getContentBox","getContentBox","setContentSize","_isBodyLtr","isBodyLtr","_docScroll","docScroll","_getIeDocumentElementOffset","getIeDocumentElementOffset","_fixIeBiDiScrollLeft","fixIeBiDiScrollLeft","position","marginBox","box","contentBox","coords","includeScroll","deprecated","s","getComputedStyle","mb","abs","x","y","getProp","setProp","getStyle","setStyle","__toPixelValue","toPixelValue","lang","Evented","arrayUtil","aspect","baseFx","domStyle","ready","require","isAsync","coreFx","fx","_baseObj","_fire","evt","args","this","apply","_chain","animations","_index","_animations","_current","_onAnimateCtx","_onEndCtx","duration","forEach","a","delay","prototype","extend","_onAnimate","_onEnd","after","hitch","play","gotoStart","status","beforeBegin","onBegin","arg","onPlay","pause","e","gotoPercent","percent","andPlay","offset","some","index","stop","gotoEnd","chain","isArray","Array","slice","call","_combine","_connects","_finished","push","_pseudoAnimation","Animation","curve","self","_doAction","action","_call","t","ms","handle","combine","wipeIn","o","anim","animateProperty","mixin","properties","height","start","overflow","visibility","display","Math","max","end","scrollHeight","fini","wipeOut","slideTo","n","top","left","init","cs","pos","offsetTop","parseInt","offsetLeft","ret","easingFuncs","linear","quadIn","pow","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","sineIn","cos","PI","sineOut","sin","sineInOut","expoIn","expoOut","expoInOut","circIn","sqrt","circOut","circInOut","backIn","backOut","backInOut","elasticIn","p","elasticOut","elasticInOut","bounceIn","bounceOut","l","bounceInOut","setObject","dojox","arr","declare","domGeom","domConstruct","Color","Element","SimpleTheme","Series","common","plot2dCommon","shape","g","BidiChart","func","dc","getObject","defaultMargins","r","b","clear","item","makeClean","dirty","makeDirty","getName","Chart","constructor","kwArgs","margins","_customMargins","stroke","fill","delayInMs","title","titleGap","titlePos","titleFont","titleFontColor","titleAlign","chartTitle","htmlLabels","theme","axes","stack","plots","series","runs","surface","createSurface","w","h","declaredClass","indexOf","_nativeClip","forIn","tagName","getCoords","setTheme","clone","chart","addAxis","axis","axisType","type","axis2d","Error","getAxis","removeAxis","addPlot","plot","plotType","plot2d","getPlot","removePlot","splice","idx","ns","filter","run","getPlotOrder","map","setPlotOrder","newOrder","names","order","newStack","i","movePlotToFront","unshift","movePlotToBack","addSeries","data","ymin","min","ymax","getSeries","removeSeries","updateSeries","offsets","update","_invalidateDependentPlots","getSeriesOrder","plotName","setSeriesOrder","newSeries","concat","moveSeriesToFront","moveSeriesToBack","resize","width","d","getDimensions","setDimensions","render","getGeometry","initialized","vertical","scaler","ticks","setAxisWindow","scale","zoom","setWindow","hAxis","vAxis","sx","sy","dx","dy","calculateGeometry","bounds","getScaler","span","upper","lower","zoomIn","range","delayed","delayedRender","fullGeometry","calculateAxes","plotArea","_makeDirty","Default","assignAxes","dim","normalizedLength","_resetLeftBottom","getOffsets","tsize","splitFontString","size","_delayedRenderHandle","clearTimeout","fullRender","forEachRev","_makeClean","purgeGroup","children","dispose","_renderChartBackground","_renderPlotBackground","foldr","z","_renderTitle","labelType","renderer","tBox","_base","_getTextBox","font","isRtl","isRightToLeft","posX","createText","rect","undefined","document","documentElement","parentNode","_shapeFill","_plotFill","createRect","setFill","setStroke","plotarea","setTimeout","connectToPlot","object","method","connect","fireEvent","seriesName","eventName","verticalAxis","axisName","dependOnData","setDir","dir","formatTruncatedLabel","element","label","combineStats","target","source","stats","getSeriesStats","hmin","hmax","hSection","vmin","vmax","vSection","hReplace","v","vReplace","initializeScalers","kernel","gfx","group","htmlElements","renderingOptions","trailingSymbol","_events","destroyHtmlElements","getGroup","removeShape","rawNode","disconnect","cleanGroup","creator","bgnode","bgNode","appendChild","createGroup","namespaceURI","key","setAttribute","overrideShape","params","getTextWidth","getTextWithLimitLength","limitWidth","truncated","text","minStr","substring","begin","round","getTextWithLimitCharCount","wcLimit","space","makeParameters","defaultLinearGradient","y1","y2","x1","x2","defaultRadialGradient","spanX","spanY","cx","cy","defaultPattern","bbox","_pseudoRadialFill","center","radius","angle","colors","dyn","setSeriesObject","dlu","dgg","shapeSpaces","shapeX","shapeY","def","defaultTheme","delegate","seriesThemes","defaultColors","markerThemes","markers","defaultMarkers","noGradConv","noRadialConv","reverseFills","_buildMarkerArray","grid","marker","indicator","pieInnerRadius","hasOwnProperty","next","elementType","doPost","merge","old","color","symbol","_markers","addMixin","post","skip","m","markerName","charAt","toUpperCase","substr","getTick","tick","tickName","inspectObjects","f","reverse","addMarker","segment","setMarkers","obj","CIRCLE","SQUARE","DIAMOND","CROSS","X","TRIANGLE","TRIANGLE_INVERTED","pageStyle","fontColor","labelGap","majorTick","minorTick","microTick","gap","orientation","outline","shadow","labelWiring","lineStroke","lineOutline","lineShadow","lineFill","markerFill","markerSymbol","markerStroke","markerOutline","markerShadow","opt","calculate","getTicks","isNullValue","naturalBaseline","Invisible","lin","acommon","du","df","BidiDefault","centerAnchorLimit","defaultParams","fixUpper","fixLower","natural","leftBottom","includeZero","fixed","majorLabels","minorTicks","minorLabels","microTicks","rotation","enableCache","dropLabels","labelSizeChange","optionalParams","from","to","majorTickStep","minorTickStep","microTickStep","labels","labelFunc","maxLabelSize","maxLabelCharCount","titleOrientation","updateWithObject","updateWithPattern","_textFreePool","_lineFreePool","_textUsePool","_lineUsePool","_invalidMaxLabelSize","inherited","_groupLabelWidth","isObject","trim","join","_getMaxLabelSize","_maxLabelSize","minMinorStep","_prevMinMinorStep","ob","sb","buildScaler","_majorStart","major","tb","buildTicks","majLabelW","minLabelW","tickLabelFunc","minor","majLabelH","minLabelH","_oldSpan","Infinity","ta","labelW","cosr","sinr","gap1","gap2","canMinorLabel","_skipInterval","floor","taTitleFont","taTitleGap","taMajorTick","taMinorTick","side","labelWidth","ceil","align","textContent","pop","setShape","createLine","line","_isRtl","titleOffset","axisVector","tickVector","anchorOffset","labelOffset","labelAlign","titleRotation","taFont","taFontColor","taTitleFontColor","taTitleOrientation","taMicroTick","taStroke","cachedLabelW","c","getTransformerFromModel","axisTitle","setTransform","matrix","rotategAt","rel","canLabel","elem","labelTooltip","micro","truncatedLabel","elemType","modules","aroundRect","fontWidth","fontHeight","firstChild","Tooltip","show","hide","shp","getShape","lt","Base","getWindowScale","getWindowOffset","scalerType","tsb","isFinite","isNaN","win","clearNode","marginLeft","marginTop","marginRight","marginBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth","setFont","html","boxWidth","doc","createElement","getTextDir","innerHTML","String","body","bcr","getBoundingClientRect","right","getBoxWidth","removeChild","textAlign","whiteSpace","wrap","insertBefore","htmlElementsRegistry","gBidi","da","BidiEngine","domAttr","utils","bidiEngine","validateTextDir","textDir","test","isMirrored","checkContextual","postscript","truncatedLabelsRegistry","chartDir","setTextDir","newTextDir","tDir","axesKeyArr","keys","applyMirroring","reverseMatrix","truncateBidi","rtl","shift","xx","xy","yx","yy","isChartDirectionRtl","isBaseTextDirRtl","lines","areas","CartesianBase","_PlotEvents","alwaysFalse","animate","minBarSize","maxBarSize","styleFunc","collectSimpleStats","_rectFreePool","_rectUsePool","createLabel","labelStyle","renderLabel","_getLabel","isDataDirty","performZoom","isDirty","resetEvents","_eventSeries","ht","_hScaler","vt","_vScaler","baseline","_hAxis","baselineWidth","events","bar","getBarProperties","actualLength","serie","hidden","extractedValues","extractValues","rearrangeValues","eventSeries","indexed","j","finalTheme","sshape","val","getValue","tMixin","thickness","srect","_animateBar","specialFill","setFilter","getFill","getStroke","_connectEvents","py","_reconnectEvents","_checkOrientation","seriesIndex","extracted","extractedSet","values","transform","k","_vAxis","calculateBarSize","hoffset","hsize","animateTransform","ac","tooltipFunc","setAxis","block","pointerEvents","getRequiredColors","number","getLabel","precision","points","frontCircles","outlineCircles","shadowCircles","getFinalTheme","createCircle","_animateBubble","makeStroke","cr","console","warn","collectStats","defaultStats","old_vmin","old_vmax","open","close","high","low","mid","tmp","doFill","inner","_animateCandlesticks","voffset","vsize","hub","primitive","baseParams","omitLabels","zoomQueue","lastWindow","vscale","hscale","xoffset","yoffset","noClip","setClip","_clippedGroup","toPage","coord","ah","av","sh","sv","th","tv","toData","getTransformerFromPlot","lbox","vs","hs","vOffset","hBounds","xOffset","vBounds","yOffset","rVScale","rHScale","rXOffset","rYOffset","array","Bars","Columns","clusterSize","baselineHeight","_animateColumn","tension","interpolate","markerFont","markerFontColor","zeroLine","createPath","path","_pathFreePool","_pathUsePool","buildSegments","rseg","segments","lpoly","rsegments","seg","rsegment","lpath","apoly","apath","createPolyline","frontMarkers","outlineMarkers","shadowMarkers","spoly","markerBox","markerTheme","getBoundingBox","labelBoxW","labelBoxH","plotGroup","sortTicks","hMajorLines","hMinorLines","vMajorLines","vMinorLines","hStripes","vStripes","renderOnAxis","majorHLine","minorHLine","majorVLine","minorVLine","hFill","vFill","hAlternateFill","vAlternateFill","vScaler","_renderHRect","minorLine","_renderHLines","majorLine","hScaler","_renderVRect","_renderVLines","hLine","_animateGrid","vLine","hStripe","allTicks","sort","alternateFill","vStripe","transStart","scaleStart","hl","op","cl","_animateOHLC","PlotEvents","radGrad","fanSize","startAngle","innerRadius","minWidth","zeroDataMessage","runFilter","_plotSetInnerRadius","filteredRun","slices","labelR","rx","ry","_degToRad","noDataFunc","ct","themes","circle","rColor","ring","_createRing","ength","every","foldl","foldl1","slicesSteps","localStart","step","dist","weak","weakCount","weakCoef","oldWeakCoefSum","weakCoefSum","alpha","beta","fansx","fansy","fanex","faney","nfans","delta","_createSlice","ignore","labelAngle","labeledSlices","significantCount","omit","labelHeight","_getProperLabelRadius","leftColumn","rightColumn","cTheme","lrPadding","jointX","labelX","newRadius","wiring","moveTo","lineTo","moveToBack","esi","minRadius","tempSIN","leftCenterSlice","rightCenterSlice","leftMinSIN","rightMinSIN","_caculateLabelR","firstSlice","nextLabelR","currentLabelR","setAbsoluteMode","arcTo","closePath","R","fromAngle","stepAngle","innerX1","innerY1","innerX2","innerY2","gradutils","shadows","_animateScatter","getColor","gfxfx","easing","Spider","divisions","axisColor","axisWidth","spiderColor","spiderWidth","seriesWidth","seriesFillAlpha","spiderOrigin","markerSize","spiderType","animationType","axisTickFont","axisTickFontColor","axisFont","axisFontColor","datas","labelKey","oldSeriePoints","vlist","axisKey","outerPoints","innerPoints","divisionPoints","divisionRadius","labelPoints","point","len","serieEntry","distance","asize","ro","dv","spt","at","lboffset","axisExtra","_getObjectLength","_buildPoints","axisGroup","axisStroke","spiderStroke","st","nd","_drawArrow","labelGroup","spiderGroup","textGroup","_getCoordinate","seriesShapes","normalizeColor","sk","seriePoints","tipData","entry","sname","polygonBoundRect","_getBoundary","ts","osps","_createSeriesEntry","po","id","poly","parent","brect","so","circles","co","tdata","sps","initpoints","scircle","anims","np","sp","spl","sc","pshape","cshape","anims1","plotEvent","moveToFront","xmax","xmin","point2","point3","count","recursive","commonStacked","getIndexValue","Stacked","_shapeEvents","raiseEvent","originalEvent","originalPlot","_connectSingleEvent","eventMask","event","eventObject","doIfLoaded","defaultStroke","augmentColor","augmentStroke","augmentFill","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","old_hmin","old_hmax","availableSize","collectStackedStats","p0","p3","bz1x","bz1y","bz2x","bz2y","p1","p2","p1p2","p0p2","p1p3","p0p2f","p1p3f","numberLib","format","places","toFixed","toString","sets","previousSet","sum","counter","available","pvalue","eq","testedModules","moduleName","ifloaded","ifnotloaded","getNumericLabel","lo","hi","findString","toLowerCase","calcTicks","lowerBound","upperBound","useMin","useMax","majorStart","minorStart","microStart","majorCount","minorCount","microCount","minorPerMajor","microPerMinor","majorPrecision","log","LN10","minorPrecision","prec","minorDelta","Boolean","mag","nextMajor","nextMinor","nextMicro","revScale","majorTicks","Wetland","gfxBase","switchTo","_hasClass","classStr","getAttribute","_addClass","_removeClass","RegExp","_getFontMeasurements","oldStyle","heights","fontSize","div","borderWidth","margin","padding","lineHeight","offsetHeight","fontMeasurements","_getCachedFontMeasurements","recalculate","measuringNode","className","al","bottom","_computeTextLocation","textShape","fixHeight","loc","_computeTextBoundingBox","_isRendered","getFont","defaultFont","getParent","uniqueId","_getUniqueId","_scopeName","typeCtorCache","touchActionProp","_fixMsTouchAction","defaultPath","defaultPolyline","defaultRect","defaultEllipse","defaultCircle","defaultLine","defaultImage","src","defaultText","decoration","rotated","kerning","defaultTextPath","cap","variant","weight","family","getDefault","normalizeParameters","existed","defaults","result","formatNumber","addSpace","makeFontString","str","split","cm_in_pt","mm_in_pt","px_in_pt","pt2px","px2pt","parseFloat","pathVmlRegExp","pathSvgRegExp","equalSources","Surface","shapeLib","pathLib","isVml","isSvg","svg","useSvgWeb","isSvgWeb","isSilverlight","isCanvas","bidi_const","Group","Text","formatText","targetDir","hasBidiChar","bidiTransform","bidiPreprocess","newShape","TextPath","newText","origText","extendMethod","before","rBefore","restoreText","origObj","groupTextDir","textDirPreprocess","setText","_nodes","twoPI","pi4","pi8","pi48","curvePI4","unitArcAsBezier","cosa","sina","c1","c2","arc","arcAsBezier","last","xRotg","large","sweep","xRot","rx2","ry2","pa","multiplyPoint","rotate","pax2","pay2","ca","translate","elliptic_transform","normalize","inversed","invert","ep","atan2","theta","M","bu","bezierutils","computeLength","tAtLength","quadratic","currentLen","splitCount","splitFunc","splitQBezierAtT","splitBezierAtT","_compute","error","pLen","newbezier","newBeziers","splitCBezierAtT","r2","t2","p1x","p1y","p2x","p2y","px","r3","t3","c1x","c1y","c2x","c2y","gs","ga","decompose","bezierUtils","canvas","pattrnbuffer","mp","pi","halfPI","global","CanvasRenderingContext2D","ctx2d","getContext","hasNativeDash","setLineDash","hasFillText","fillText","dasharray","solid","shortdash","shortdot","shortdashdot","shortdashdotdot","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","drawDashedArc","ctx","sa","ea","ccw","prevResidue","residue","beginPath","splitToDashedBezier","dashArray","newPoints","curves","toDashedCurveTo","pts","api","canvasDash","toDashedLineTo","dal","tlength","prevx","prevy","Shape","_render","save","_renderTransform","_renderClip","_renderShape","_renderFill","_renderStroke","restore","canvasClip","clip","canvasTransform","angle2","angle1","fs","fillStyle","iw","canvasFillImage","ih","copyctx","clearRect","drawImage","canvasFill","createPattern","strokeStyle","lineWidth","lineCap","lineJoin","miterLimit","_renderDashedStroke","getEventSource","on","clipType","makeClip","geometry","canvasEllipse","makeEllipse","Ellipse","Rect","canvasPath","makeClipPath","canvasPolyline","Polyline","geo","Path","_setPath","modifyMethod","extra","createLinearGradient","createRadialGradient","addColorStop","img","Image","downloadImage","_needsDash","Container","_init","xl","xr","yt","yb","xl2","xr2","yt2","yb2","bezierCircle","u","rotateg","_dashedPoints","bezierCurveTo","Circle","Line","_normalizePoints","canvasImage","_setFont","fontStyle","canvasFont","measureText","strokeText","pathRenderers","L","H","V","C","S","Q","q","T","A","Z","lastControl","_dashedPath","segmented","_confirmSegmented","_dashResidue","_updateWithSegment","_moveToA","doDash","_moveToR","_lineToA","_lineToR","_hLineToA","_hLineToR","_vLineToA","_vLineToR","_curveToA","_curveToR","_smoothCurveToA","valid","_smoothCurveToR","_qCurveToA","_qCurveToR","_qSmoothCurveToA","_qSmoothCurveToR","_arcTo","relative","arcs","_closePath","_setText","pendingImageCount","force","pendingRender","pendingImagesCount","_batch","url","handler","onImageLoad","onload","onerror","onabort","onImagesLoaded","ownerDocument","_parent","openBatch","closeBatch","silently","_moveChildToFront","_moveChildToBack","Creator","createObject","shapeType","rawShape","fixTarget","gfxElement","calcFromValues","r1","m1","m2","scaleSign","eigenvalueDecomposition","l1","l2","vx1","vy1","vx2","vy2","d1","d2","value1","value2","vector1","vector2","decomposeSR","sign","decomposeRS","MT","Matrix2D","transpose","U","VT","Hub","fxg","InterpolNumber","InterpolUnit","units","InterpolColor","temp","InterpolValues","InterpolObject","InterpolTransform","original","blendColors","transfMatrix","transparent","getColorInterpol","animateStroke","_defaultEasing","getNumberInterpol","animateFill","animateFont","getTransform","handlers","__svgContainer","__svgRoot","__svgWidth","ov","sn","root","removeAttribute","pt","projection","project","pf1","pf2","prev","findColor","_degToRadCache","degree","_radToDeg","radian","identity","flipX","flipY","flipXY","skewX","tan","skewXg","skewY","skewYg","reflect","a2","b2","n2","isIdentity","D","_multiplyPoint","multiplyRectangle","minx","miny","multiply","_sandwich","scaleAt","rotateAt","skewXAt","skewXgAt","skewYAt","skewYgAt","tbbox","absolute","mode","getAbsoluteMode","_getRealBBox","_getRealMatrix","getLastPosition","_applyTransform","_updateBBox","_validSegments","_pushSegment","_collectArgs","hLineTo","vLineTo","curveTo","smoothCurveTo","qCurveTo","qSmoothCurveTo","match","lazyPathSegmentation","_2PI","getText","newFont","matrixLib","removeItemAt","parentMatrix","uid","register","getUID","__gfxObject__","getNode","getTransformedBoundingBox","gm","getClip","_moveToFront","_moveToBack","applyRightTransform","applyLeftTransform","applyTransform","_setParent","_updateParentMatrix","_eventsProcessing","listener","fixCallback","token","fixFunction","scope","isString","oldParent","bb","endX","endY","lastChild","isLoaded","onLoad","whenLoaded","context","once","closed","createShape","createEllipse","createImage","createTextPath","ellipse","image","jsonLib","Deferred","config","gu","serialize","isSurface","toJson","prettyPrint","deserialize","fromJson","json","toSvg","deferred","_cleanSvg","_innerXML","callback","errback","_initSvgSerializerDeferred","_initSvgSerializer","jsonForm","serializer","sDim","_gfxSvgProxy","withDoc","ex","fired","addCallback","_svgSerializerInitialized","intv","onreadystatechange","contentWindow","readyState","setInterval","scopeMap","clearInterval","uri","toUrl","innerXML","xml","XMLSerializer","serializeToString","lambda","hasNext","first","foldr1","reduce","reduceRight","unfold","pr","lcache","sep","exec","sects","vars","rawLambda","buildLambda","Function","clearLambdaCache","filterIn","mapIn","filterRev","mapRev","everyRev","someRev","opts","Object","coerceType","eval","conv","pattern","otype","mtype","Stateful","inputFormat","outputFormat","sourceToTarget","targetToSource","levels","formatIn","formatOut","map1","map2","stMap","lvMap","initMaps","checkParameters","bdx","BDX","orientIn","getOrientation","orientOut","inFormat","outFormat","swap","defInFormat","defOutFormat","defSwap","stage1Text","doBidiReorder","sourceMap","reverseMap","tsMap","compress","str06","Ix","nIEnd","compressArray","previousCursive","compressArrayIndx","isArabicAlefbet","isArabicDiacritics","isNextAlef","getLamAlefFE","LamAlefInialTableFE","LamAlefMedialTableFE","setAlefToSpace","currentChr","isNextArabic","getMedialFormCharacterFE","getFormCharacterFE","FinalForm","InitialForm","IsolatedForm","isStandAlonCharacter","doShape","outBuf","updateMap","consumeNextSpace","strFE","increase","chNum","charCodeAt","AlefTable","FETo06Table","deshape","_inputFormatSetter","validFormat","_outputFormatSetter","firstStrongDir","bidiChars","inOrdering","inOrientation","outOrdering","outOrientation","chars","lastStrongDir","prepareReorderingParameters","LTR","doReorder","RTL","invertStr","saveSwap","fdc","computeLevels","hiLevel","getMirror","swapChars","invertLevel","ch","uc","impTab","impTabRtl","impTabLtr","prevState","newClass","newLevel","newState","condPos","ix","types","classes","lastArabic","hasUbatAl","hasUbatB","hasUbatS","MasterTable","TBBASE","UnicodeTable","getCharClass","ITIL","ITCOND","UBAT_B","UBAT_S","UBAT_WS","handleUbatS","cArray","cLength","ArabicAlefBetIntervalsBegine","ArabicAlefBetIntervalsEnd","lev","cType","UBAT_L","UBAT_R","UBAT_ON","UBAT_AN","UBAT_EN","UBAT_AL","UBAT_CS","wType","nType","UBAT_ES","UBAT_ET","UBAT_NSM","rtlCandidate","UBAT_LRE","UBAT_RLE","UBAT_LRO","UBAT_RLO","UBAT_PDF","UBAT_BN","TYPES_NAMES","SwapTable","StandAlonForm","BaseForm","MedialForm","formArr","oc","alef06","LamAlefForm","isGreater","defoutFormat","hasBlockSep","hasSegSep","ES","BN"],"sourceRoot":""}